<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Overview</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Programmer's Guía de Referencia">
<link rel="up" href="zend.memory.html" title="Zend_Memory">
<link rel="prev" href="zend.memory.html" title="Zend_Memory">
<link rel="next" href="zend.memory.memory-manager.html" title="Memory Manager">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Overview</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.memory.html">Anterior</a> </td>
<th width="60%" align="center">Zend_Memory</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.memory.memory-manager.html">Siguiente</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.memory.overview"></a>Overview</h2></div></div></div>
    

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.memory.introduction"></a>Introduction</h3></div></div></div>
        

        <p>
            The <code class="classname">Zend_Memory</code> component is intended to manage data in an
            environment with limited memory.
        </p>

        <p>
            Memory objects (memory containers) are generated by memory manager
            by request and transparently swapped/loaded when it's necessary.
        </p>

        <p>
            For example, if creating or loading a managed object would cause
            the total memory usage to exceed the limit you specify, some
            managed objects are copied to cache storage outside of memory.
            In this way, the total memory used by managed objects does not
            exceed the limit you need to enforce.
        </p>

        <p>
            The memory manager uses
            <a class="link" href="zend.cache.backends.html" title="Zend_Cache Backends">Zend_Cache backends</a>
            as storage providers.
        </p>

        <div class="example">
<a name="zend.memory.introduction.example-1"></a><p class="title"><b>Ejemplo 598. Using Zend_Memory component</b></p>
<div class="example-contents">
            

            <p>
                <code class="methodname">Zend_Memory::factory()</code> instantiates the memory
                manager object with specified backend options.
            </p>

            <pre class="programlisting">
$backendOptions = array(
    'cache_dir' =&gt; './tmp/' // Directory where to put the swapped memory blocks
);

$memoryManager = Zend_Memory::factory('File', $backendOptions);

$loadedFiles = array();

for ($count = 0; $count &lt; 10000; $count++) {
    $f = fopen($fileNames[$count], 'rb');
    $data = fread($f, filesize($fileNames[$count]));
    $fclose($f);

    $loadedFiles[] = $memoryManager-&gt;create($data);
}

echo $loadedFiles[$index1]-&gt;value;

$loadedFiles[$index2]-&gt;value = $newValue;

$loadedFiles[$index3]-&gt;value[$charIndex] = '_';
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.memory.theory-of-operation"></a>Theory of Operation</h3></div></div></div>
        

        <p>
            <code class="classname">Zend_Memory</code> component operates with the following concepts:

            </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>Memory manager</p>
                </li>
<li class="listitem">
                    <p>Memory container</p>
                </li>
<li class="listitem">
                    <p>Locked memory object</p>
                </li>
<li class="listitem">
                    <p>Movable memory object</p>
                </li>
</ul></div>
<p>
        </p>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.memory.theory-of-operation.manager"></a>Memory manager</h4></div></div></div>
            

            <p>
                The memory manager generates memory objects (locked or movable)
                by request of user application and returns them wrapped into
                a memory container object.
            </p>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.memory.theory-of-operation.container"></a>Memory container</h4></div></div></div>
            

            <p>
                The memory container has a virtual or actual <span class="property">value</span>
                attribute of string type. This attribute contains the data value
                specified at memory object creation time.
            </p>

            <p>
                You can operate with this <span class="property">value</span> attribute as
                an object property:
            </p>

            <pre class="programlisting">
$memObject = $memoryManager-&gt;create($data);

echo $memObject-&gt;value;

$memObject-&gt;value = $newValue;

$memObject-&gt;value[$index] = '_';

echo ord($memObject-&gt;value[$index1]);

$memObject-&gt;value = substr($memObject-&gt;value, $start, $length);
</pre>

            <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Nota</th>
</tr>
<tr><td align="left" valign="top">
                <p>
                    If you are using a <acronym class="acronym">PHP</acronym> version earlier than 5.2, use the
                    <a class="link" href="zend.memory.memory-objects.html#zend.memory.memory-objects.api.getRef" title="getRef() method">getRef()</a>
                    method instead of accessing the value property directly.
                </p>
            </td></tr>
</table></div>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.memory.theory-of-operation.locked"></a>Locked memory</h4></div></div></div>
            

            <p>
                Locked memory objects are always stored in memory.
                Data stored in locked memory are never swapped to the cache
                backend.
            </p>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.memory.theory-of-operation.movable"></a>Movable memory</h4></div></div></div>
            

            <p>
                Movable memory objects are transparently swapped and loaded
                to/from the cache backend by <code class="classname">Zend_Memory</code> when it's necessary.
            </p>

            <p>
                The memory manager doesn't swap objects with size less than
                the specified minimum, due to performance considerations.
                See <a class="link" href="zend.memory.memory-manager.html#zend.memory.memory-manager.settings.min-size" title="MinSize">this section</a>
                for more details.
            </p>
        </div>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.memory.html">Anterior</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.memory.html">Subir</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.memory.memory-manager.html">Siguiente</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Zend_Memory </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td>
<td width="40%" align="right" valign="top"> Memory Manager</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
