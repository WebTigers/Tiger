<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Creando formularios usando Zend_Form</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Programmer's Guía de Referencia">
<link rel="up" href="zend.form.html" title="Zend_Form">
<link rel="prev" href="zend.form.elements.html" title="Creando elementos de formulario usando Zend_Form_Element">
<link rel="next" href="zend.form.decorators.html" title="Creando un personalizado marcado de formulario usando Zend_Form_Decorator">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Creando formularios usando Zend_Form</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.form.elements.html">Anterior</a> </td>
<th width="60%" align="center">Zend_Form</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.form.decorators.html">Siguiente</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.form.forms"></a>Creando formularios usando Zend_Form</h2></div></div></div>
    

    <p> La clase <code class="classname">Zend_Form</code> es usada para agregar
        elementos de formulario, desplegar grupos y subformularios. Éstos pueden
        ejecutar las siguientes acciones en estos elementos: </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>Validación, incluyendo la recuperación de código y mensajes de
                error</p>
        </li>
<li class="listitem">
            <p>Agregación de valor, incluyendo el llenado de elementos y
                recuperación de valores tanto filtrados como no filtrados para
                todos los elementos</p>
        </li>
<li class="listitem">
            <p>Iteración sobre todos los elementos, en el orden en el cual
                han sido introducidos o basados en el orden recuperado de cada
                elemento</p>
        </li>
<li class="listitem">
            <p>Generando el formulario entero, ya sea por un simple decorador
                que ejecuta un muestreo personalizado o por iteración sobre cada
                elemento del formulario</p>
        </li>
</ul></div>

    <p> Mientras los formularios creados con <code class="classname">Zend_Form</code>
        pueden ser complejos, probablemente su mejor uso es para formularios
        simples; es mejor utilizarlo para desarrollar aplicaciones rápidas (RAD)
        y de prototipado. </p>

    <p>En lo más básico, simplemente instancie el objeto formulario:</p>

    <pre class="programlisting">
// Objeto form genérico:
$form = new Zend_Form();

// Objeto form personalizado:
$form = new My_Form()
</pre>

    <p>Opcionalmente puede pasarlo en la configuración, la cual será usada
        para establecer el estado del objeto, potencialmente así como también
        crear nuevos elementos:</p>

    <pre class="programlisting">
// Pasando opciones en la configuración:
$form = new Zend_Form($config);
</pre>

    <p>
        <code class="classname">Zend_Form</code> es iterable, e iterará sobre elementos,
        grupos que mostrar y subformularios, usando el orden en el cual han sido
        registrados y en cualquier índice de orden que cada uno pueda tener.
        Esto es útil en casos donde desee generar los elementos manualmente en
        el orden apropiado. </p>

    <p> La magia de <code class="classname">Zend_Form</code> radica en la habilidad
        para servir como fábrica para elementos y grupos, así como también la
        habilidad de generarse a sí mismo a través de decoradores. </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.plugins"></a>Cargadores de Plugin</h3></div></div></div>
        
        <p>
            <code class="classname">Zend_Form</code> hace uso de
                <code class="classname">Zend_Loader_PluginLoader</code> para permitir a
            los desarroladores especificar la ubicación de elementos y
            decoradores alternativos. Cada uno tiene su propio plugin loader
            asociado, y métodos de acceso genéricos son usados para recuperar y
            modificar cada uno. </p>

        <p>Los siguientes tipos de cargadores son usados con los variados
            métodos del plugin loader: 'element' y 'decorator'. Los nombres de
            los tipos no distinguen mayúsculas de minúsculas.</p>

        <p>Los métodos usados para interactuar con plugin loaders son los
            siguientes:</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">setPluginLoader($loader, $type)</code> :
                    $loader es el propio objeto plugin loader, mientras
                        <code class="varname">$type</code> es uno de los tipos
                    especificados arriba. Esto establece el plugin loader para
                    el tipo dado al objeto loader recién especificado. </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">getPluginLoader($type)</code> : recupera
                    el plugin loader asociado con <code class="varname">$type</code> .
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">addPrefixPath($prefix, $path, $type =
                        null)</code> : agrega una asociación prefijo/ruta
                    al loader especificado por <code class="varname">$type</code> . Si
                        <code class="varname">$type</code> es nulo, intentará añadir una
                    ruta a todos los loaders, añadiendo el prefijo "_Element" y
                    "_Decorator"; y añadiendo la ruta con "Element/" y
                    "Decorator/". Si tiene todas sus clases form element extras
                    bajo una jerarquía común, éste es un método coveniente para
                    establecer el prefijo de base para ellas. </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">addPrefixPaths(array $spec)</code> : le
                    permite añadir varias rutas en uno o mas plugin loaders. Se
                    espera que cada elemento del array sea un array con las
                    claves 'path', 'prefix' y 'type'. </p>
            </li>
</ul></div>

        <p> Adicionalmente, puede especificar prefijos de rutas para todos
            los elementos y mostrar grupos creados a través de una instancia de
                <code class="classname">Zend_Form</code> usando los siguientes métodos: </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">addElementPrefixPath($prefix, $path, $type =
                        null)</code> : Igual que
                        <code class="methodname">addPrefixPath()</code> , debe
                    especificar un prefijo y ruta de clase.
                        <code class="varname">$type</code> , cuando se especifica, tiene
                    que ser uno de los tipos plugin loader especificados por
                        <code class="classname">Zend_Form_Element</code> ; vea la <a class="link" href="zend.form.elements.html#zend.form.elements.loaders" title="Cargadores de Plugin">sección elemento
                        plugins </a> para más información de valores válidos
                    para <code class="varname">$type</code> . Si <code class="varname">$type</code>
                    no es especificado, el método asumirá que es un prefijo
                    general para todos los tipos. </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">addDisplayGroupPrefixPath($prefix,
                        $path)</code> : Igual que
                        <code class="methodname">addPrefixPath()</code> , debe
                    especificar un prefijo y ruta de clase; sin embargo, dado
                    que los grupos de visualización (display groups) sólo
                    soportan decoradores como plugins, <code class="varname">$type</code>
                    no es necesario. </p>
            </li>
</ul></div>

        <p> Elementos y decoradores personalizados son una manera fácil de
            compartir funcionalidad entre formularios y encapsular funcionalidad
            personalizada. Vea el <a class="link" href="zend.form.elements.html#zend.form.elements.loaders.customLabel" title="Ejemplo 437. Etiqueta personalizada">ejemplo de
                Etiqueta Personalizada</a> en la documentación de elementos
            para un ejemplo de cómo elementos personalizados pueden ser usados
            como reemplazos para clases estándar. </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.elements"></a>Elementos</h3></div></div></div>
        
        <p>
            <code class="classname">Zend_Form</code> proporciona varios métodos de
            acceso para añadir y eliminar elementos de el formulario. Éstos
            pueden tomar instancias de objetos de elemento o servir como
            fábricas para instanciar el objeto elemento a sí mismo. </p>

        <p> El método más básico para añadir un elemento es
                <code class="methodname">addElement()</code> . Este método puede tomar
            también un objeto de tipo <code class="classname">Zend_Form_Element</code>
            (o de una clase extendiendo <code class="classname">Zend_Form_Element</code>
            ), o argumentos para construir un nuevo elemento -- incluyendo el
            elemento tipo, nombre y algunas opciones de configuración. </p>

        <p>Como algunos ejemplos:</p>

        <pre class="programlisting">
// Usando un elemento instanciado:
$element = new Zend_Form_Element_Text('foo');
$form-&gt;addElement($element);

// Usando una fábrica
//
// Crea un elemento de tipo Zend_Form_Element_Text con el
// nombre de 'foo':
$form-&gt;addElement('text', 'foo');

// Pasa una opción etiqueta al elemento:
$form-&gt;addElement('text', 'foo', array('label' =&gt; 'Foo:'));
</pre>

        <div class="note"><table border="0" summary="Note: addElement() Implementa una Interfaz Fluida">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">addElement() Implementa una Interfaz Fluida</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                <code class="methodname">addElement()</code> implementa una interfaz
                fluida; es decir, retorna el objeto
                    <code class="classname">Zend_Form</code> y no un elemento. Esto se
                ha hecho para permitirle encadenar multiples métodos
                addElement() u otros métodos formulario que implementen una
                interfaz fluida (todos los establecedores en Zend_Form
                implementan el patrón). </p>

            <p> Si desea retornar el elemento, use
                    <code class="methodname">createElement()</code> , el cual es
                esbozado abajo. Tenga en cuenta de cualquier manera que
                    <code class="methodname">createElement()</code> no adjunta el
                elemento al formulario. </p>

            <p> Internamente, <code class="methodname">addElement()</code> en
                realidad emplea <code class="methodname">createElement()</code> para
                crear el elemento antes de adjuntarlo al formulario. </p>
        </td></tr>
</table></div>

        <p> Una vez que el elemento ha sido añadido al formulario, puede
            recuperarlo por el nombre. Puede también finalizar usando el método
                <code class="methodname">getElement()</code> o usando sobrecarga para
            acceder al elemento como una propiedad de objeto: </p>

        <pre class="programlisting">
// getElement():
$foo = $form-&gt;getElement('foo');

// Como propiedad del objeto:
$foo = $form-&gt;foo;
</pre>

        <p> Ocasionalmente, se quiere crear un elemento sin adjuntarlo al
            formulario (para instanciar, si se desea hacer uso de las rutas de
            plugin introducidas con el formulario, pero después se desea
            adjuntar el objeto al subformulario). El método
                <code class="methodname">createElement()</code> permite hacer eso: </p>

        <pre class="programlisting">
// $username llega a ser un objeto Zend_Form_Element_Text:
$username = $form-&gt;createElement('text', 'username');
</pre>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.elements.values"></a>Llenar y recuperar valores</h4></div></div></div>
            

            <p> Después de validar el formulario, originalmente se necesitará
                recuperar los valores para poder ejecutar otras operaciones, tal
                como actualizar una base de datos o notificar un servicio web.
                Se pueden recuperar todos los valores para todos los elementos
                usando <code class="methodname">getValues()</code> ;
                    <code class="methodname">getValue($name)</code> le permite
                recuperar un solo valor del elemento por su nombre: </p>

            <pre class="programlisting">
// Obtener todos los valores:
$values = $form-&gt;getValues();

// Obtener sólo los valores del elemento 'foo':
$value = $form-&gt;getValue('foo');
</pre>

            <p> A veces se quiere llenar el formulario con valores
                especificos antes de generarlos. Éstos pueden ser llevados a
                cabo ya sea con los métodos
                    <code class="methodname">setDefaults()</code> o
                    <code class="methodname">populate()</code> : </p>

            <pre class="programlisting">
$form-&gt;setDefaults($data);
$form-&gt;populate($data);
</pre>

            <p> Por otro lado, si se quisera limpiar el formulario antes de
                llenarlo o validarlo; se puede realizar usando el método
                    <code class="methodname">reset()</code> : </p>

            <pre class="programlisting">
$form-&gt;reset();
</pre>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.elements.global"></a>Operaciones Globales</h4></div></div></div>
            

            <p>Ocasionalemnte se necesitarán ciertas operaciones que afecten
                a todos los elementos. Escenarios comunes incluyen la necesidad
                de determinar rutas de acceso al prefijo complemento para todos
                los elementos, determinando decoradores para todos los elementos
                y determinando filtros para todos los elementos. Como
                ejemplos:</p>

            <div class="example">
<a name="zend.form.forms.elements.global.allpaths"></a><p class="title"><b>Ejemplo 438. Determinando rutas de acceso de prefijos para todos los
                    elementos</b></p>
<div class="example-contents">
                

                <p>Se puede determinar rutas de acceso para prefijos para
                    todos los elementos por tipo, o usando un prefijo global.
                    Como ejemplos:</p>

                <pre class="programlisting">
// Determinar la ruta de acceso de prefijos global
// Crear rutas de acceso para los prefijos My_Foo_Filter, My_Foo_Validate,
// y My_Foo_Decorator
$form-&gt;addElementPrefixPath('My_Foo', 'My/Foo/');

// Sólo rutas de acceso de filtros:
$form-&gt;addElementPrefixPath('My_Foo_Filter',
                            'My/Foo/Filter',
                            'filter');

// Sólo rutas de acceso de validadores:
$form-&gt;addElementPrefixPath('My_Foo_Validate',
                            'My/Foo/Validate',
                            'validate');

// Sólo rutas de acceso de decoradores:
$form-&gt;addElementPrefixPath('My_Foo_Decorator',
                            'My/Foo/Decorator',
                            'decorator');
</pre>
            </div>
</div>
<br class="example-break">

            <div class="example">
<a name="zend.form.forms.elements.global.decorators"></a><p class="title"><b>Ejemplo 439. Determinando Decoradores para todos los elementos</b></p>
<div class="example-contents">
                

                <p> Se pueden determinar decoradores para todos los
                    elementos. <code class="methodname">setElementDecorators()</code>
                    acepta una matriz de decoradores, solo como
                        <code class="methodname">setDecorators()</code> , y reescribirá
                    cualquier decorador previamente determinado en cada
                    elemento. En este ejemplo, determinamos los decoradores para
                    simplificar una ViewHelper y una Label: </p>

                <pre class="programlisting">
$form-&gt;setElementDecorators(array(
    'ViewHelper',
    'Label'
));
</pre>
            </div>
</div>
<br class="example-break">

            <div class="example">
<a name="zend.form.forms.elements.global.decoratorsFilter"></a><p class="title"><b>Ejemplo 440. Determinando decoradores para algunos elementos</b></p>
<div class="example-contents">
                

                <p> Pueden determinarse también decoradores para un
                    subconjunto de elementos, ya sea por inclusión o exclusión.
                    El segundo argumento
                        <code class="methodname">setElementDecorators()</code> puede
                    ser un array de nombres de elemento; por defecto,
                    especificar un array de ese tipo determinará los decoradores
                    especificados en esos elementos solamente. Puede tambien
                    pasar un tercer elemento, una bandera indicando si esta
                    lista de elementos es para propósitos de inclusión o
                    exclusión; si es falso, decorará todos los elementos
                    <span class="emphasis"><em>excepto</em></span> los pasados en la lista,
                    Como uso estándar del método, cualquier decorador pasado
                    reescribirá cualquier decorador previamente determinado en
                    cada elemento. </p>

                <p>En el siguiente fragmento, indicamos que queremos los
                    decoradores ViewHelper y Label para los elementos 'foo' y
                    'bar':</p>

                <pre class="programlisting">
$form-&gt;setElementDecorators(
    array(
        'ViewHelper',
        'Label'
    ),
    array(
        'foo',
        'bar'
    )
);
</pre>

                <p> Por otro lado, con este fragmento, indicaremos que
                    queremos usar solamente los decoradores ViewHelper y Label
                    para cada elemento <span class="emphasis"><em>excepto</em></span> los
                    elementos 'foo' y 'bar': </p>

                <pre class="programlisting">
$form-&gt;setElementDecorators(
    array(
        'ViewHelper',
        'Label'
    ),
    array(
        'foo',
        'bar'
    ),
    false
);
</pre>
            </div>
</div>
<br class="example-break">

            <div class="note"><table border="0" summary="Note: Algunos Decoradores son Inapropiados para algunos
                    Elementos">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Algunos Decoradores son Inapropiados para algunos
                    Elementos</th>
</tr>
<tr><td align="left" valign="top">
                

                <p> Mientras <code class="methodname">setElementDecorators()</code>
                    puede parecer una buena solución, existen algunos casos
                    donde puede terminar con resultados inesperados, Por
                    ejemplo, los muchos elementos botones (Submit, Button,
                    Reset), actualmente usan la etiqueta como el valor del botón
                    y sólo usan los decoradores ViewHelper y DtDdWrapper --
                    previniendo una etiqueta adicional, errores, y sugerencias
                    de ser generadas; el ejemplo de arriba podría duplicar algún
                    contenido (la etiqueta). </p>

                <p>Se puede usar el array de inclusión/exclusión para superar
                    este problema como se ha notado en el ejemplo
                    anterior.</p>

                <p>Entonces, use este método sabiamente y dése cuenta de que
                    puede necesitar excluir o cambiar manualmente algunos
                    elementos decoradores para prevenir una salida no deseada.
                </p>
            </td></tr>
</table></div>

            <div class="example">
<a name="zend.form.forms.elements.global.filters"></a><p class="title"><b>Ejemplo 441. Determinando Filtros para todos los Elementos</b></p>
<div class="example-contents">
                

                <p> En muchos casos, puede quererse aplicar el mismo filtro a
                    todos los elementos; un caso común es
                        <code class="methodname">trim()</code> a todos los valores: </p>

                <pre class="programlisting">
$form-&gt;setElementFilters(array('StringTrim'));
</pre>
            </div>
</div>
<br class="example-break">
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.elements.methods"></a>Métodos para Interactuar con los Elementos</h4></div></div></div>
            

            <p>Los siguientes métodos pueden ser usados para interactuar con
                los elementos:</p>

            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>
                        <code class="methodname">createElement($element, $name = null,
                            $options = null)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addElement($element, $name = null, $options
                            = null)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addElements(array $elements)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setElements(array $elements)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getElement($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getElements()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">removeElement($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">clearElements()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setDefaults(array $defaults)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setDefault($name, $value)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getValue($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getValues()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getUnfilteredValue($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getUnfilteredValues()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setElementFilters(array
                            $filters)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setElementDecorators(array
                            $decorators)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addElementPrefixPath($prefix, $path, $type =
                            null)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addElementPrefixPaths(array
                            $spec)</code>
                    </p>
                </li>
</ul></div>
        </div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.displaygroups"></a>Grupos de visualización (display groups)</h3></div></div></div>
        

        <p>Los grupos de visualización (display groups) son una manera de
            crear grupos virtuales de elementos para propósitos de
            visualización. Todos los elementos quedan accesibles por nombre en
            el formulario, pero cuando interactúan o se ejecutan sobre el
            formulario, cualquiera de los elementos en un grupos de
            visualización son generados juntos. El caso más común de uso es
            agrupando los elementos en fieldsets. (TODO)</p>

        <p> La clase base para los grupos de visualización es
                <code class="classname">Zend_Form_DisplayGroup</code> . Mientras puede
            ser instanciado directamente, es mejor usar el método
                <code class="methodname">addDisplayGroup()</code> de la clase
                <code class="classname">Zend_Form</code> . Este método toma un array de
            elementos como primer argumento y el nombre para el grupo de
            visualización como segundo argumento. Opcionalmente, se puede pasar
            en una array de opciones o en un objeto
                <code class="classname">Zend_Config</code> como tercer argumento. </p>

        <p>Asumiendo que los elementos 'username' y 'password' has sido
            determinados en el formulario, el siguiente código podría agrupar
            estos elementos en un grupo de visualización 'login':</p>

        <pre class="programlisting">
$form-&gt;addDisplayGroup(array('username', 'password'), 'login');
</pre>

        <p> Puede acceder a los grupos de visualización usando el método
                <code class="methodname">getDisplayGroup()</code> , o mediante la
            sobrecarga usando el nombre del grupo de visualización: </p>

        <pre class="programlisting">
// Usando getDisplayGroup():
$login = $form-&gt;getDisplayGroup('login');

// Usando sobrecarga:
$login = $form-&gt;login;
</pre>

        <div class="note"><table border="0" summary="Note: Decoradores por defecto que no necesitan ser cargados">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Decoradores por defecto que no necesitan ser cargados</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>Por defecto, los grupos de visualización son cargados durante
                la inicialización del objeto. Se puede deshabilitar pasando la
                opción 'disableLoadDefaultDecorators' cuando se crea un grupo de
                visualización:</p>

            <pre class="programlisting">
$form-&gt;addDisplayGroup(
    array('foo', 'bar'),
    'foobar',
    array('disableLoadDefaultDecorators' =&gt; true)
);
</pre>

            <p> Esta opción puede ser una mezcla con otras opciones pasadas,
                ambas como opciones de array o en el objeto
                    <code class="classname">Zend_Config</code>
            </p>
        </td></tr>
</table></div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.displaygroups.global"></a>Operaciones Globales</h4></div></div></div>
            

            <p>Al igual que los elementos, existen algunas operaciones que
                pueden afectar a todos los grupos de visualización; éstas
                incluyen determinar decoradores y fijar la ruta de acceso donde
                buscar los decoradores.</p>

            <div class="example">
<a name="zend.form.forms.displaygroups.global.paths"></a><p class="title"><b>Ejemplo 442. Fijando el Prefijo de Ruta del Decorador para todos los
                    Grupos de Visualización</b></p>
<div class="example-contents">
                

                <p> Por defecto, los grupos de visualización heredan
                    cualquier ruta de decorador que use el formulario; sin
                    embargo, si deberían buscar en una ruta alternativa, puede
                    usar el método
                        <code class="methodname">addDisplayGroupPrefixPath()</code>
                    method. </p>

                <pre class="programlisting">
$form-&gt;addDisplayGroupPrefixPath('My_Foo_Decorator', 'My/Foo/Decorator');
</pre>
            </div>
</div>
<br class="example-break">

            <div class="example">
<a name="zend.form.forms.displaygroups.global.decorators"></a><p class="title"><b>Ejemplo 443. Fijando Decoradores para Todos los Grupos de
                    Visualización</b></p>
<div class="example-contents">
                

                <p> Pueden determinarse decoradores para todos los grupos de
                    visualización,
                        <code class="methodname">setDisplayGroupDecorators()</code>
                    admite un array de decoradores, al igual que
                        <code class="methodname">setDecorators()</code> , y
                    sobreescribirá cualquier conjunto de decoradores previo en
                    cada grupo de visualización. En este ejemplo, fijamos los
                    decoradores a un fieldset (el decorador FormElements es
                    necesario para asegurar que los elementos son iterador): </p>

                <pre class="programlisting">
$form-&gt;setDisplayGroupDecorators(array(
    'FormElements',
    'Fieldset'
));
</pre>
            </div>
</div>
<br class="example-break">
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.displaygroups.customClasses"></a>Usando Clases de Grupos de Visualización
                Personalizadas</h4></div></div></div>
            

            <p> Por defecto, <code class="classname">Zend_Form</code> utiliza la
                clase <code class="classname">Zend_Form_DisplayGroup</code> para grupos
                de visualización. Puede ocurrir que necesite extender esta clase
                con el fin de obtener una funcionalid personalizada.
                    <code class="methodname">addDisplayGroup()</code> no permite pasar
                una instancia determinada, pero permite especificar la clase que
                usar como una de sus opciones, usando la clave
                'displayGroupClass': </p>

            <pre class="programlisting">
// Use the 'My_DisplayGroup' class
$form-&gt;addDisplayGroup(
    array('username', 'password'),
    'user',
    array('displayGroupClass' =&gt; 'My_DisplayGroup')
);
</pre>

            <p> Si la clase no ha sido todavía cargada,
                    <code class="classname">Zend_Form</code> intentará cargarla a través
                de <code class="classname">Zend_Loader</code> . </p>

            <p>También puede especificar una clase de grupo de visualización
                por defecto para usar con el formulario, de forma que todos los
                grupos de visualización creados con el objeto formulario usen
                esa clase:</p>

            <pre class="programlisting">
// Use the 'My_DisplayGroup' class for all display groups:
$form-&gt;setDefaultDisplayGroupClass('My_DisplayGroup');
</pre>

            <p>Esta funcionalidad puede especificarse en configuraciones como
                'defaultDisplayGroupClass', y será cargada con antelación para
                asegurar que todos los grupos de visualización usen esa
                clase.</p>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.displaygroups.interactionmethods"></a>Métodos para Interactuar con Grupos de Visualización</h4></div></div></div>
            

            <p>Los siguientes métodos pueden ser usados para interactuar con
                el grupo de visualización:</p>

            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>
                        <code class="methodname">addDisplayGroup(array $elements, $name,
                            $options = null)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addDisplayGroups(array $groups)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setDisplayGroups(array $groups)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getDisplayGroup($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getDisplayGroups()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">removeDisplayGroup($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">clearDisplayGroups()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setDisplayGroupDecorators(array
                            $decorators)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addDisplayGroupPrefixPath($prefix,
                            $path)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setDefaultDisplayGroupClass($class)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getDefaultDisplayGroupClass($class)</code>
                    </p>
                </li>
</ul></div>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.displaygroups.methods"></a>Métodos Zend_Form_DisplayGroup</h4></div></div></div>
            

            <p>
                <code class="classname">Zend_Form_DisplayGroup</code> tiene los
                siguientes métodos, agrupados por tipo: </p>

            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>Configuración:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">setOptions(array
                                    $options)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setConfig(Zend_Config
                                    $config)</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>Metadatos:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">setAttrib($key, $value)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addAttribs(array
                                    $attribs)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setAttribs(array
                                    $attribs)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getAttrib($key)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getAttribs()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">removeAttrib($key)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">clearAttribs()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setName($name)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getName()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setDescription($value)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getDescription()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setLegend($legend)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getLegend()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setOrder($order)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getOrder()</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>Elementos:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">createElement($type, $name, array
                                    $options = array())</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addElement($typeOrElement, $name,
                                    array $options = array())</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addElements(array
                                    $elements)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setElements(array
                                    $elements)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getElement($name)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getElements()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">removeElement($name)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">clearElements()</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>Cargadores Complemento:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">setPluginLoader(Zend_Loader_PluginLoader
                                    $loader)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getPluginLoader()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addPrefixPath($prefix,
                                    $path)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addPrefixPaths(array
                                    $spec)</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>Decoratores:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">addDecorator($decorator, $options =
                                    null)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">addDecorators(array
                                    $decorators)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setDecorators(array
                                    $decorators)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getDecorator($name)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getDecorators()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">removeDecorator($name)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">clearDecorators()</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>Generadores:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">setView(Zend_View_Interface $view =
                                    null)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getView()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">render(Zend_View_Interface $view =
                                    null)</code>
                            </p>
                        </li>
</ul></div>
                </li>
<li class="listitem">
                    <p>I18n:</p>
                    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                            <p>
                                <code class="methodname">setTranslator(Zend_Translate_Adapter
                                    $translator = null)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">getTranslator()</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">setDisableTranslator($flag)</code>
                            </p>
                        </li>
<li class="listitem">
                            <p>
                                <code class="methodname">translatorIsDisabled()</code>
                            </p>
                        </li>
</ul></div>
                </li>
</ul></div>
        </div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.subforms"></a>Subformularios</h3></div></div></div>
        

        <p>Los Sub formularios sirven para diferentes propósitos:</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>Crear grupos de elementos lógicos. Dado que los sub
                    formularios son simplemente formularios, se pueden validar
                    subformularios como entidades individuales.</p>
            </li>
<li class="listitem">
                <p>Crear formularios multi-páginas. Dado que los sub
                    formularios son simplemente formularios, se puede deplegar
                    un sub formulario por separado por página, incrementando
                    formularios multi-páginas donde cada formulario tiene su
                    propia validación lógica. Solo una vez que todos los sub
                    formularios se validen, el formulario se consideraría
                    completo.</p>
            </li>
<li class="listitem">
                <p>Agrupaciones de visualización. Como grupos de
                    visualización, los sub formularios, cuando son generados
                    como parte de un formulario más grande, pueden ser usados
                    para agrupar elementos. Sea consciente, de todas maneras,
                    que el objeto formulario principal no tendrá conocimiento de
                    los elementos en un sub formulario.</p>
            </li>
</ul></div>

        <p> Un sub formulario puede ser un objeto
                <code class="classname">Zend_Form</code> o mas originalmente, un objeto
                <code class="classname">Zend_Form_SubForm</code> . éste último contiene
            decoradores apropiados para la inclusión en un formulario extenso
            (i.e., no se generan adicionales formulario etiquetas
                <acronym class="acronym">HTML</acronym> , pero si grupos de elementos). Para
            adjuntar un sub formulario, simplemente añádalo al formulario y déle
            un nombre: </p>

        <pre class="programlisting">
$form-&gt;addSubForm($subForm, 'subform');
</pre>

        <p> Se puede recuperar un sub formulario usando ya sea
                <code class="methodname">getSubForm($name)</code> o sobrecarga usando
            el nombre del sub formulario: </p>

        <pre class="programlisting">
// Usando getSubForm():
$subForm = $form-&gt;getSubForm('subform');

// Usando sobrecarga:
$subForm = $form-&gt;subform;
</pre>

        <p>Los Subformularios son incluidos en la interacción del formulario,
            sin embargo los elementos que lo contienen no lo son</p>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.subforms.global"></a>Operaciones Globales</h4></div></div></div>
            

            <p> Como los elementos y los grupos de visualización, existen
                algunas operaciones que pueden afectar a todos los sub
                formularios. A diferencia de los grupos de visualización y los
                elementos, sin embargo, los sub formularios heredan más
                funcionalidad del objeto formulario principal, y la única
                operación real que puede realizarse globalmente es determinar
                decoradores para sub formularios. Para este propósito, existe el
                método <code class="methodname">setSubFormDecorators()</code> . En el
                siguiente ejemplo, determinaremos el decorador para todos los
                subformularios que sera un simple campo (el decorador
                FormElements es necesario para asegurar que los elementos son
                iterados): </p>

            <pre class="programlisting">
$form-&gt;setSubFormDecorators(array(
    'FormElements',
    'Fieldset'
));
</pre>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.subforms.methods"></a>Métodos para interactuar con Sub Formularios</h4></div></div></div>
            

            <p>Los siguientes métodos pueden ser usados para interactuar con
                sub formularios:</p>

            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>
                        <code class="methodname">addSubForm(Zend_Form $form, $name, $order =
                            null)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addSubForms(array $subForms)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setSubForms(array $subForms)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getSubForm($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getSubForms()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">removeSubForm($name)</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">clearSubForms()</code>
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setSubFormDecorators(array
                            $decorators)</code>
                    </p>
                </li>
</ul></div>
        </div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.metadata"></a>Metadatos y Atributos</h3></div></div></div>
        

        <p> Mientras la utilidad de un formulario primariamente deriva de los
            elementos que contiene, también pueden contener otros metadatos,
            como un nombre (usado a menudo como ID único en el marcado
                <acronym class="acronym">HTML</acronym> ); la accion y el método del formulario;
            el número de elementos, grupos y sub formularios que lo contienen; y
            arbitrariamente metadatos (usualmente usados para determinar
            atributos <acronym class="acronym">HTML</acronym> para la etiqueta del propio
            formulario). </p>

        <p>Se puede determinar y recuperar el nombre del formulario usando el
            accesor nombre:</p>

        <pre class="programlisting">
// Determinar el nombre:
$form-&gt;setName('registration');

// Recuperar el nombre:
$name = $form-&gt;getName();
</pre>

        <p>Para determinar la acción (url en el cual se envia el formulario)
            y método (método por el cual debería enviar, ej. 'POST' or 'GET'),
            use los accesores acción y método:</p>

        <pre class="programlisting">
// Determinar la acción y método:
$form-&gt;setAction('/user/login')
     -&gt;setMethod('post');
</pre>

        <p> Se puede también especificar el tipo de codificación del
            fomulario usando el enctype accessors. Zend_Form define dos
            constantes, <code class="constant">Zend_Form::ENCTYPE_URLENCODED</code> y
                <code class="constant">Zend_Form::ENCTYPE_MULTIPART</code> ,
            correspondiente a los valores 'application/x-www-form-urlencoded' y
            'multipart/form-data', respectivamente; sin embargo, puede
            configurarlo con cualquier tipo de codificación. </p>

        <pre class="programlisting">
// Determinar la acción, método y enctype:
$form-&gt;setAction('/user/login')
     -&gt;setMethod('post')
     -&gt;setEnctype(Zend_Form::ENCTYPE_MULTIPART);
</pre>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Nota</th>
</tr>
<tr><td align="left" valign="top">
            <p>El método, acción y enctype son solo usados internamente para
                generar, y no para algún tipo de validación.</p>
        </td></tr>
</table></div>

        <p>
            <code class="classname">Zend_Form</code> implementa la interfaz
                <code class="methodname">Countable</code> permitiéndole pasarlo como un
            argumento para contar: </p>

        <pre class="programlisting">
$numItems = count($form);
</pre>

        <p> Determinar metadatos arbitrariamente se realiza a través de los
            accesores 'atribs'. Dado que la sobrecarga en
                <code class="classname">Zend_Form</code> es usada para acceder
            elementos, grupos de visualización y subformularios, este es el
            único método para acceder a los metadatos. </p>

        <pre class="programlisting">
// Determinando atributos:
$form-&gt;setAttrib('class', 'zend-form')
     -&gt;addAttribs(array(
         'id'       =&gt; 'registration',
         'onSubmit' =&gt; 'validate(this)',
     ));

// Recuperando atributos:
$class = $form-&gt;getAttrib('class');
$attribs = $form-&gt;getAttribs();

// Removiendo atributos:
$form-&gt;removeAttrib('onSubmit');

// Limpiando todos los atributos:
$form-&gt;clearAttribs();
</pre>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.decorators"></a>Decoradores</h3></div></div></div>
        

        <p> Crear el marcado para un formulario es a menudo una tarea que
            consume mucho tiempo, particularmente si se planea reusar el mismo
            marcado para mostrar acciones tales como validación de errores,
            enviar valores, etc. La respuesta de
                <code class="classname">Zend_Form</code> a este problema es los
                <span class="emphasis"><em>decoradores</em></span> . </p>

        <p> Los decoradores para objetos <code class="classname">Zend_Form</code>
            pueden ser usados para generar un formulario. El decorador
            FormElements iterará a través de todos los elementos en un
            formulario -- elementos, grupos de visualización y subformularios --
            y los generará, devolviendo el resultado. Adicionalmente, los
            decoradores pueden ser usados para envolver el contenido o
            anteponerlo o postponerlo. </p>

        <p> Los decoradores por defecto de <code class="classname">Zend_Form</code>
            son FormElements, HtmlTag (envuelve una lista de definición) y Form;
            el código equivalente para crearlos es como sigue: </p>

        <pre class="programlisting">
$form-&gt;setDecorators(array(
    'FormElements',
    array('HtmlTag', array('tag' =&gt; 'dl')),
    'Form'
));
</pre>

        <p>Que crea la salida como sigue:</p>

        <pre class="programlisting">
&lt;form action="/form/action" method="post"&gt;
&lt;dl&gt;
...
&lt;/dl&gt;
&lt;/form&gt;
</pre>

        <p> Algunos de los atributos se determinan en el objeto formulario
            que será usado como atributos <acronym class="acronym">HTML</acronym> de la etiqueta
                <code class="methodname">&lt;form&gt;</code> . </p>

        <div class="note"><table border="0" summary="Note: Decoradores por defecto que no necesitan ser cargados">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Decoradores por defecto que no necesitan ser cargados</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>Por defecto, el decorador por defecto son cargados durante la
                inicialización del objeto. Puede deshabilitarlo pasando la
                opción 'disableLoadDefaultDecorators' al constructor:</p>

            <pre class="programlisting">
$form = new Zend_Form(array('disableLoadDefaultDecorators' =&gt; true));
</pre>

            <p> Esta opción puede ser combinada con alguna otra opción que
                usted pueda pasar, tanto como opciones de array o en un objeto
                    <code class="classname">Zend_Config</code>
            </p>
        </td></tr>
</table></div>

        <div class="note"><table border="0" summary="Note: Usando multiples decoradores del mismo tipo">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Usando multiples decoradores del mismo tipo</th>
</tr>
<tr><td align="left" valign="top">
            

            <p> Internamente, <code class="classname">Zend_Form</code> usa una clase
                decorador como un mecanismo buscador cuando se recuperan
                decoradores. Como resultado, no se pueden registrar multiples
                decoradores del mismo tipo; subsecuentemente los decoradores
                simplemente sobrescribirán esos decoradores que existían antes. </p>

            <p> Para conseguir esto, se pueden usar alias. En vez de pasar un
                decorador o un nombre de decorador como primer argumento a
                    <code class="methodname">addDecorator()</code> , pase un array con
                un solo elemento, con el alias apuntando al objeto decorador o
                nombre: </p>

            <pre class="programlisting">
// Alias para 'FooBar':
$form-&gt;addDecorator(array('FooBar' =&gt; 'HtmlTag'), array('tag' =&gt; 'div'));

// y recuperarlo después:
$form = $element-&gt;getDecorator('FooBar');
</pre>

            <p> En los métodos <code class="methodname">addDecorators()</code> y
                    <code class="methodname">setDecorators()</code> , se necesitará
                pasar la opción 'decorator' en el array representando el
                decorador: </p>

            <pre class="programlisting">
// Añadir dos decoradores 'HtmlTag', poniendo un alias a 'FooBar':
$form-&gt;addDecorators(
    array('HtmlTag', array('tag' =&gt; 'div')),
    array(
        'decorator' =&gt; array('FooBar' =&gt; 'HtmlTag'),
        'options' =&gt; array('tag' =&gt; 'dd')
    ),
);

// y recuperándolo después:
$htmlTag = $form-&gt;getDecorator('HtmlTag');
$fooBar  = $form-&gt;getDecorator('FooBar');
</pre>
        </td></tr>
</table></div>

        <p>Puede crear su propio decorador para generar el formulario. Un
            caso de uso común es si sabe el HTML exacto que desea usar; su
            decorador puede crear el mismo HTML y simplemente retornarlo,
            potencialmente usando los decoradores de individuales elementos o
            grupos de visualización.</p>

        <p>Los siguientes métodos puden ser usados para interactuar con
            decoradores:</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">addDecorator($decorator, $options =
                        null)</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">addDecorators(array $decorators)</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setDecorators(array $decorators)</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">getDecorator($name)</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">getDecorators()</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">removeDecorator($name)</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">clearDecorators()</code>
                </p>
            </li>
</ul></div>

        <p>
            <code class="classname">Zend_Form</code> también usa sobrecarga que permite
            generar decoradores específicos. <code class="methodname">__call()</code>
            interceptará métodos que lleve con el texto 'render' y use el resto
            del nombre del método para buscar un decorador; si se encuentran,
            serán generados por un <span class="emphasis"><em>solo</em></span> decorador.
            Cualquier argumento pasado a la llamada del método será usado como
            contenido que pasar al método <code class="methodname">render()</code> del
            decorador. Como ejemplo: </p>

        <pre class="programlisting">
// Generar solo los decoradores FormElements:
echo $form-&gt;renderFormElements();

// Generar solo el campo decorador, pasando el contenido:
echo $form-&gt;renderFieldset("&lt;p&gt;This is fieldset content&lt;/p&gt;");
</pre>

        <p>Si el decorador no existe, una excepción se creará.</p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.validation"></a>Validación</h3></div></div></div>
        

        <p> Un caso de uso primario para formularios es validar datos
            enviados. <code class="classname">Zend_Form</code> le permite validar un
            formulario entero de una vez, o una parte de él, asi como también
            automatizar las respuestas de validación para XmlHttpRequests
            (AJAX). Si los datos enviados no son válidos, contiene métodos para
            recuperar los distintos códigos errores y los mensajes de elementos
            y subformularios de validaciones fallidas. </p>

        <p> Para validar un formulario entero, use el método
                <code class="methodname">isValid()</code> : </p>

        <pre class="programlisting">
if (!$form-&gt;isValid($_POST)) {
    // validación fallida
}
</pre>

        <p>
            <code class="methodname">isValid()</code> validará cada elemento requerido,
            y algún elemento no requerido contenido en la data sometida. </p>

        <p> Algunas veces se necesitará validar sólo un subset del dato; para
            esto use <code class="methodname">isValidPartial($data)</code> : </p>

        <pre class="programlisting">
if (!$form-&gt;isValidPartial($data)) {
    // validación fallida
}
</pre>

        <p>
            <code class="methodname">isValidPartial()</code> sólo intenta validar
            aquellos elementos en la información para los cuales existen
            similares elementos; si un elemento es no representado en la
            información, es pasado por alto. </p>

        <p> Cuando se validan elementos o grupos de elementos para un
            requeirimiento <acronym class="acronym">AJAX</acronym> , típicamente se validará un
            subset del formulario, y quiere la respuesta en
                <acronym class="acronym">JSON</acronym> . <code class="methodname">processAjax()</code>
            precisamente realiza eso: </p>

        <pre class="programlisting">
$json = $form-&gt;processAjax($data);
</pre>

        <p> Entonces, puede simplemente enviar la respuesta
                <acronym class="acronym">JSON</acronym> al cliente. Si el formulario es válido,
            ésta será una respuesta booleana. Si no, será un objeto javascript
            conteniendo pares de clave/mensaje, donde cada 'message' es un array
            de validación de mensajes de error. </p>

        <p> Para los formularios que fallan la validación, se pueden
            recuperar ambos códigos de error y mensajes de error, usando
                <code class="methodname">getErrors()</code> y
                <code class="methodname">getMessages()</code> , respectivamente: </p>

        <pre class="programlisting">
$codes = $form-&gt;getErrors();
$messages = $form-&gt;getMessage();
</pre>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Nota</th>
</tr>
<tr><td align="left" valign="top">
            <p> Dado que los mensajes devueltos por
                    <code class="methodname">getMessages()</code> son un array de pares
                de errores código/mensaje, <code class="methodname">getErrors()</code>
                no es necesario. </p>
        </td></tr>
</table></div>

        <p>Puede recuperar códigos y mensajes de error para elementos
            individuales simplemente pasando el nombre del elemento a cada
            uno:</p>

        <pre class="programlisting">
$codes = $form-&gt;getErrors('username');
$messages = $form-&gt;getMessages('username');
</pre>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Nota</th>
</tr>
<tr><td align="left" valign="top">
            <p> Nota: Cuando validamos elementos,
                    <code class="classname">Zend_Form</code> envía un segundo argumento
                a cada método <code class="methodname">isValid()</code> del elemento:
                el array de los datos que se están validando. Esto puede ser
                usado por validadores individuales para permitirles utilizar
                otros valores enviados al determinar la validez de los datos. Un
                ejemplo sería un formulario de registro que requiere tanto una
                contraseña como una confirmación de la contraseña; el elemento
                contraseña puede usar la confirmación de la contraseña como
                parte de su validación. </p>
        </td></tr>
</table></div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.validation.errors"></a>Mensajes de error personalizados</h4></div></div></div>
            

            <p>A veces, puede querer especificar uno o más mensajes de error
                en vez de los mensajes de error generados por los validadores
                adjuntos a los elementos. Adicionalmente, a veces puede querer
                marcar el formulario inválido usted mismo. Como 1.6.0, esta
                funcionalidad es posible siguiendo los métodos. At times, you
                may want to specify one or more specific error messages to use
                instead of the error messages generated by the validators
                attached to your elements. Additionally, at times you may want
                to mark the form invalid yourself. As of 1.6.0, this
                functionality is possible via the following methods.</p>

            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                    <p>
                        <code class="methodname">addErrorMessage($message)</code> :
                        añade un mensaje de error para desplegar en el
                        formulario los errores de validación. Se debe llamar más
                        de una vez, y los nuevos mensajes son adicionados a la
                        pila. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addErrorMessages(array
                            $messages)</code> : añade múltiples mensajes
                        de error para desplegar en el formulario los errores de
                        validación </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setErrorMessages(array
                            $messages)</code> : añade multiples mensajes
                        de error para desplegar en el formulario los errores de
                        validación, sobrescribiendo todos los mensajes de error
                        previamente determinados. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">getErrorMessages()</code> : recupera
                        la lista de mensajes de error personalizados que han
                        sido definidos. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">clearErrorMessages()</code> : remueve
                        todos los mensajes de error personalizados que han sido
                        definidos. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">markAsError()</code> : marca el
                        formulario como que la validación ha fallado. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addError($message)</code> : añade un
                        mensaje a la pila de mensajes de error personalizados y
                        señala al formulario como inválido. </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">addErrors(array $messages)</code> :
                        añade muchos mensajes a la pila de mensajes de error
                        personalizados y señala al formulario como inválido.
                    </p>
                </li>
<li class="listitem">
                    <p>
                        <code class="methodname">setErrors(array $messages)</code> :
                        sobrescribe la pila de mensajes de error personalizada
                        con los mensajes proporcionados y señala el formulario
                        como inválido. </p>
                </li>
</ul></div>

            <p>Todos los errores determinados de esta manera pueden ser
                traducidos.</p>
        </div>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.form.forms.validation.values"></a>Retrieving Valid Values Only</h4></div></div></div>
            

            <p> There are scenarios when you want to allow your user to work
                on a valid form in several steps. Meanwhile you allow the user
                to save the form with any set of values inbetween. Then if all
                the data is specified you can transfer the model from the
                building or prototying stage to a valid stage. </p>

            <p> You can retrieve all the valid values that match the
                submitted data by calling: </p>

            <pre class="programlisting">
$validValues = $form-&gt;getValidValues($_POST);
</pre>
        </div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.methods"></a>Métodos</h3></div></div></div>
        

        <p> La siguiente lista es la lista completa de métodos disponibles
            para <code class="classname">Zend_Form</code> , agrupados por tipo: </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>Configuración y opciones:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setOptions(array $options)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setConfig(Zend_Config
                                $config)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Cargadores de plugins y rutas:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setPluginLoader(Zend_Loader_PluginLoader_Interface
                                $loader, $type = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getPluginLoader($type =
                                null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addPrefixPath($prefix, $path, $type =
                                null) </code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addPrefixPaths(array $spec)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addElementPrefixPath($prefix, $path,
                                $type = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addElementPrefixPaths(array
                                $spec)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addDisplayGroupPrefixPath($prefix,
                                $path)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Metadato:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setAttrib($key, $value)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addAttribs(array $attribs)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setAttribs(array $attribs)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getAttrib($key)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getAttribs()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">removeAttrib($key)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">clearAttribs()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setAction($action)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getAction()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setMethod($method)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getMethod()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setName($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getName()</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Elementos:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">addElement($element, $name = null,
                                $options = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addElements(array
                                $elements)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElements(array
                                $elements)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getElement($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getElements()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">removeElement($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">clearElements()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDefaults(array
                                $defaults)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDefault($name, $value)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getValue($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getValues()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getUnfilteredValue($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getUnfilteredValues()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementFilters(array
                                $filters)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementDecorators(array
                                $decorators)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Subformularios:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">addSubForm(Zend_Form $form, $name,
                                $order = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addSubForms(array
                                $subForms)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setSubForms(array
                                $subForms)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getSubForm($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getSubForms()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">removeSubForm($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">clearSubForms()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setSubFormDecorators(array
                                $decorators)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Grupos de Visualización</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">addDisplayGroup(array $elements, $name,
                                $options = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addDisplayGroups(array
                                $groups)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDisplayGroups(array
                                $groups)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getDisplayGroup($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getDisplayGroups()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">removeDisplayGroup($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">clearDisplayGroups()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDisplayGroupDecorators(array
                                $decorators)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Validación</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">populate(array $values)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">isValid(array $data)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">isValidPartial(array $data)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">processAjax(array $data)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">persistData()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getErrors($name = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getMessages($name = null)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>Generadores:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setView(Zend_View_Interface $view =
                                null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getView()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addDecorator($decorator, $options =
                                null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">addDecorators(array
                                $decorators)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDecorators(array
                                $decorators)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getDecorator($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getDecorators()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">removeDecorator($name)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">clearDecorators()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">render(Zend_View_Interface $view =
                                null)</code>
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>I18n:</p>
                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setTranslator(Zend_Translate_Adapter
                                $translator = null)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">getTranslator()</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDisableTranslator($flag)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">translatorIsDisabled()</code>
                        </p>
                    </li>
</ul></div>
            </li>
</ul></div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.config"></a>Configuración</h3></div></div></div>
        

        <p>
            <code class="classname">Zend_Form</code> es totalmente configurable mediante
                <code class="methodname">setOptions()</code> y
                <code class="methodname">setConfig()</code> (o pasando opciones o un
            objeto <code class="classname">Zend_Config</code> al constructor). Usando
            estos métodos, se pueden especificar elementos formulario, grupos de
            visualización, decoradores, y metadatos. </p>

        <p> Como regla general, si 'set' + la clave de opción (option key)
            hacen referencia a métodos <code class="classname">Zend_Form</code> ,
            entonces el valor proporcionado será pasado al método. Si el
            accessor no existe, se asume que la clave referencia a un atributo,
            y será pasado a <code class="methodname">setAttrib()</code> . </p>

        <p>Excepciones a las reglas incluyen lo siguiente:</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">prefixPaths</code> será pasado a
                        <code class="methodname">addPrefixPaths()</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">elementPrefixPaths</code> será pasado a
                        <code class="methodname">addElementPrefixPaths()</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">displayGroupPrefixPaths</code> será pasado
                    a <code class="methodname">addDisplayGroupPrefixPaths()</code>
                </p>
            </li>
<li class="listitem">
                <p>los siguientes establecedores no pueden ser determinado de
                    ésta manera:</p>

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setAttrib (aunque setAttribs
                                *funcionará*)</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setConfig</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setDefault</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setOptions</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setPluginLoader</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setSubForms</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setTranslator</code>
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setView</code>
                        </p>
                    </li>
</ul></div>
            </li>
</ul></div>

        <p>Como un ejemplo, aquí esta un archivo de configuración que pasa la
            configuración por cada tipo de datos configurables:</p>

        <pre class="programlisting">
[element]
name = "registration"
action = "/user/register"
method = "post"
attribs.class = "zend_form"
attribs.onclick = "validate(this)"

disableTranslator = 0

prefixPath.element.prefix = "My_Element"
prefixPath.element.path = "My/Element/"
elementPrefixPath.validate.prefix = "My_Validate"
elementPrefixPath.validate.path = "My/Validate/"
displayGroupPrefixPath.prefix = "My_Group"
displayGroupPrefixPath.path = "My/Group/"

elements.username.type = "text"
elements.username.options.label = "Username"
elements.username.options.validators.alpha.validator = "Alpha"
elements.username.options.filters.lcase = "StringToLower"
; more elements, of course...

elementFilters.trim = "StringTrim"
;elementDecorators.trim = "StringTrim"

displayGroups.login.elements.username = "username"
displayGroups.login.elements.password = "password"
displayGroupDecorators.elements.decorator = "FormElements"
displayGroupDecorators.fieldset.decorator = "Fieldset"

decorators.elements.decorator = "FormElements"
decorators.fieldset.decorator = "FieldSet"
decorators.fieldset.decorator.options.class = "zend_form"
decorators.form.decorator = "Form"
</pre>

        <p> El código de arriba fácilmente puede ser abstraído a un
                <acronym class="acronym">XML</acronym> o un archivo de configuración basado en
            arrays <acronym class="acronym">PHP</acronym> . </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.form.forms.custom"></a>Formularios personalizados</h3></div></div></div>
        

        <p> Una alternativa a usar los formularios basados en configuraciones
            es realizar una subclase de <code class="classname">Zend_Form</code> . Esto
            tiene muchos beneficios: </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>Se puede centrar la prueba de su formulario facilmente
                    para asegurar las validaciones y generar la ejecución
                    esperada.</p>
            </li>
<li class="listitem">
                <p>Control preciso sobre los individuales elementos.</p>
            </li>
<li class="listitem">
                <p>Reutilización del objeto formulario, y mejor portabilidad
                    (no se necesita seguir los archivos de configuración).
                </p>
            </li>
<li class="listitem">
                <p>Implementar funcionalidad personalizada.</p>
            </li>
</ul></div>

        <p> El caso mas típico de uso sería el método
                <code class="methodname">init()</code> para determinar elementos de
            formulario específicos y de configuración: </p>

        <pre class="programlisting">
class My_Form_Login extends Zend_Form
{
    public function init()
    {
        $username = new Zend_Form_Element_Text('username');
        $username-&gt;class = 'formtext';
        $username-&gt;setLabel('Username:')
                 -&gt;setDecorators(array(
                     array('ViewHelper',
                           array('helper' =&gt; 'formText')),
                     array('Label',
                           array('class' =&gt; 'label'))
                 ));

        $password = new Zend_Form_Element_Password('password');
        $password-&gt;class = 'formtext';
        $password-&gt;setLabel('Username:')
                 -&gt;setDecorators(array(
                     array('ViewHelper',
                           array('helper' =&gt; 'formPassword')),
                     array('Label',
                           array('class' =&gt; 'label'))
                 ));

        $submit = new Zend_Form_Element_Submit('login');
        $submit-&gt;class = 'formsubmit';
        $submit-&gt;setValue('Login')
               -&gt;setDecorators(array(
                   array('ViewHelper',
                   array('helper' =&gt; 'formSubmit'))
               ));

        $this-&gt;addElements(array(
            $username,
            $password,
            $submit
        ));

        $this-&gt;setDecorators(array(
            'FormElements',
            'Fieldset',
            'Form'
        ));
    }
}
</pre>

        <p>Este formulario puede ser instanciado simplemente así:</p>

        <pre class="programlisting">
$form = new My_Form_Login();
</pre>

        <p>y toda la funcionalidad está instalada y lista; no se necesitan
            archivos de configuración. (Note que este ejemplo esta simplificado,
            no contiene validadores o filtros para los elementos.)</p>

        <p> Otra razón común para la extension es definir un conjunto de
            decoradores por defecto. Puede hacerlo sobreescribiendo el método
                <code class="methodname">loadDefaultDecorators()</code> : </p>

        <pre class="programlisting">
class My_Form_Login extends Zend_Form
{
    public function loadDefaultDecorators()
    {
        $this-&gt;setDecorators(array(
            'FormElements',
            'Fieldset',
            'Form'
        ));
    }
}
</pre>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.form.elements.html">Anterior</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.form.html">Subir</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.form.decorators.html">Siguiente</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Creando elementos de formulario usando Zend_Form_Element </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Inicio</a></td>
<td width="40%" align="right" valign="top"> Creando un personalizado marcado de formulario usando
        Zend_Form_Decorator</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
