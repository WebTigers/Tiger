<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>View Helpers</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Programmer's Reference Guide">
<link rel="up" href="zend.view.html" title="Zend_View">
<link rel="prev" href="zend.view.scripts.html" title="View Scripts">
<link rel="next" href="zend.view.abstract.html" title="Zend_View_Abstract">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">View Helpers</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Prev</a> </td>
<th width="60%" align="center">Zend_View</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.view.abstract.html">Next</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.view.helpers"></a>View Helpers</h2></div></div></div>
    

    <p>
        In your view scripts, often it is necessary to perform certain
        complex functions over and over: e.g., formatting a date,
        generating form elements, or displaying action links. You can
        use helper classes to perform these behaviors for you.
    </p>

    <p>
        A helper is simply a class. Let's say we want a helper named 'fooBar'.
        By default, the class is prefixed with 'Zend_View_Helper_'
        (you can specify a custom prefix when setting a helper path), and the
        last segment of the class name is the helper name; this segment should
        be TitleCapped; the full class name is then:
        <code class="classname">Zend_View_Helper_FooBar</code>. This class should contain at the
        minimum a single method, named after the helper, and camelCased:
        <code class="methodname">fooBar()</code>.
    </p>

    <div class="note"><table border="0" summary="Note: Watch the Case">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Watch the Case</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Helper names are always camelCased, i.e., they never begin with an
            uppercase character. The class name itself is MixedCased, but the
            method that is actually executed is camelCased.
        </p>
    </td></tr>
</table></div>

    <div class="note"><table border="0" summary="Note: Default Helper Path">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Default Helper Path</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            The default helper path always points to the Zend Framework view
            helpers, i.e., 'Zend/View/Helper/'. Even if you call
            <code class="methodname">setHelperPath()</code> to overwrite the existing paths, this
            path will be set to ensure the default helpers work.
        </p>
    </td></tr>
</table></div>

    <p>
        To use a helper in your view script, call it using
        <span class="command"><strong>$this-&gt;helperName()</strong></span>. Behind the scenes,
        <code class="classname">Zend_View</code> will load the
        <code class="classname">Zend_View_Helper_HelperName</code> class, create an object
        instance of it, and call its <code class="methodname">helperName()</code> method. The
        object instance is persistent within the <code class="classname">Zend_View</code>
        instance, and is reused for all future calls to
        <span class="command"><strong>$this-&gt;helperName()</strong></span>.
    </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.initial"></a>Initial Helpers</h3></div></div></div>
        

        <p>
            <code class="classname">Zend_View</code> comes with an initial set of helper classes,
            most of which relate to form element generation and perform
            the appropriate output escaping automatically. In addition, there
            are helpers for creating route-based <acronym class="acronym">URL</acronym>s and <acronym class="acronym">HTML</acronym>
            lists, as well as declaring variables. The currently shipped helpers include:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">declareVars()</code>: Primarily for use when using
                    <code class="methodname">strictVars()</code>, this helper can be used to declare
                    template variables that may or may not already be set in the
                    view object, as well as to set default values. Arrays passed as
                    arguments to the method will be used to set default values;
                    otherwise, if the variable does not exist, it is set to an empty string.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">fieldset($name, $content, $attribs)</code>: Creates an
                    <acronym class="acronym">XHTML</acronym> fieldset. If <code class="varname">$attribs</code> contains a
                    'legend' key, that value will be used for the fieldset legend. The
                    fieldset will surround the <code class="varname">$content</code> as provided to
                    the helper.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">form($name, $attribs, $content)</code>: Generates an
                    <acronym class="acronym">XHTML</acronym> form. All <code class="varname">$attribs</code> are escaped and
                    rendered as <acronym class="acronym">XHTML</acronym> attributes of the form tag. If
                    <code class="varname">$content</code> is present and not a boolean
                    <code class="constant">FALSE</code>, then that content is rendered within the start and
                    close form tags; if <code class="varname">$content</code> is a boolean
                    <code class="constant">FALSE</code> (the default), only the opening form tag is
                    generated.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formButton($name, $value, $attribs)</code>: Creates an
                    &lt;button /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formCheckbox($name, $value, $attribs, $options)</code>:
                    Creates an &lt;input type="checkbox" /&gt; element.
                </p>

                <p>
                    By default, when no $value is provided and no $options are
                    present, '0' is assumed to be the unchecked value, and '1'
                    the checked value. If a $value is passed, but no $options
                    are present, the checked value is assumed to be the value
                    passed. The unchecked value is implemented by rendering a
                    hidden input element before rendering the checkbox.
                </p>

                <p>
                    $options should be an array. If the array is indexed, the
                    first value is the checked value, and the second the
                    unchecked value; all other values are ignored. You may also
                    pass an associative array with the keys 'checked' and
                    'unChecked'. The key 'disableHidden' can be set to true to
                    prevent rendering of the hidden field for the unchecked value.
                </p>

                <p>
                    If $options has been passed, if $value matches the checked
                    value, then the element will be marked as checked. You may
                    also mark the element as checked or unchecked by passing a
                    boolean value for the attribute 'checked'.
                </p>

                <p>
                    The above is probably best summed up with some examples:
                </p>

                <pre class="programlisting">
// '1' and '0' as checked/unchecked options; not checked
echo $this-&gt;formCheckbox('foo');

// '1' and '0' as checked/unchecked options; checked
echo $this-&gt;formCheckbox('foo', null, array('checked' =&gt; true));

// 'bar' and '0' as checked/unchecked options; not checked
echo $this-&gt;formCheckbox('foo', 'bar');

// 'bar' and '0' as checked/unchecked options; checked
echo $this-&gt;formCheckbox('foo', 'bar', array('checked' =&gt; true));

// 'bar' and 'baz' as checked/unchecked options; unchecked
echo $this-&gt;formCheckbox('foo', null, null, array('bar', 'baz'));

// 'bar' and 'baz' as checked/unchecked options; unchecked
echo $this-&gt;formCheckbox('foo', null, null, array(
    'checked' =&gt; 'bar',
    'unChecked' =&gt; 'baz'
));

// 'bar' and 'baz' as checked/unchecked options; checked
echo $this-&gt;formCheckbox('foo', 'bar', null, array('bar', 'baz'));
echo $this-&gt;formCheckbox('foo',
                         null,
                         array('checked' =&gt; true),
                         array('bar', 'baz'));

// 'bar' and 'baz' as checked/unchecked options; unchecked
echo $this-&gt;formCheckbox('foo', 'baz', null, array('bar', 'baz'));
echo $this-&gt;formCheckbox('foo',
                         null,
                         array('checked' =&gt; false),
                         array('bar', 'baz'));
</pre>

                <p>
                    In all cases, the markup prepends a hidden element with the
                    unchecked value; this way, if the value is unchecked, you
                    will still get a valid value returned to your form.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formErrors($errors, $options)</code>: Generates an
                    <acronym class="acronym">XHTML</acronym> unordered list to show errors.
                    <code class="varname">$errors</code> should be a string or an array of strings;
                    <code class="varname">$options</code> should be any attributes you want
                    placed in the opening list tag.
                </p>

                <p>
                    You can specify alternate opening, closing, and separator
                    content when rendering the errors by calling several methods
                    on the helper:
                </p>

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setElementStart($string)</code>; default is
                            '&lt;ul class="errors"%s"&gt;&lt;li&gt;', where %s
                            is replaced with the attributes as specified in
                            <code class="varname">$options</code>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementSeparator($string)</code>; default
                            is '&lt;/li&gt;&lt;li&gt;'.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementEnd($string)</code>; default is
                            '&lt;/li&gt;&lt;/ul&gt;'.
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formFile($name, $attribs)</code>: Creates an
                    &lt;input type="file" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formHidden($name, $value, $attribs)</code>: Creates an
                    &lt;input type="hidden" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formImage($name, $value, $attribs)</code>: Creates an
                    &lt;input type="image" /&gt; element.
                </p>

<pre class="programlisting">
echo $this-&gt;formImage(
    'foo',
    'bar',
    array(
        'src' =&gt; 'images/button.png',
        'alt' =&gt; 'Button',
    )
);
// Output: &lt;input type="image" name="foo" id="foo" src="/assets/manual/img/button.png" value="bar" alt="Button" /&gt;
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formLabel($name, $value, $attribs)</code>: Creates a
                    &lt;label&gt; element, setting the <span class="property">for</span> attribute to
                    <code class="varname">$name</code>, and the actual label text to
                    <code class="varname">$value</code>. If <span class="emphasis"><em>disable</em></span> is passed in
                    <span class="property">attribs</span>, nothing will be returned.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formMultiCheckbox($name, $value, $attribs, $options,
                        $listsep)</code>: Creates a list of checkboxes.
                    <code class="varname">$options</code> should be an associative array, and may be
                    arbitrarily deep. <code class="varname">$value</code> may be a single value or
                    an array of selected values that match the keys in the
                    <code class="varname">$options</code> array. <code class="varname">$listsep</code> is an
                    <acronym class="acronym">HTML</acronym> break ("&lt;br /&gt;") by default. By default, this
                    element is treated as an array; all checkboxes share the same name, and are
                    submitted as an array.
                </p>

<pre class="programlisting">
// Using list separator ($listsep):

echo '&lt;ul&gt;&lt;li&gt;';
echo $view-&gt;formMultiCheckbox(
    'foo',
    2,
    array(
        'class' =&gt; 'baz',
    ),
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    ),
    "&lt;/li&gt;\n&lt;li&gt;"
);
echo '&lt;/li&gt;&lt;/ul&gt;';

/*
Output:
&lt;ul&gt;
    &lt;li&gt;
        &lt;label for="foo-1"&gt;
            &lt;input type="checkbox" name="foo[]" id="foo-1" value="1" class="baz" /&gt;One
        &lt;/label&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;label for="foo-2"&gt;
            &lt;input type="checkbox" name="foo[]" id="foo-2" value="2" checked="checked" class="baz" /&gt;Two
        &lt;/label&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;label for="foo-3"&gt;
            &lt;input type="checkbox" name="foo[]" id="foo-3" value="3" class="baz" /&gt;Three&lt;/label&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
*/

// Using options for label elements:
echo $this-&gt;formMultiCheckbox(
    'foo',
    2,
    array(
        'label_placement' =&gt; 'prepend',
        'label_class'     =&gt; 'baz',
    ),
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    )
);

/*
Output:
&lt;label class="baz" for="foo-1"&gt;
    One&lt;input type="checkbox" name="foo[]" id="foo-1" value="1" /&gt;
&lt;/label&gt;
&lt;br /&gt;
&lt;label class="baz" for="foo-2"&gt;
    Two&lt;input type="checkbox" name="foo[]" id="foo-2" value="2" checked="checked" /&gt;
&lt;/label&gt;
&lt;br /&gt;
&lt;label class="baz" for="foo-3"&gt;
    Three&lt;input type="checkbox" name="foo[]" id="foo-3" value="3" /&gt;
&lt;/label&gt;
*/
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formNote($name, $value = null)</code>: Creates a
                    simple text note. (e.g. as element for headlines in a
                    <code class="classname">Zend_Form</code> object)
                </p>

<pre class="programlisting">
echo $this-&gt;formNote(null, 'This is an example text.');
// Output: This is an example text.
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formPassword($name, $value, $attribs)</code>: Creates an
                    &lt;input type="password" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formRadio($name, $value, $attribs, $options, $listsep)</code>:
                    Creates a series of &lt;input type="radio" /&gt; elements, one
                    for each of the $options elements. In the $options array, the
                    element key is the radio value, and the element value is the
                    radio label. The $value radio will be preselected for you.
                </p>

<pre class="programlisting">
// Using list separator ($listsep)

echo '&lt;ul&gt;&lt;li&gt;';
echo $this-&gt;formRadio(
    'foo',
    2,
    array(
        'class' =&gt; 'baz',
    ),
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    ),
    "&lt;/li&gt;\n&lt;li&gt;"
);
echo '&lt;/li&gt;&lt;/ul&gt;';

/*
Output:
&lt;ul&gt;
    &lt;li&gt;
        &lt;label for="foo-1"&gt;
            &lt;input type="radio" name="foo" id="foo-1" value="1" class="baz" /&gt;One
        &lt;/label&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;label for="foo-2"&gt;
            &lt;input type="radio" name="foo" id="foo-2" value="2" checked="checked" class="baz" /&gt;Two
        &lt;/label&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;label for="foo-3"&gt;
            &lt;input type="radio" name="foo" id="foo-3" value="3" class="baz" /&gt;Three
        &lt;/label&gt;
    &lt;/li&gt;
&lt;/ul&gt;
*/

// Using options for label elements:

echo $this-&gt;formRadio(
    'foo',
    2,
    array(
        'label_placement' =&gt; 'prepend',
        'label_class'     =&gt; 'baz',
    ),
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    )
);

/*
Output:
&lt;label class="baz" for="foo-1"&gt;
    One&lt;input type="radio" name="foo" id="foo-1" value="1" /&gt;
&lt;/label&gt;
&lt;br /&gt;
&lt;label class="baz" for="foo-2"&gt;
    Two&lt;input type="radio" name="foo" id="foo-2" value="2" checked="checked" /&gt;
&lt;/label&gt;
&lt;br /&gt;
&lt;label class="baz" for="foo-3"&gt;
    Three&lt;input type="radio" name="foo" id="foo-3" value="3" /&gt;
&lt;/label&gt;
*/
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formReset($name, $value, $attribs)</code>: Creates an
                    &lt;input type="reset" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formSelect($name, $value, $attribs, $options)</code>:
                    Creates a &lt;select&gt;...&lt;/select&gt; block, with one
                    &lt;option&gt;one for each of the $options elements. In the
                    $options array, the element key is the option value, and the
                    element value is the option label. The $value option(s) will be
                    preselected for you.
                </p>

<pre class="programlisting">
// Using option groups:

echo $view-&gt;formSelect(
    'foo',
    2,
    array(
        'class' =&gt; 'baz',
    ),
    array(
        1     =&gt; 'One',
        'Two' =&gt; array(
            '2.1' =&gt; 'One',
            '2.2' =&gt; 'Two',
            '2.3' =&gt; 'Three',
        ),
        3     =&gt; 'Three',
    )
);

/*
Output:
&lt;select name="foo" id="foo" class="baz"&gt;
    &lt;option value="1" label="One"&gt;One&lt;/option&gt;
    &lt;optgroup id="foo-optgroup-Two" label="Two"&gt;
        &lt;option value="2.1" label="One"&gt;One&lt;/option&gt;
        &lt;option value="2.2" label="Two"&gt;Two&lt;/option&gt;
        &lt;option value="2.3" label="Three"&gt;Three&lt;/option&gt;
    &lt;/optgroup&gt;
    &lt;option value="3" label="Three"&gt;Three&lt;/option&gt;
&lt;/select&gt;
*/

// First example with 'multiple' option:

echo $this-&gt;formSelect(
    'foo[]',
    2,
    null,
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    )
);

/*
Output:
&lt;select name="foo[]" id="foo" multiple="multiple"&gt;
    &lt;option value="1" label="One"&gt;One&lt;/option&gt;
    &lt;option value="2" label="Two" selected="selected"&gt;Two&lt;/option&gt;
    &lt;option value="3" label="Three"&gt;Three&lt;/option&gt;
&lt;/select&gt;
*/

// Second example with 'multiple' option:

echo $this-&gt;formSelect(
    'foo',
    array(
        1,
        2,
    ),
    array(
        'multiple' =&gt; true,
    ),
    array(
        1 =&gt; 'One',
        2 =&gt; 'Two',
        3 =&gt; 'Three',
    )
);

/*
Output:
&lt;select name="foo[]" id="foo" multiple="multiple"&gt;
    &lt;option value="1" label="One" selected="selected"&gt;One&lt;/option&gt;
    &lt;option value="2" label="Two" selected="selected"&gt;Two&lt;/option&gt;
    &lt;option value="3" label="Three"&gt;Three&lt;/option&gt;
&lt;/select&gt;
*/
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formSubmit($name, $value, $attribs)</code>: Creates an
                    &lt;input type="submit" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formText($name, $value, $attribs)</code>: Creates an
                    &lt;input type="text" /&gt; element.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formTextarea($name, $value, $attribs)</code>: Creates a
                    &lt;textarea&gt;...&lt;/textarea&gt; block.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">url($urlOptions, $name, $reset, $encode)</code>: Creates a
                    <acronym class="acronym">URL</acronym> string based on a named route.
                    <code class="varname">$urlOptions</code> should be an associative array of key/value pairs
                    used by the particular route.
                </p>

<pre class="programlisting">
// Using without options: (current request is: user/id/1)
echo $this-&gt;url();
// Output: user/info/id/1

// Set URL options:
echo $this-&gt;url(
    array('controller' =&gt; 'user', 'action' =&gt; 'info', 'username' =&gt; 'foobar')
);
// Output: user/info/username/foobar

// Using a route:
$router-&gt;addRoute(
    'user',
    new Zend_Controller_Router_Route(
        'user/:username',
        array(
            'controller' =&gt; 'user',
            'action'     =&gt; 'info',
        )
    )
);

echo $this-&gt;url(array('name' =&gt; 'foobar'), 'user');
// Output: user/foobar

// Using reset: (current request is: user/id/1)
echo $this-&gt;url(array('controller' =&gt; 'user', 'action' =&gt; 'info'), null, false);
// Output: user/info/id/1

echo $this-&gt;url(array('controller' =&gt; 'user', 'action' =&gt; 'info'), null, true);
// Output: user/info

// Using encode:
echo $this-&gt;url(
    array('controller' =&gt; 'user', 'action' =&gt; 'info', 'username' =&gt; 'John Doe'), null, true, false
);
// Output: user/info/username/John Doe

echo $this-&gt;url(
    array('controller' =&gt; 'user', 'action' =&gt; 'info', 'username' =&gt; 'John Doe'), null, true, false
);
// Output: user/info/username/John+Doe
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">serverUrl($requestUri = null)</code>: Helper
                    for returning the current server URL (optionally with request URI).
                </p>

<pre class="programlisting">
// Current server URL in the example is: http://www.example.com/foo.html

echo $this-&gt;serverUrl();
// Output: http://www.example.com

echo $this-&gt;serverUrl(true);
// Output: http://www.example.com/foo.html

echo $this-&gt;serverUrl('/foo/bar');
// Output: http://www.example.com/foo/bar

echo $this-&gt;serverUrl()-&gt;getHost();
// Output: www.example.com

echo $this-&gt;serverUrl()-&gt;getScheme();
// Output: http

$this-&gt;serverUrl()-&gt;setHost('www.foo.com');
$this-&gt;serverUrl()-&gt;setScheme('https');
echo $this-&gt;serverUrl();
// Output: https://www.foo.com
</pre>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">htmlList($items, $ordered, $attribs, $escape)</code>:
                    generates unordered and ordered lists based on the <code class="varname">$items</code>
                    passed to it. If <code class="varname">$items</code> is a multidimensional
                    array, a nested list will be built. If the <code class="varname">$escape</code>
                    flag is <code class="constant">TRUE</code> (default), individual items will be escaped
                    using the view objects registered escaping mechanisms; pass a
                    <code class="constant">FALSE</code> value if you want to allow markup in your lists.
                </p>
            </li>
</ul></div>

        <p>
            Using these in your view scripts is very easy, here is an example.
            Note that you all you need to do is call them; they will load
            and instantiate themselves as they are needed.
        </p>

        <pre class="programlisting">
// inside your view script, $this refers to the Zend_View instance.
//
// say that you have already assigned a series of select options under
// the name $countries as array('us' =&gt; 'United States', 'il' =&gt;
// 'Israel', 'de' =&gt; 'Germany').
?&gt;
&lt;form action="action.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Your Email:
&lt;?php echo $this-&gt;formText('email', 'you@example.com', array('size' =&gt; 32)) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Your Country:
&lt;?php echo $this-&gt;formSelect('country', 'us', null, $this-&gt;countries) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Would you like to opt in?
&lt;?php echo $this-&gt;formCheckbox('opt_in', 'yes', null, array('yes', 'no')) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
</pre>

        <p>
            The resulting output from the view script will look something like this:
        </p>

        <pre class="programlisting">
&lt;form action="action.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Your Email:
        &lt;input type="text" name="email" value="you@example.com" size="32" /&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Your Country:
        &lt;select name="country"&gt;
            &lt;option value="us" selected="selected"&gt;United States&lt;/option&gt;
            &lt;option value="il"&gt;Israel&lt;/option&gt;
            &lt;option value="de"&gt;Germany&lt;/option&gt;
        &lt;/select&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Would you like to opt in?
        &lt;input type="hidden" name="opt_in" value="no" /&gt;
        &lt;input type="checkbox" name="opt_in" value="yes" checked="checked" /&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
</pre>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.action"></a>Action View Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Action</code> view helper enables view scripts to dispatch a
        given controller action; the result of the response object following the
        dispatch is then returned. These can be used when a particular action
        could generate re-usable content or "widget-ized" content.
    </p>

    <p>
        Actions that result in a <code class="methodname">_forward()</code> or redirect are
        considered invalid, and will return an empty string.
    </p>

    <p>
        The <acronym class="acronym">API</acronym> for the <code class="classname">Action</code> view helper follows that of
        most <acronym class="acronym">MVC</acronym> components that invoke controller actions:
        <span class="command"><strong>action($action, $controller, $module = null, array $params = array())</strong></span>.
        <code class="varname">$action</code> and <code class="varname">$controller</code> are required; if no
        module is specified, the default module is assumed.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.action.usage"></a><p class="title"><b>Example 948. Basic Usage of Action View Helper</b></p>
<div class="example-contents">
        

        <p>
            As an example, you may have a <code class="classname">CommentController</code> with a
            <code class="methodname">listAction()</code> method you wish to invoke in order to pull
            a list of comments for the current request:
        </p>

        <pre class="programlisting">
&lt;div id="sidebar right"&gt;
    &lt;div class="item"&gt;
        &lt;?php echo $this-&gt;action('list',
                                 'comment',
                                 null,
                                 array('count' =&gt; 10)); ?&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.baseurl"></a>BaseUrl Helper</h4></div></div></div>
    

    <p>
        While most <acronym class="acronym">URL</acronym>s generated by the framework have the base
        <acronym class="acronym">URL</acronym> prepended automatically, developers will need to prepend the
        base <acronym class="acronym">URL</acronym> to their own <acronym class="acronym">URL</acronym>s in order for paths
        to resources to be correct.
    </p>

    <p>
        Usage of the BaseUrl helper is very straightforward:
    </p>

    <pre class="programlisting">
/*
 * The following assume that the base URL of the page/application is "/mypage".
 */

/*
 * Prints:
 * &lt;base href="/mypage/" /&gt;
 */
&lt;base href="&lt;?php echo $this-&gt;baseUrl(); ?&gt;" /&gt;

/*
 * Prints:
 * &lt;link rel="stylesheet" type="text/css" href="/mypage/css/base.css" /&gt;
 */
&lt;link rel="stylesheet" type="text/css"
     href="&lt;?php echo $this-&gt;baseUrl('css/base.css'); ?&gt;" /&gt;
</pre>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            For simplicity's sake, we strip out the entry <acronym class="acronym">PHP</acronym> file (e.g.,
            "<code class="filename">index.php</code>") from the base <acronym class="acronym">URL</acronym> that was
            contained in <code class="classname">Zend_Controller</code>. However, in some situations
            this may cause a problem. If one occurs, use
            <code class="methodname">$this-&gt;getHelper('BaseUrl')-&gt;setBaseUrl()</code> to set your
            own BaseUrl.
        </p>
    </td></tr>
</table></div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.currency"></a>Currency Helper</h4></div></div></div>
    

    <p>
        Displaying localized currency values is a common task; the
        <code class="classname">Zend_Currency</code> view helper is intended to simply this task. See the
        <a class="link" href="zend.currency.introduction.html" title="Introduction to Zend_Currency">Zend_Currency documentation</a> for specifics
        on this localization feature. In this section, we will focus simply on usage of the view
        helper.
    </p>

    <p>
        There are several ways to initiate the <span class="emphasis"><em>Currency</em></span> view helper:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                Registered, through a previously registered instance in
                <code class="classname">Zend_Registry</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                Afterwards, through the fluent interface.
            </p>
        </li>
<li class="listitem">
            <p>
                Directly, through instantiating the class.
            </p>
        </li>
</ul></div>

    <p>
        A registered instance of <code class="classname">Zend_Currency</code> is the preferred usage for
        this helper. Doing so, you can select the currency to be used prior to adding the adapter to
        the registry.
    </p>

    <p>
        There are several ways to select the desired currency. First, you may simply provide a
        currency string; alternately, you may specify a locale. The preferred way is to use a
        locale as this information is automatically detected and selected via the
        <acronym class="acronym">HTTP</acronym> client headers provided when a user accesses your application, and
        ensures the currency provided will match their locale.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            We are speaking of "locales" instead of "languages" because a language may vary based on
            the geographical region in which it is used. For example, English is spoken in different
            dialects: British English, American English, etc. As a currency always correlates to a
            country you must give a fully-qualified locale, which means providing both the language
            <span class="emphasis"><em>and</em></span> region. Therefore, we say "locale" instead of "language."
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.currency.registered"></a><p class="title"><b>Example 949. Registered instance</b></p>
<div class="example-contents">
        

        <p>
            To use a registered instance, simply create an instance of
            <code class="classname">Zend_Currency</code> and register it within
            <code class="classname">Zend_Registry</code> using <code class="classname">Zend_Currency</code> as its
            key.
        </p>

        <pre class="programlisting">
// our example currency
$currency = new Zend_Currency('de_AT');
Zend_Registry::set('Zend_Currency', $currency);

// within your view
echo $this-&gt;currency(1234.56);
// this returns '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        If you are more familiar with the fluent interface, then you can also create an instance
        within your view and configure the helper afterwards.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.afterwards"></a><p class="title"><b>Example 950. Within the view</b></p>
<div class="example-contents">
        

        <p>
            To use the fluent interface, create an instance of <code class="classname">Zend_Currency</code>,
            call the helper without a parameter, and call the <code class="methodname">setCurrency()</code>
            method.
        </p>

        <pre class="programlisting">
// within your view
$currency = new Zend_Currency('de_AT');
$this-&gt;currency()-&gt;setCurrency($currency)-&gt;currency(1234.56);
// this returns '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        If you are using the helper without <code class="classname">Zend_View</code> then you can
        also use it directly.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.directly.example-1"></a><p class="title"><b>Example 951. Direct usage</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// our example currency
$currency = new Zend_Currency('de_AT');

// initiate the helper
$helper = new Zend_View_Helper_Currency($currency);
echo $helper-&gt;currency(1234.56); // this returns '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        As already seen, the <code class="methodname">currency()</code> method is used to return the
        currency string. Just call it with the value you want to display as a currency. It also
        accepts some options which may be used to change the behaviour and output of the helper.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.directly.example-2"></a><p class="title"><b>Example 952. Direct usage</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// our example currency
$currency = new Zend_Currency('de_AT');

// initiate the helper
$helper = new Zend_View_Helper_Currency($currency);
echo $helper-&gt;currency(1234.56); // this returns '€ 1.234,56'
echo $helper-&gt;currency(1234.56, array('precision' =&gt; 1));
// this returns '€ 1.234,6'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        For details about the available options, search for <code class="classname">Zend_Currency</code>'s
        <code class="methodname">toCurrency()</code> method.
    </p>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.cycle"></a>Cycle Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Cycle</code> helper is used to alternate a set of values.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.cycle.basicusage"></a><p class="title"><b>Example 953. Cycle Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            To add elements to cycle just specify them in constructor
            or use <code class="methodname">assign(array $data)</code> function
        </p>

        <pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author']) ?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;

// Moving in backwards order and assign function
$this-&gt;cycle()-&gt;assign(array("#F0F0F0","#FFFFFF"));
$this-&gt;cycle()-&gt;prev();
?&gt;
</pre>

        <p>
            The output
        </p>

        <pre class="programlisting">
&lt;tr style="background-color:'#F0F0F0'"&gt;
   &lt;td&gt;First&lt;/td&gt;
&lt;/tr&gt;
&lt;tr style="background-color:'#FFFFFF'"&gt;
   &lt;td&gt;Second&lt;/td&gt;
&lt;/tr&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.cycle.advanceusage"></a><p class="title"><b>Example 954. Working with two or more cycles</b></p>
<div class="example-contents">
        

       <p>
           To use two cycles you have to specify the names of cycles. Just set second parameter in
           cycle method. <span class="command"><strong>$this-&gt;cycle(array("#F0F0F0","#FFFFFF"),'cycle2')</strong></span>. You
           can also use setName($name) function.
        </p>
    </div>
</div>
<br class="example-break">

    <pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;cycle(array(1,2,3),'number')-&gt;next()?&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author'])?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;
</pre>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.partial"></a>Partial Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Partial</code> view helper is used to render a specified
        template within its own variable scope. The primary use is for reusable
        template fragments with which you do not need to worry about variable
        name clashes. Additionally, they allow you to specify partial view
        scripts from specific modules.
    </p>

    <p>
        A sibling to the <code class="classname">Partial</code>, the <code class="classname">PartialLoop</code> view
        helper allows you to pass iterable data, and render a partial for each
        item.
    </p>

    <div class="note"><table border="0" summary="Note: PartialLoop Counter">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">PartialLoop Counter</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            The <code class="classname">PartialLoop</code> view helper assigns a variable to the view named
            <span class="emphasis"><em>partialCounter</em></span> which passes the current position of the array to
            the view script. This provides an easy way to have alternating colors on table rows for
            example.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.partial.usage"></a><p class="title"><b>Example 955. Basic Usage of Partials</b></p>
<div class="example-contents">
        

        <p>
            Basic usage of partials is to render a template fragment in its own
            view scope. Consider the following partial script:
        </p>

        <pre class="programlisting">
&lt;?php // partial.phtml ?&gt;
&lt;ul&gt;
    &lt;li&gt;From: &lt;?php echo $this-&gt;escape($this-&gt;from) ?&gt;&lt;/li&gt;
    &lt;li&gt;Subject: &lt;?php echo $this-&gt;escape($this-&gt;subject) ?&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre>

        <p>
            You would then call it from your view script using the following:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;partial('partial.phtml', array(
    'from' =&gt; 'Team Framework',
    'subject' =&gt; 'view partials')); ?&gt;
</pre>

        <p>
            Which would then render:
        </p>

        <pre class="programlisting">
&lt;ul&gt;
    &lt;li&gt;From: Team Framework&lt;/li&gt;
    &lt;li&gt;Subject: view partials&lt;/li&gt;
&lt;/ul&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note: What is a model?">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">What is a model?</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            A model used with the <code class="classname">Partial</code> view helper can be
            one of the following:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Array</em></span>. If an array is passed, it
                    should be associative, as its key/value pairs are
                    assigned to the view with keys as view variables.
                </p>
            </li>
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Object implementing toArray() method</em></span>. If an object is
                    passed an has a <code class="methodname">toArray()</code> method, the results of
                    <code class="methodname">toArray()</code> will be assigned to the view
                    object as view variables.
                </p>
            </li>
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Standard object</em></span>. Any other object
                    will assign the results of
                    <code class="methodname">object_get_vars()</code> (essentially all public
                    properties of the object) to the view object.
                </p>
            </li>
</ul></div>

        <p>
            If your model is an object, you may want to have it passed
            <span class="emphasis"><em>as an object</em></span> to the partial script, instead
            of serializing it to an array of variables. You can do this by
            setting the 'objectKey' property of the appropriate helper:
        </p>

        <pre class="programlisting">
// Tell partial to pass objects as 'model' variable
$view-&gt;partial()-&gt;setObjectKey('model');

// Tell partial to pass objects from partialLoop as 'model' variable
// in final partial view script:
$view-&gt;partialLoop()-&gt;setObjectKey('model');
</pre>

        <p>
            This technique is particularly useful when passing
            <code class="classname">Zend_Db_Table_Rowset</code>s to
            <code class="methodname">partialLoop()</code>, as you then have full access to your
            row objects within the view scripts, allowing you to call
            methods on them (such as retrieving values from parent or
            dependent rows).
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.partial.partialloop"></a><p class="title"><b>Example 956. Using PartialLoop to Render Iterable Models</b></p>
<div class="example-contents">
        

        <p>
            Typically, you'll want to use partials in a loop, to render the same
            content fragment many times; this way you can put large blocks of
            repeated content or complex display logic into a single location.
            However this has a performance impact, as the partial helper needs
            to be invoked once for each iteration.
        </p>

        <p>
            The <code class="classname">PartialLoop</code> view helper helps solve this issue. It
            allows you to pass an iterable item (array or object implementing
            <span class="emphasis"><em>Iterator</em></span>) as the model. It then iterates over this,
            passing, the items to the partial script as the model. Items in the
            iterator may be any model the <code class="classname">Partial</code> view helper
            allows.
        </p>

        <p>
            Let's assume the following partial view script:
        </p>

        <pre class="programlisting">
&lt;?php // partialLoop.phtml ?&gt;
    &lt;dt&gt;&lt;?php echo $this-&gt;key ?&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;?php echo $this-&gt;value ?&gt;&lt;/dd&gt;
</pre>

        <p>
            And the following "model":
        </p>

        <pre class="programlisting">
$model = array(
    array('key' =&gt; 'Mammal', 'value' =&gt; 'Camel'),
    array('key' =&gt; 'Bird', 'value' =&gt; 'Penguin'),
    array('key' =&gt; 'Reptile', 'value' =&gt; 'Asp'),
    array('key' =&gt; 'Fish', 'value' =&gt; 'Flounder'),
);
</pre>

        <p>
            In your view script, you could then invoke the
            <code class="classname">PartialLoop</code> helper:
        </p>

        <pre class="programlisting">
&lt;dl&gt;
&lt;?php echo $this-&gt;partialLoop('partialLoop.phtml', $model) ?&gt;
&lt;/dl&gt;
</pre>

        <pre class="programlisting">
&lt;dl&gt;
    &lt;dt&gt;Mammal&lt;/dt&gt;
    &lt;dd&gt;Camel&lt;/dd&gt;

    &lt;dt&gt;Bird&lt;/dt&gt;
    &lt;dd&gt;Penguin&lt;/dd&gt;

    &lt;dt&gt;Reptile&lt;/dt&gt;
    &lt;dd&gt;Asp&lt;/dd&gt;

    &lt;dt&gt;Fish&lt;/dt&gt;
    &lt;dd&gt;Flounder&lt;/dd&gt;
&lt;/dl&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.partial.modules"></a><p class="title"><b>Example 957. Rendering Partials in Other Modules</b></p>
<div class="example-contents">
        

        <p>
            Sometime a partial will exist in a different module. If you know the
            name of the module, you can pass it as the second argument to either
            <code class="methodname">partial()</code> or <code class="methodname">partialLoop()</code>, moving the
            <code class="varname">$model</code> argument to third position.
        </p>

        <p>
            For instance, if there's a pager partial you wish to use that's in
            the 'list' module, you could grab it as follows:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;partial('pager.phtml', 'list', $pagerData) ?&gt;
</pre>

        <p>
            In this way, you can re-use partials created specifically for other
            modules. That said, it's likely a better practice to put re-usable
            partials in shared view script paths.
        </p>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.placeholder"></a>Placeholder Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Placeholder</code> view helper is used to persist content
        between view scripts and view instances. It also offers some useful
        features such as aggregating content, capturing view script content
        for later use, and adding pre- and post-text to content (and custom
        separators for aggregated content).
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.usage"></a><p class="title"><b>Example 958. Basic Usage of Placeholders</b></p>
<div class="example-contents">
        

        <p>
            Basic usage of placeholders is to persist view data. Each invocation
            of the <code class="classname">Placeholder</code> helper expects a placeholder name;
            the helper then returns a placeholder container object that you can
            either manipulate or simply echo out.
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;set("Some text for later") ?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // outputs "Some text for later"
?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.aggregation"></a><p class="title"><b>Example 959. Using Placeholders to Aggregate Content</b></p>
<div class="example-contents">
        

        <p>
            Aggregating content via placeholders can be useful at times as well.
            For instance, your view script may have a variable array from which
            you wish to retrieve messages to display later; a later view script
            can then determine how those will be rendered.
        </p>

        <p>
            The <code class="classname">Placeholder</code> view helper uses containers that extend
            <code class="classname">ArrayObject</code>, providing a rich featureset for
            manipulating arrays. In addition, it offers a variety of methods for
            formatting the content stored in the container:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">setPrefix($prefix)</code> sets text with which to
                    prefix the content. Use <code class="methodname">getPrefix()</code> at any time
                    to determine what the current setting is.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setPostfix($prefix)</code> sets text with which to
                    append the content. Use <code class="methodname">getPostfix()</code> at any time
                    to determine what the current setting is.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setSeparator($prefix)</code> sets text with which to
                    separate aggregated content. Use <code class="methodname">getSeparator()</code>
                    at any time to determine what the current setting is.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setIndent($prefix)</code> can be used to set an
                    indentation value for content. If an integer is passed,
                    that number of spaces will be used; if a string is passed,
                    the string will be used. Use <code class="methodname">getIndent()</code>
                    at any time to determine what the current setting is.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
&lt;!-- first view script --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;exchangeArray($this-&gt;data) ?&gt;
</pre>

        <pre class="programlisting">
&lt;!-- later view script --&gt;
&lt;?php
$this-&gt;placeholder('foo')-&gt;setPrefix("&lt;ul&gt;\n    &lt;li&gt;")
                         -&gt;setSeparator("&lt;/li&gt;&lt;li&gt;\n")
                         -&gt;setIndent(4)
                         -&gt;setPostfix("&lt;/li&gt;&lt;/ul&gt;\n");
?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // outputs as unordered list with pretty indentation
?&gt;
</pre>

        <p>
            Because the <code class="classname">Placeholder</code> container objects extend
            <code class="classname">ArrayObject</code>, you can also assign content to a specific
            key in the container easily, instead of simply pushing it into the
            container. Keys may be accessed either as object properties or as
            array keys.
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;bar = $this-&gt;data ?&gt;
&lt;?php echo $this-&gt;placeholder('foo')-&gt;bar ?&gt;

&lt;?php
$foo = $this-&gt;placeholder('foo');
echo $foo['bar'];
?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.capture"></a><p class="title"><b>Example 960. Using Placeholders to Capture Content</b></p>
<div class="example-contents">
        

        <p>
            Occasionally you may have content for a placeholder in a view script
            that is easiest to template; the <code class="classname">Placeholder</code> view
            helper allows you to capture arbitrary content for later rendering
            using the following <acronym class="acronym">API</acronym>.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">captureStart($type, $key)</code> begins capturing
                    content.
                </p>

                <p>
                    <code class="varname">$type</code> should be one of the
                    <code class="classname">Placeholder</code> constants <code class="constant">APPEND</code> or
                    <code class="constant">SET</code>. If <code class="constant">APPEND</code>, captured content
                    is appended to the list of current content in the
                    placeholder; if <code class="constant">SET</code>, captured content is used
                    as the sole value of the placeholder (potentially replacing
                    any previous content). By default, <code class="varname">$type</code> is
                    <code class="constant">APPEND</code>.
                </p>

                <p>
                    <code class="varname">$key</code> can be used to specify a specific key in
                    the placeholder container to which you want content
                    captured.
                </p>

                <p>
                    <code class="methodname">captureStart()</code> locks capturing until
                    <code class="methodname">captureEnd()</code> is called; you cannot nest
                    capturing with the same placeholder container. Doing so will
                    raise an exception.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">captureEnd()</code> stops capturing content, and
                    places it in the container object according to how
                    <code class="methodname">captureStart()</code> was called.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
&lt;!-- Default capture: append --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart();
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo') ?&gt;
</pre>

        <pre class="programlisting">
&lt;!-- Capture to key --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart('SET', 'data');
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
 &lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo')-&gt;data ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.placeholder.implementations"></a>Concrete Placeholder Implementations</h5></div></div></div>
        

        <p>
            Zend Framework ships with a number of "concrete" placeholder
            implementations. These are for commonly used placeholders: doctype,
            page title, and various &lt;head&gt; elements. In all cases, calling
            the placeholder with no arguments returns the element itself.
        </p>

        <p>
            Documentation for each element is covered separately, as linked
            below:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="Doctype Helper">Doctype</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="HeadLink Helper">HeadLink</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headmeta" title="HeadMeta Helper">HeadMeta</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="HeadScript Helper">HeadScript</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headstyle" title="HeadStyle Helper">HeadStyle</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headtitle" title="HeadTitle Helper">HeadTitle</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="InlineScript Helper">InlineScript</a>
                </p>
            </li>
</ul></div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.doctype"></a>Doctype Helper</h4></div></div></div>
    

    <p>
        Valid <acronym class="acronym">HTML</acronym> and <acronym class="acronym">XHTML</acronym> documents should include a
        <code class="constant">DOCTYPE</code> declaration. Besides being difficult to remember, these can
        also affect how certain elements in your document should be rendered (for instance,
        CDATA escaping in <span class="emphasis"><em>&lt;script&gt;</em></span> and
        <span class="emphasis"><em>&lt;style&gt;</em></span> elements.
    </p>

    <p>
        The <code class="classname">Doctype</code> helper allows you to specify one of the
        following types:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p><code class="constant">XHTML11</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_STRICT</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_TRANSITIONAL</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_FRAMESET</code></p></li>
<li class="listitem"><p><code class="constant">XHTML1_RDFA</code></p></li>
<li class="listitem"><p><code class="constant">XHTML_BASIC1</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_STRICT</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_LOOSE</code></p></li>
<li class="listitem"><p><code class="constant">HTML4_FRAMESET</code></p></li>
<li class="listitem"><p><code class="constant">HTML5</code></p></li>
</ul></div>

    <p>
        You can also specify a custom doctype as long as it is well-formed.
    </p>

    <p>
        The <code class="classname">Doctype</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder helper</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.doctype.basicusage"></a><p class="title"><b>Example 961. Doctype Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify the doctype at any time. However, helpers that
            depend on the doctype for their output will recognize it only after
            you have set it, so the easiest approach is to specify it in your
            bootstrap:
        </p>

        <pre class="programlisting">
$doctypeHelper = new Zend_View_Helper_Doctype();
$doctypeHelper-&gt;doctype('XHTML1_STRICT');
</pre>

        <p>
            And then print it out on top of your layout script:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;doctype() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.doctype.retrieving"></a><p class="title"><b>Example 962. Retrieving the Doctype</b></p>
<div class="example-contents">
        

        <p>
            If you need to know the doctype, you can do so by calling
            <code class="methodname">getDoctype()</code> on the object, which is returned by
            invoking the helper.
        </p>

        <pre class="programlisting">
$doctype = $view-&gt;doctype()-&gt;getDoctype();
</pre>

        <p>
            Typically, you'll simply want to know if the doctype is <acronym class="acronym">XHTML</acronym> or
            not; for this, the <code class="methodname">isXhtml()</code> method will suffice:
        </p>

        <pre class="programlisting">
if ($view-&gt;doctype()-&gt;isXhtml()) {
    // do something differently
}
</pre>

        <p>
            You can also check if the doctype represents an <acronym class="acronym">HTML5</acronym> document.
        </p>

        <pre class="programlisting">
if ($view-&gt;doctype()-&gt;isHtml5()) {
    // do something differently
}
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.doctype.xhtml1_rdfa"></a><p class="title"><b>Example 963. Choosing a Doctype to Use with the Open Graph Protocol</b></p>
<div class="example-contents">
        

        <p>
            To implement the <a class="ulink" href="http://opengraphprotocol.org/" target="_top">
            Open Graph Protocol</a>, you may specify the XHTML1_RDFA doctype.
            This doctype allows a developer to use the <a class="ulink" href="http://www.w3.org/TR/xhtml-rdfa-primer/" target="_top">
            Resource Description Framework</a> within an <acronym class="acronym">XHTML</acronym> document.
        </p>

        <pre class="programlisting">
$doctypeHelper = new Zend_View_Helper_Doctype();
$doctypeHelper-&gt;doctype('XHTML1_RDFA');
</pre>

        <p>
        The RDFa doctype allows XHTML to validate when the 'property'
        meta tag attribute is used per the Open Graph Protocol spec.  Example
        within a view script:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;doctype('XHTML1_RDFA'); ?&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://opengraphprotocol.org/schema/"&gt;
&lt;head&gt;
   &lt;meta property="og:type" content="musician" /&gt;
</pre>

        <p>
            In the previous example, we set the property to og:type. The og references
            the Open Graph namespace we specified in the html tag.
            The content identifies the page as being about a musician.  See
            the <a class="ulink" href="http://opengraphprotocol.org/" target="_top">Open Graph Protocol documentation</a>
            for supported properties. The <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headmeta" title="HeadMeta Helper">HeadMeta helper</a>
            may be used to programmatically set these Open Graph Protocol meta tags.
        </p>

        <p>
            Here is how you check if the doctype is set to XHTML1_RDFA:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;doctype() ?&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"
      &lt;?php if ($view-&gt;doctype()-&gt;isRdfa()): ?&gt;
      xmlns:og="http://opengraphprotocol.org/schema/"
      xmlns:fb="http://www.facebook.com/2008/fbml"
      &lt;?php endif; ?&gt;
&gt;
</pre>

    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.gravatar"></a>Gravatar View Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Gravatar</code> view helper is used to received avatars from Gravatar's
        service.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.gravatar.usage"></a><p class="title"><b>Example 964. Basic Usage of Gravatar View Helper</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// From a view script (using XHTML DOCTYPE):
echo $this-&gt;gravatar('example@example.com');

/* results in the following output:
    &lt;img src="http://www.gravatar.com/avatar/23463b99b62a72f26ed677cc556c44e8?s=80&amp;d=mm&amp;r=g" /&gt;
 */
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Of course we can configure this helper. We can change height of image (by default it is
            80px), and add <acronym class="acronym">CSS</acronym> class or other attributes to image tag. The above
            simply shows the most basic usage.
        </p>
    </td></tr>
</table></div>

    <div class="warning"><table border="0" summary="Warning: Use a valid email address!">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Warning]" src="/assets/manual/img/warning.png"></td>
<th align="left">Use a valid email address!</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            The email address you provide the helper should be valid. This class does not validate
            the address (only the rating parameter). It is recommended to validate your email
            address within your model layer.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.gravatar.advanced"></a><p class="title"><b>Example 965. Advanced Usage of Gravatar View Helper</b></p>
<div class="example-contents">
        

        <p>
            There are several ways to configure the returned gravatar. In most cases, you may either
            pass an array of options as a second argument to the helper, or call methods on the
            returned object in order to configure it.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The <code class="varname">img_size</code> option can be used to specify an alternate
                    height; alternately, call <code class="methodname">setImgSize()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    The <code class="varname">secure</code> option can be used to force usage of SSL in
                    the returned image URI by passing a boolean <code class="constant">true</code> value (or
                    disabling SSL usage by passing <code class="constant">false</code>). Alternately, call
                    the <code class="methodname">setSecure()</code> method. (By default, the setting
                    follows the same security as the current page request.)
                </p>
            </li>
<li class="listitem">
                <p>
                    To add attributes to the image, pass an array of key/value pairs as the
                    <span class="emphasis"><em>third</em></span> argument to the helper, or call the
                    <code class="methodname">setAttribs()</code> method.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
// Within the view script (using HTML DOCTYPE)
echo $this-&gt;gravatar('example@example.com',
    array('imgSize' =&gt; 90, 'defaultImg' =&gt; 'monsterid', 'secure' =&gt; true),
    array('class' =&gt; 'avatar', 'title' =&gt; 'Title for this image')
);
    
// Or use mutator methods
$this-&gt;gravatar()
     -&gt;setEmail('example@example.com')
     -&gt;setImgSize(90)
     -&gt;setDefaultImg(Zend_View_Helper_Gravatar::DEFAULT_MONSTERID)
     -&gt;setSecure(true)
     -&gt;setAttribs(array('class' =&gt; 'avatar', 'title' =&gt; 'Title for this image'));

/* Both generate the following output:
&lt;img class="avatar" title="Title for this image"
    src="https://secure.gravatar.com/avatar/23463b99b62a72f26ed677cc556c44e8?s=90&amp;d=monsterid&amp;r=g" &gt;
 */
</pre>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helper.gravatar.options"></a>Options</h5></div></div></div>
        

        <div class="variablelist">
<p class="title"><b>Zend_Service_Gravatar Options</b></p>
<dl class="variablelist">
<dt><span class="term">img_size</span></dt>
<dd>
                    <p>
                        An integer describing the height of the avatar, in pixels; defaults to "80".
                    </p>
                </dd>
<dt><span class="term">default_img</span></dt>
<dd>
                    <p>
                        Image to return if the gravatar service is unable to match the email address
                        provided. Defaults to "mm", the "mystery man" image.
                    </p>
                </dd>
<dt><span class="term">rating</span></dt>
<dd>
                    <p>
                        Audience rating to confine returned images to. Defaults to "g"; may be one
                        of "g", "pg", "r", or "x", in order of least offensive to most offensive.
                    </p>
                </dd>
<dt><span class="term">secure</span></dt>
<dd>
                    <p>
                        Whether or not to load the image via an SSL connection. Defaults to the what
                        is detected from the current request.
                    </p>
                </dd>
</dl>
</div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headlink"></a>HeadLink Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;link&gt;</em></span> element is increasingly used
        for linking a variety of resources for your site: stylesheets, feeds,
        favicons, trackbacks, and more. The <code class="classname">HeadLink</code> helper
        provides a simple interface for creating and aggregating these elements
        for later retrieval and output in your layout script.
    </p>

    <p>
        The <code class="classname">HeadLink</code> helper has special methods for adding
        stylesheet links to its stack:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetStylesheet($index, $href, $media, $conditionalStylesheet,
                    $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setStylesheet($href, $media, $conditionalStylesheet, $extras)</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        The <code class="varname">$media</code> value defaults to 'screen', but may be any valid
        media value. <code class="varname">$conditionalStylesheet</code> is a string or boolean
        <code class="constant">FALSE</code>, and will be used at rendering time to determine if special
        comments should be included to prevent loading of the stylesheet on certain platforms.
        <code class="varname">$extras</code> is an array of any extra values that you want to be added
        to the tag.
    </p>

    <p>
        Additionally, the <code class="classname">HeadLink</code> helper has special methods for
        adding 'alternate' links to its stack:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendAlternate($href, $type, $title, $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetAlternate($index, $href, $type, $title, $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependAlternate($href, $type, $title, $extras)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setAlternate($href, $type, $title, $extras)</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        The <code class="methodname">headLink()</code> helper method allows specifying all
        attributes necessary for a <span class="emphasis"><em>&lt;link&gt;</em></span> element, and allows
        you to also specify placement -- whether the new element replaces all
        others, prepends (top of stack), or appends (end of stack).
    </p>

    <p>
        The <code class="classname">HeadLink</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder
            helper</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headlink.basicusage"></a><p class="title"><b>Example 966. HeadLink Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify a <span class="emphasis"><em>headLink</em></span> at any time. Typically, you
            will specify global links in your layout script, and application
            specific links in your application view scripts. In your layout
            script, in the &lt;head&gt; section, you will then echo the helper
            to output it.
        </p>

        <pre class="programlisting">
&lt;?php // setting links in a view script:
$this-&gt;headLink()-&gt;appendStylesheet('/styles/basic.css')
                 -&gt;headLink(array('rel' =&gt; 'icon',
                                  'href' =&gt; '/img/favicon.ico'),
                                  'PREPEND')
                 -&gt;prependStylesheet('/styles/moz.css',
                                     'screen',
                                     true,
                                     array('id' =&gt; 'my_stylesheet'));
?&gt;
&lt;?php // rendering the links: ?&gt;
&lt;?php echo $this-&gt;headLink() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headmeta"></a>HeadMeta Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;meta&gt;</em></span> element is used to provide
        meta information about your <acronym class="acronym">HTML</acronym> document -- typically keywords, document
        character set, caching pragmas, etc. Meta tags may be either of the
        'http-equiv' or 'name' types, must contain a 'content' attribute, and
        can also have either of the 'lang' or 'scheme' modifier attributes.
    </p>

    <p>
        The <code class="classname">HeadMeta</code> helper supports the following methods for
        setting and adding meta tags:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendName($keyValue, $content, $conditionalName)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetName($index, $keyValue, $content, $conditionalName)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependName($keyValue, $content, $conditionalName)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setName($keyValue, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>appendHttpEquiv($keyValue, $content, $conditionalHttpEquiv)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetHttpEquiv($index, $keyValue, $content,
                    $conditionalHttpEquiv)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependHttpEquiv($keyValue, $content, $conditionalHttpEquiv)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setHttpEquiv($keyValue, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setCharset($charset)</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        The following methods are also supported with XHTML1_RDFA doctype
        set with the <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="Doctype Helper">Doctype helper</a>:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetProperty($index, $property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        The <code class="varname">$keyValue</code> item is used to define a value for the 'name'
        or 'http-equiv' key; <code class="varname">$content</code> is the value for the
        'content' key, and <code class="varname">$modifiers</code> is an optional associative
        array that can contain keys for 'lang' and/or 'scheme'.
    </p>

    <p>
        You may also set meta tags using the <code class="methodname">headMeta()</code> helper
        method, which has the following signature: <span class="command"><strong>headMeta($content,
            $keyValue, $keyType = 'name', $modifiers = array(), $placement =
            'APPEND')</strong></span>. <code class="varname">$keyValue</code> is the content for the key
        specified in <code class="varname">$keyType</code>, which should be either 'name' or
        'http-equiv'. <code class="varname">$keyType</code> may also be specified as 'property' if the
        doctype has been set to XHTML1_RDFA. <code class="varname">$placement</code> can be 'SET' (overwrites
        all previously stored values), 'APPEND' (added to end of stack), or
        'PREPEND' (added to top of stack).
    </p>

    <p>
        <code class="classname">HeadMeta</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>

    <p>
        The <code class="classname">HeadMeta</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder helper</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headmeta.basicusage"></a><p class="title"><b>Example 967. HeadMeta Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify a new meta tag at any time. Typically, you
            will specify client-side caching rules or SEO keywords.
        </p>

        <p>
            For instance, if you wish to specify SEO keywords, you'd be creating
            a meta name tag with the name 'keywords' and the content the
            keywords you wish to associate with your page:
        </p>

        <pre class="programlisting">
// setting meta keywords
$this-&gt;headMeta()-&gt;appendName('keywords', 'framework, PHP, productivity');
</pre>

        <p>
            If you wished to set some client-side caching rules, you'd set
            http-equiv tags with the rules you wish to enforce:
        </p>

        <pre class="programlisting">
// disabling client-side cache
$this-&gt;headMeta()-&gt;appendHttpEquiv('expires',
                                   'Wed, 26 Feb 1997 08:21:57 GMT')
                 -&gt;appendHttpEquiv('pragma', 'no-cache')
                 -&gt;appendHttpEquiv('Cache-Control', 'no-cache');
</pre>

        <p>
            Another popular use for meta tags is setting the content type,
            character set, and language:
        </p>

        <pre class="programlisting">
// setting content type and character set
$this-&gt;headMeta()-&gt;appendHttpEquiv('Content-Type',
                                   'text/html; charset=UTF-8')
                 -&gt;appendHttpEquiv('Content-Language', 'en-US');
</pre>

        <p>
            If you are serving an <acronym class="acronym">HTML</acronym>5 document, you should provide the
            character set like this:
        </p>

        <pre class="programlisting">
// setting character set in HTML5
$this-&gt;headMeta()-&gt;setCharset('UTF-8'); // Will look like &lt;meta charset="UTF-8"&gt;
</pre>

        <p>
            As a final example, an easy way to display a transitional message
            before a redirect is using a "meta refresh":
        </p>

        <pre class="programlisting">
// setting a meta refresh for 3 seconds to a new url:
$this-&gt;headMeta()-&gt;appendHttpEquiv('Refresh',
                                   '3;URL=http://www.some.org/some.html');
</pre>

        <p>
            When you're ready to place your meta tags in the layout, simply echo the helper:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headMeta() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headmeta.property"></a><p class="title"><b>Example 968. HeadMeta Usage with XHTML1_RDFA doctype</b></p>
<div class="example-contents">
        

        <p>
            Enabling the RDFa doctype with the <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="Doctype Helper">Doctype helper</a>
            enables the use of the 'property' attribute (in addition to the standard 'name' and 'http-equiv') with HeadMeta.
            This is commonly used with the Facebook <a class="ulink" href="http://opengraphprotocol.org/" target="_top">Open Graph Protocol</a>.
        </p>

        <p>
            For instance, you may specify an open graph page title and type as follows:
        </p>

        <pre class="programlisting">
$this-&gt;doctype(Zend_View_Helper_Doctype::XHTML1_RDFA);
$this-&gt;headMeta()-&gt;setProperty('og:title', 'my article title');
$this-&gt;headMeta()-&gt;setProperty('og:type', 'article');
echo $this-&gt;headMeta();

// output is:
//   &lt;meta property="og:title" content="my article title" /&gt;
//   &lt;meta property="og:type" content="article" /&gt;
</pre>

    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headscript"></a>HeadScript Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;script&gt;</em></span> element is used to either
        provide inline client-side scripting elements or link to a remote resource
        containing client-side scripting code. The <code class="classname">HeadScript</code>
        helper allows you to manage both.
    </p>

    <p>
        The <code class="classname">HeadScript</code> helper supports the following methods for
        setting and adding scripts:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetFile($index, $src, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setFile($src, $type = 'text/javascript', $attrs = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>appendScript($script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetScript($index, $script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependScript($script, $type = 'text/javascript', $attrs =
                    array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setScript($script, $type = 'text/javascript', $attrs = array())</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        In the case of the *<code class="methodname">File()</code> methods, <code class="varname">$src</code> is
        the remote location of the script to load; this is usually in the form
        of a <acronym class="acronym">URL</acronym> or a path. For the *<code class="methodname">Script()</code> methods,
        <code class="varname">$script</code> is the client-side scripting directives you wish to
        use in the element.
    </p>

    <div class="note"><table border="0" summary="Note: Setting Conditional Comments">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Setting Conditional Comments</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="classname">HeadScript</code> allows you to wrap the script tag in conditional
            comments, which allows you to hide it from specific browsers. To add the conditional
            tags, pass the conditional value as part of the <code class="varname">$attrs</code> parameter in
            the method calls.
        </p>

        <div class="example">
<a name="zend.view.helpers.initial.headscript.conditional"></a><p class="title"><b>Example 969. Headscript With Conditional Comments</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
// adding scripts
$this-&gt;headScript()-&gt;appendFile(
    '/js/prototype.js',
    'text/javascript',
    array('conditional' =&gt; 'lt IE 7')
);
</pre>
        </div>
</div>
<br class="example-break">
    </td></tr>
</table></div>

    <div class="note"><table border="0" summary="Note: Preventing HTML style comments or CDATA wrapping of scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Preventing HTML style comments or CDATA wrapping of scripts</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            By default <code class="classname">HeadScript</code> will wrap scripts with HTML
            comments or it wraps scripts with XHTML cdata. This behavior can be
            problematic when you intend to use the script tag in an alternative way by
            setting the type to something other then 'text/javascript'. To prevent such
            escaping, pass an <code class="varname">noescape</code> with a value of true as part of
            the <code class="varname">$attrs</code> parameter in the method calls.
        </p>

        <div class="example">
<a name="zend.view.helpers.initial.headscript.noescape"></a><p class="title"><b>Example 970. Create an jQuery template with the headScript</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
// jquery template
$template = '&lt;div class="book"&gt;{{:title}}&lt;/div&gt;';
$this-&gt;headScript()-&gt;appendScript(
    $template,
    'text/x-jquery-tmpl',
    array('id='tmpl-book', 'noescape' =&gt; true)
);
</pre>
        </div>
</div>
<br class="example-break">
    </td></tr>
</table></div>

    <p>
        <code class="classname">HeadScript</code> also allows capturing scripts; this can be
        useful if you want to create the client-side script programmatically,
        and then place it elsewhere. The usage for this will be showed in an
        example below.
    </p>

    <p>
        Finally, you can also use the <code class="methodname">headScript()</code> method to
        quickly add script elements; the signature for this is
        <code class="methodname">headScript($mode = 'FILE', $spec, $placement = 'APPEND')</code>.
        The <code class="varname">$mode</code> is either 'FILE' or 'SCRIPT', depending on if
        you're linking a script or defining one. <code class="varname">$spec</code> is either
        the script file to link or the script source itself.
        <code class="varname">$placement</code> should be either 'APPEND', 'PREPEND', or 'SET'.
    </p>

    <p>
        <code class="classname">HeadScript</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>

    <p>
        The <code class="classname">HeadScript</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder helper</a>.
    </p>

    <div class="note"><table border="0" summary="Note: Use InlineScript for HTML Body Scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Use InlineScript for HTML Body Scripts</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="classname">HeadScript</code>'s sibling helper, <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="InlineScript Helper">InlineScript</a>,
            should be used when you wish to include scripts inline in the <acronym class="acronym">HTML</acronym>
            <span class="emphasis"><em>body</em></span>. Placing scripts at the end of your document is a
            good practice for speeding up delivery of your page, particularly
            when using 3rd party analytics scripts.
        </p>
    </td></tr>
</table></div>

    <div class="note"><table border="0" summary="Note: Arbitrary Attributes are Disabled by Default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Arbitrary Attributes are Disabled by Default</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            By default, <code class="classname">HeadScript</code> only will render
            <span class="emphasis"><em>&lt;script&gt;</em></span> attributes that are blessed by the W3C.
            These include 'type', 'charset', 'defer', 'language', and 'src'.
            However, some javascript frameworks, notably <a class="ulink" href="http://www.dojotoolkit.org/" target="_top">Dojo</a>, utilize custom
            attributes in order to modify behavior. To allow such attributes,
            you can enable them via the
            <code class="methodname">setAllowArbitraryAttributes()</code> method:
        </p>

        <pre class="programlisting">
$this-&gt;headScript()-&gt;setAllowArbitraryAttributes(true);
</pre>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.headscript.basicusage"></a><p class="title"><b>Example 971. HeadScript Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify a new script tag at any time. As noted above, these
            may be links to outside resource files or scripts themselves.
        </p>

        <pre class="programlisting">
// adding scripts
$this-&gt;headScript()-&gt;appendFile('/js/prototype.js')
                   -&gt;appendScript($onloadScript);
</pre>

        <p>
            Order is often important with client-side scripting; you may need to
            ensure that libraries are loaded in a specific order due to
            dependencies each have; use the various append, prepend, and
            offsetSet directives to aid in this task:
        </p>

        <pre class="programlisting">
// Putting scripts in order

// place at a particular offset to ensure loaded last
$this-&gt;headScript()-&gt;offsetSetFile(100, '/js/myfuncs.js');

// use scriptaculous effects (append uses next index, 101)
$this-&gt;headScript()-&gt;appendFile('/js/scriptaculous.js');

// but always have base prototype script load first:
$this-&gt;headScript()-&gt;prependFile('/js/prototype.js');
</pre>

        <p>
            When you're finally ready to output all scripts in your layout
            script, simply echo the helper:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headScript() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headscript.capture"></a><p class="title"><b>Example 972. Capturing Scripts Using the HeadScript Helper</b></p>
<div class="example-contents">
        

        <p>
            Sometimes you need to generate client-side scripts programmatically.
            While you could use string concatenation, heredocs, and the like,
            often it's easier just to do so by creating the script and
            sprinkling in <acronym class="acronym">PHP</acronym> tags. <code class="classname">HeadScript</code> lets you do
            just that, capturing it to the stack:
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;headScript()-&gt;captureStart() ?&gt;
var action = '&lt;?php echo $this-&gt;baseUrl ?&gt;';
$('foo_form').action = action;
&lt;?php $this-&gt;headScript()-&gt;captureEnd() ?&gt;
</pre>

        <p>
            The following assumptions are made:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The script will be appended to the stack. If you wish for it
                    to replace the stack or be added to the top, you will need
                    to pass 'SET' or 'PREPEND', respectively, as the first
                    argument to <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    The script <acronym class="acronym">MIME</acronym> type is assumed to be 'text/javascript'; if
                    you wish to specify a different type, you will need to pass it
                    as the second argument to <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    If you wish to specify any additional attributes for the
                    <span class="emphasis"><em>&lt;script&gt;</em></span> tag, pass them in an array as
                    the third argument to <code class="methodname">captureStart()</code>.
                </p>
            </li>
</ul></div>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headstyle"></a>HeadStyle Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;style&gt;</em></span> element is used to include
        <acronym class="acronym">CSS</acronym> stylesheets inline in the <acronym class="acronym">HTML</acronym>
        <span class="emphasis"><em>&lt;head&gt;</em></span> element.
    </p>

    <div class="note"><table border="0" summary="Note: Use HeadLink to link CSS files">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Use HeadLink to link CSS files</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="HeadLink Helper">HeadLink</a>
            should be used to create <span class="emphasis"><em>&lt;link&gt;</em></span> elements for
            including external stylesheets. <code class="classname">HeadStyle</code> is used when
            you wish to define your stylesheets inline.
        </p>
    </td></tr>
</table></div>

    <p>
        The <code class="classname">HeadStyle</code> helper supports the following methods for
        setting and adding stylesheet declarations:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendStyle($content, $attributes = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetStyle($index, $content, $attributes = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependStyle($content, $attributes = array())</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setStyle($content, $attributes = array())</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        In all cases, <code class="varname">$content</code> is the actual <acronym class="acronym">CSS</acronym> declarations.
        <code class="varname">$attributes</code> are any additional attributes you wish to provide to the
        <span class="property">style</span> tag: lang, title, media, or dir are all permissible.
    </p>

    <div class="note"><table border="0" summary="Note: Setting Conditional Comments">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Setting Conditional Comments</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="classname">HeadStyle</code> allows you to wrap the style tag in conditional
            comments, which allows you to hide it from specific browsers. To add the conditional
            tags, pass the conditional value as part of the <code class="varname">$attributes</code> parameter
            in the method calls.
        </p>

        <div class="example">
<a name="zend.view.helpers.initial.headstyle.conditional"></a><p class="title"><b>Example 973. Headstyle With Conditional Comments</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
// adding scripts
$this-&gt;headStyle()-&gt;appendStyle($styles, array('conditional' =&gt; 'lt IE 7'));
</pre>
        </div>
</div>
<br class="example-break">
    </td></tr>
</table></div>

    <p>
        <code class="classname">HeadStyle</code> also allows capturing style declarations; this
        can be useful if you want to create the declarations programmatically,
        and then place them elsewhere. The usage for this will be showed in an
        example below.
    </p>

    <p>
        Finally, you can also use the <code class="methodname">headStyle()</code> method to
        quickly add declarations elements; the signature for this is
        <code class="methodname">headStyle($content$placement = 'APPEND', $attributes = array())</code>.
        <code class="varname">$placement</code> should be either 'APPEND', 'PREPEND', or 'SET'.
    </p>

    <p>
        <code class="classname">HeadStyle</code> overrides each of <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, and
        <code class="methodname">set()</code> to enforce usage of the special methods as listed above.
        Internally, it stores each item as a <span class="property">stdClass</span> token, which it later
        serializes using the <code class="methodname">itemToString()</code> method. This allows you
        to perform checks on the items in the stack, and optionally modify these
        items by simply modifying the object returned.
    </p>

    <p>
        The <code class="classname">HeadStyle</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder
            helper</a>.
    </p>

    <div class="note"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding, and,
            specific to this case, <code class="classname">Zend_View</code> does as well. Character encoding
            can be set differently on the view object itself using the
            <code class="methodname">setEncoding()</code> method (or the <code class="varname">encoding</code>
            instantiation parameter). However, since <code class="classname">Zend_View_Interface</code> does
            not define accessors for encoding, it's possible that if you are using a custom view
            implementation with this view helper, you will not have a
            <code class="methodname">getEncoding()</code> method, which is what the view helper uses
            internally for determining the character set in which to encode.
        </p>

        <p>
            If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
            need to implement a <code class="methodname">getEncoding()</code> method in your custom view
            implementation.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.headstyle.basicusage"></a><p class="title"><b>Example 974. HeadStyle Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify a new style tag at any time:
        </p>

        <pre class="programlisting">
// adding styles
$this-&gt;headStyle()-&gt;appendStyle($styles);
</pre>

        <p>
            Order is very important with <acronym class="acronym">CSS</acronym>; you may need to ensure that
            declarations are loaded in a specific order due to the order of the
            cascade; use the various append, prepend, and offsetSet directives
            to aid in this task:
        </p>

        <pre class="programlisting">
// Putting styles in order

// place at a particular offset:
$this-&gt;headStyle()-&gt;offsetSetStyle(100, $customStyles);

// place at end:
$this-&gt;headStyle()-&gt;appendStyle($finalStyles);

// place at beginning
$this-&gt;headStyle()-&gt;prependStyle($firstStyles);
</pre>

        <p>
            When you're finally ready to output all style declarations in your
            layout script, simply echo the helper:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headStyle() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headstyle.capture"></a><p class="title"><b>Example 975. Capturing Style Declarations Using the HeadStyle Helper</b></p>
<div class="example-contents">
        

        <p>
            Sometimes you need to generate <acronym class="acronym">CSS</acronym> style declarations
            programmatically. While you could use string concatenation,
            heredocs, and the like, often it's easier just to do so by creating
            the styles and sprinkling in <acronym class="acronym">PHP</acronym> tags.
            <code class="classname">HeadStyle</code> lets you do just that, capturing it to the stack:
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;headStyle()-&gt;captureStart() ?&gt;
body {
    background-color: &lt;?php echo $this-&gt;bgColor ?&gt;;
}
&lt;?php $this-&gt;headStyle()-&gt;captureEnd() ?&gt;
</pre>

        <p>
            The following assumptions are made:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The style declarations will be appended to the stack. If you
                    wish for them to replace the stack or be added to the top,
                    you will need to pass 'SET' or 'PREPEND', respectively, as
                    the first argument to <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    If you wish to specify any additional attributes for the
                    <span class="emphasis"><em>&lt;style&gt;</em></span> tag, pass them in an array as
                    the second argument to <code class="methodname">captureStart()</code>.
                </p>
            </li>
</ul></div>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headtitle"></a>HeadTitle Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;title&gt;</em></span> element is used to provide a
        title for an <acronym class="acronym">HTML</acronym> document. The <code class="classname">HeadTitle</code> helper
        allows you to programmatically create and store the title for later retrieval and output.
    </p>

    <p>
        The <code class="classname">HeadTitle</code> helper is a concrete implementation of the
        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder
            helper</a>. It overrides the <code class="methodname">toString()</code> method to
        enforce generating a <span class="emphasis"><em>&lt;title&gt;</em></span> element, and adds a
        <code class="methodname">headTitle()</code> method for quick and easy setting and
        aggregation of title elements. The signature for that method is
        <code class="methodname">headTitle($title, $setType = null)</code>; by default, the
        value is appended to the stack (aggregating title segments) if left at null, but you may
        also specify either 'PREPEND' (place at top of stack) or 'SET'
        (overwrite stack).
    </p>

    <p>
        Since setting the aggregating (attach) order on each call to <code class="methodname">
        headTitle</code> can be cumbersome, you can set a default attach order
        by calling <code class="methodname">setDefaultAttachOrder()</code> which is applied
        to all <code class="methodname">headTitle()</code> calls unless you explicitly
        pass a different attach order as the second parameter.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headtitle.basicusage"></a><p class="title"><b>Example 976. HeadTitle Helper Basic Usage</b></p>
<div class="example-contents">
        

        <p>
            You may specify a title tag at any time. A typical usage would have
            you setting title segments for each level of depth in your
            application: site, controller, action, and potentially resource.
        </p>

        <pre class="programlisting">
 // setting the controller and action name as title segments:
$request = Zend_Controller_Front::getInstance()-&gt;getRequest();
$this-&gt;headTitle($request-&gt;getActionName())
     -&gt;headTitle($request-&gt;getControllerName());

// setting the site in the title; possibly in the layout script:
$this-&gt;headTitle('Zend Framework');

// setting a separator string for segments:
$this-&gt;headTitle()-&gt;setSeparator(' / ');
</pre>

        <p>
            When you're finally ready to render the title in your layout
            script, simply echo the helper:
        </p>

        <pre class="programlisting">
&lt;!-- renders &lt;action&gt; / &lt;controller&gt; / Zend Framework --&gt;
&lt;?php echo $this-&gt;headTitle() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.object"></a>HTML Object Helpers</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>
&lt;object&gt;</em></span> element is used for embedding
        media like Flash or QuickTime in web pages. The object view helpers take
        care of embedding media with minimum effort.
    </p>

    <p>
        There are four initial Object helpers:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="methodname">htmlFlash()</code>
                Generates markup for embedding Flash files.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">htmlObject()</code>
                Generates markup for embedding a custom Object.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">htmlPage()</code>
                Generates markup for embedding other (X)HTML pages.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">htmlQuicktime()</code>
                Generates markup for embedding QuickTime files.
            </p>
        </li>
</ul></div>

    <p>
        All of these helpers share a similar interface. For this reason, this
        documentation will only contain examples of two of these helpers.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.object.flash"></a><p class="title"><b>Example 977. Flash helper</b></p>
<div class="example-contents">
        

        <p>
            Embedding Flash in your page using the helper is pretty straight-forward.
            The only required argument is the resource <acronym class="acronym">URI</acronym>.
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;htmlFlash('/path/to/flash.swf'); ?&gt;
</pre>

        <p>
            This outputs the following <acronym class="acronym">HTML</acronym>:
        </p>

        <pre class="programlisting">
&lt;object data="/path/to/flash.swf"
        type="application/x-shockwave-flash"
        classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"&gt;
&lt;/object&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Additionally you can specify attributes, parameters and content that can
        be rendered along with the <span class="emphasis"><em>
&lt;object&gt;</em></span>. This will
        be demonstrated using the <code class="methodname">htmlObject()</code> helper.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.object.object"></a><p class="title"><b>Example 978. Customizing the object by passing additional arguments</b></p>
<div class="example-contents">
        

        <p>
            The first argument in the object helpers is always required. It is
            the <acronym class="acronym">URI</acronym> to the resource you want to embed. The second argument is
            only required in the <code class="methodname">htmlObject()</code> helper. The other helpers
            already contain the correct value for this argument. The third
            argument is used for passing along attributes to the object element.
            It only accepts an array with key-value pairs. <span class="property">classid</span>
            and <span class="property">codebase</span> are examples of such attributes. The fourth
            argument also only takes a key-value array and uses them to create
            <span class="emphasis"><em>
&lt;param&gt;</em></span> elements. You will see an example
            of this shortly. Lastly, there is the option of providing additional
            content to the object. Now for an example which utilizes all arguments.
        </p>

        <pre class="programlisting">
echo $this-&gt;htmlObject(
    '/path/to/file.ext',
    'mime/type',
    array(
        'attr1' =&gt; 'aval1',
        'attr2' =&gt; 'aval2'
    ),
    array(
        'param1' =&gt; 'pval1',
        'param2' =&gt; 'pval2'
    ),
    'some content'
);

/*
This would output:

&lt;object data="/path/to/file.ext" type="mime/type"
    attr1="aval1" attr2="aval2"&gt;
    &lt;param name="param1" value="pval1" /&gt;
    &lt;param name="param2" value="pval2" /&gt;
    some content
&lt;/object&gt;
*/
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.inlinescript"></a>InlineScript Helper</h4></div></div></div>
    

    <p>
        The <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>&lt;script&gt;</em></span> element is used to either
        provide inline client-side scripting elements or link to a remote resource
        containing client-side scripting code. The <code class="classname">InlineScript</code>
        helper allows you to manage both. It is derived from <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="HeadScript Helper">HeadScript</a>,
        and any method of that helper is available; however, use the
        <code class="methodname">inlineScript()</code> method in place of
        <code class="methodname">headScript()</code>.
    </p>

    <div class="note"><table border="0" summary="Note: Use InlineScript for HTML Body Scripts">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Use InlineScript for HTML Body Scripts</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="classname">InlineScript</code>, should be used when you wish to include
            scripts inline in the <acronym class="acronym">HTML</acronym> <span class="emphasis"><em>body</em></span>. Placing scripts
            at the end of your document is a good practice for speeding up delivery of
            your page, particularly when using 3rd party analytics scripts.
        </p>

        <p>
            Some JS libraries need to be included in the <acronym class="acronym">HTML</acronym>
            <span class="emphasis"><em>head</em></span>; use <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="HeadScript Helper">HeadScript</a> for those scripts.
        </p>
    </td></tr>
</table></div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.rendertoplaceholder"></a>RenderToPlaceholder Helper</h4></div></div></div>
    

    <p>
        Renders a template (view script) and stores the rendered output as a
        placeholder variable for later use.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            The helper uses the <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="Placeholder Helper">Placeholder helper</a>
            and his <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder.capture" title="Example 960. Using Placeholders to Capture Content">Capture methods</a>.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.rendertoplaceholder.usage"></a><p class="title"><b>Example 979. Basic Usage of RenderToPlaceholder</b></p>
<div class="example-contents">
        

<pre class="programlisting">
&lt;?php
// View script (backlink.phtml):
echo sprintf(
    '&lt;p class="older"&gt;&lt;a href="%s"&gt;Older posts&lt;/a&gt;&lt;/p&gt;',
    $this-&gt;url(array('controller' =&gt; 'index', 'action' =&gt; 'index'))
)
?&gt;

&lt;?php
// Usage:
$this-&gt;renderToPlaceholder('backlink.phtml', 'link');
?&gt;

&lt;?php
echo $this-&gt;placeholder('link');
// Output: &lt;p class="older"&gt;&lt;a href="index/index"&gt;Older posts&lt;/a&gt;&lt;/p&gt;
?&gt;
</pre>
    </div>
</div>
<br class="example-break">

</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.json"></a>JSON Helper</h4></div></div></div>
    

    <p>
        When creating views that return <acronym class="acronym">JSON</acronym>, it's important to also set the
        appropriate response header. The <acronym class="acronym">JSON</acronym> view helper does exactly that. In
        addition, by default, it disables layouts (if currently enabled), as
        layouts generally aren't used with <acronym class="acronym">JSON</acronym> responses.
    </p>

    <p>
        The <acronym class="acronym">JSON</acronym> helper sets the following header:
    </p>

    <pre class="programlisting">
Content-Type: application/json
</pre>

    <p>
        Most <acronym class="acronym">AJAX</acronym> libraries look for this header when parsing responses to
        determine how to handle the content.
    </p>

    <p>
        Usage of the <acronym class="acronym">JSON</acronym> helper is very straightforward:
    </p>

    <pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data) ?&gt;
</pre>

    <div class="note"><table border="0" summary="Note: Keeping layouts and enabling encoding using Zend_Json_Expr">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Keeping layouts and enabling encoding using Zend_Json_Expr</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Each method in the <acronym class="acronym">JSON</acronym> helper accepts a second, optional argument.
            This second argument can be a boolean flag to enable or disable
            layouts, or an array of options that will be passed to
            <code class="methodname">Zend_Json::encode()</code> and used internally to encode data.
        </p>

        <p>
            To keep layouts, the second parameter needs to be boolean
            <code class="constant">TRUE</code>. When the second parameter is an array, keeping
            layouts can be achieved by including a <span class="property">keepLayouts</span> key
            with a value of a boolean <code class="constant">TRUE</code>.
        </p>

        <pre class="programlisting">
// Boolean true as second argument enables layouts:
echo $this-&gt;json($this-&gt;data, true);

// Or boolean true as "keepLayouts" key:
echo $this-&gt;json($this-&gt;data, array('keepLayouts' =&gt; true));
</pre>

        <p>
            <code class="classname">Zend_Json::encode</code> allows the encoding of native
            <acronym class="acronym">JSON</acronym> expressions using <code class="classname">Zend_Json_Expr</code> objects.
            This option is disabled by default. To enable this option, pass a boolean
            <code class="constant">TRUE</code> to the <span class="property">enableJsonExprFinder</span> key of
            the options array:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data, array(
    'enableJsonExprFinder' =&gt; true,
    'keepLayouts'          =&gt; true,
)) ?&gt;
</pre>
    </td></tr>
</table></div>
    
    <div class="note"><table border="0" summary="Note: Sending pre-encoded JSON">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Sending pre-encoded JSON</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            By default, the <acronym class="acronym">JSON</acronym> helper will JSON-encode the 
            data provided to the helper's first parameter.  If you wish to pass 
            in data which has already been encoded into <acronym class="acronym">JSON</acronym>, 
            the third parameter needs to be set to boolean <code class="constant">FALSE</code>.  
            When the second parameter is an array, disabling <acronym class="acronym">JSON</acronym> 
            encoding can be achived by including a <span class="property">encodeData</span> 
            key with the value of boolean <code class="constant">FALSE</code>:
        </p>

        <pre class="programlisting">
// Boolean false as third argument disables internal JSON encoding of data
echo $this-&gt;json($this-&gt;data, false, false);

// Or boolean false as "encodeData" key:
echo $this-&gt;json($this-&gt;data, array('encodeData' =&gt; false));
</pre>

    </td></tr>
</table></div>
    
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.navigation"></a>Navigation Helpers</h4></div></div></div>
    

    <p>
        The navigation helpers are used for rendering navigational elements
        from <a class="link" href="zend.navigation.containers.html" title="Containers">Zend_Navigation_Container</a>
        instances.
    </p>

    <p>
        There are 5 built-in helpers:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.breadcrumbs" title="Breadcrumbs Helper">Breadcrumbs</a>,
                used for rendering the path to the currently active page.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links" title="Links Helper">Links</a>,
                used for rendering navigational head links (e.g.
                <span class="command"><strong>&lt;link rel="next" href="..." /&gt;</strong></span>)
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.menu" title="Menu Helper">Menu</a>,
                used for rendering menus.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.sitemap" title="Sitemap Helper">Sitemap</a>,
                used for rendering sitemaps conforming to the <a class="ulink" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                    format</a>.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">Navigation</a>,
                used for proxying calls to other navigational helpers.
            </p>
        </li>
</ul></div>

    <p>
        All built-in helpers extend
        <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>, which
        adds integration with <a class="link" href="zend.acl.html" title="Zend_Acl">ACL</a> and
        <a class="link" href="zend.translate.html" title="Zend_Translate">translation</a>. The abstract class
        implements the interface
        <code class="classname">Zend_View_Helper_Navigation_Helper</code>, which
        defines the following methods:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="methodname">getContainer()</code> and <code class="methodname">setContainer()</code>
                gets and sets the navigation container the helper should operate on by default, and
                <code class="methodname">hasContainer()</code> checks if the helper
                has container registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getTranslator()</code> and
                <code class="methodname">setTranslator()</code> gets and sets the
                translator used for translating labels and titles.
                <code class="methodname">getUseTranslator()</code> and
                <code class="methodname">setUseTranslator()</code> controls whether
                the translator should be enabled. The method
                <code class="methodname">hasTranslator()</code> checks if the helper has
                a translator registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getAcl()</code>, <code class="methodname">setAcl()</code>,
                <code class="methodname">getRole()</code> and <code class="methodname">setRole()</code>,
                gets and sets <acronym class="acronym">ACL</acronym> (<code class="classname">Zend_Acl</code>) instance and
                role (<span class="type">String</span> or
                <code class="classname">Zend_Acl_Role_Interface</code>) used for
                filtering out pages when rendering. <code class="methodname">getUseAcl()</code> and
                <code class="methodname">setUseAcl()</code> controls whether <acronym class="acronym">ACL</acronym> should
                be enabled. The methods <code class="methodname">hasAcl()</code> and
                <code class="methodname">hasRole()</code> checks if the helper has an
                <acronym class="acronym">ACL</acronym> instance or a role registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">__toString()</code>, magic method to ensure that
                helpers can be rendered by echoing the helper instance directly.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">render()</code>, must be implemented by concrete
                helpers to do the actual rendering.
            </p>
        </li>
</ul></div>

    <p>
         In addition to the method stubs from the interface, the abstract
         class also implements the following methods:
    </p>

     <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="methodname">getIndent()</code> and <code class="methodname">setIndent()</code>
                gets and sets indentation. The setter accepts a <span class="type">String</span> or an
                <span class="type">Integer</span>. In the case of an <span class="type">Integer</span>, the helper will use
                the given number of spaces for indentation. I.e.,
                <code class="methodname">setIndent(4)</code> means 4 initial spaces of
                indentation. Indentation can be specified for all helpers
                except the Sitemap helper.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getMinDepth()</code> and <code class="methodname">setMinDepth()</code>
                gets and sets the minimum depth a page must have to be included by the helper.
                Setting <code class="constant">NULL</code> means no minimum depth.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getMaxDepth()</code> and <code class="methodname">setMaxDepth()</code>
                gets and sets the maximum depth a page can have to be included by the helper.
                Setting <code class="constant">NULL</code> means no maximum depth.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getRenderInvisible()</code> and
                <code class="methodname">setRenderInvisible()</code> gets and sets whether to
                render items that have been marked as invisible or not.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">__call()</code> is used for proxying calls to the
                container registered in the helper, which means you can
                call methods on a helper as if it was a container. See <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.proxy.example" title="Example 980. Proxying calls to the navigation container">example</a>
                below.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">findActive($container, $minDepth, $maxDepth)</code>
                is used for finding the deepest active page in the given
                container. If depths are not given, the method will use
                the values retrieved from <code class="methodname">getMinDepth()</code> and
                <code class="methodname">getMaxDepth()</code>. The deepest active page must
                be between <code class="varname">$minDepth</code> and <code class="varname">$maxDepth</code>
                inclusively. Returns an array containing a reference to the
                found page instance and the depth at which the page was
                found.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">htmlify()</code> renders an <span class="emphasis"><em>'a'</em></span>
                <acronym class="acronym">HTML</acronym> element from a <code class="classname">Zend_Navigation_Page</code>
                instance.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">accept()</code> is used for determining if a page
                should be accepted when iterating containers. This method
                checks for page visibility and verifies that the helper's
                role is allowed access to the page's resource and privilege.
            </p>
        </li>
<li class="listitem">
            <p>
                The static method <code class="methodname">setDefaultAcl()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> object that will be used by helpers.
            </p>
        </li>
<li class="listitem">
            <p>
                The static method <code class="methodname">setDefaultRole()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> that will be used by helpers
            </p>
        </li>
</ul></div>

    <p>
        If a navigation container is not explicitly set in a helper using
        <span class="command"><strong>$helper-&gt;setContainer($nav)</strong></span>, the helper will look
        for a container instance with the key <code class="classname">Zend_Navigation</code> in
        <a class="link" href="zend.registry.html" title="Zend_Registry">the registry</a>.
        If a container is not explicitly set or found in the registry, the
        helper will create an empty <code class="classname">Zend_Navigation</code>
        container when calling <span class="command"><strong>$helper-&gt;getContainer()</strong></span>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.navigation.proxy.example"></a><p class="title"><b>Example 980. Proxying calls to the navigation container</b></p>
<div class="example-contents">
        

        <p>
            Navigation view helpers use the magic method <code class="methodname">__call()</code>
            to proxy method calls to the navigation container that is
            registered in the view helper.
        </p>

        <pre class="programlisting">
$this-&gt;navigation()-&gt;addPage(array(
    'type' =&gt; 'uri',
    'label' =&gt; 'New page'));
</pre>

        <p>
            The call above will add a page to the container in the
            <code class="classname">Navigation</code> helper.
        </p>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.i18n"></a>Translation of labels and titles</h5></div></div></div>
        

        <p>
            The navigation helpers support translation of page labels and titles.
            You can set a translator of type <code class="classname">Zend_Translate</code>
            or <code class="classname">Zend_Translate_Adapter</code> in the helper using
            <span class="command"><strong>$helper-&gt;setTranslator($translator)</strong></span>, or like with other
            I18n-enabled components; by adding the translator to
            <a class="link" href="zend.registry.html" title="Zend_Registry">the registry</a> by using the key
            <code class="classname">Zend_Translate</code>.
        </p>

        <p>
            If you want to disable translation, use
            <span class="command"><strong>$helper-&gt;setUseTranslator(false)</strong></span>.
        </p>

        <p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">proxy
            helper</a> will inject its own translator to the helper it
            proxies to if the proxied helper doesn't already have a translator.
        </p>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                There is no translation in the sitemap helper, since there
                are no page labels or titles involved in an <acronym class="acronym">XML</acronym> sitemap.
            </p>
        </td></tr>
</table></div>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.acl"></a>Integration with ACL</h5></div></div></div>
        

        <p>
            All navigational view helpers support <acronym class="acronym">ACL</acronym> inherently from the
            class <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>.
            A <code class="classname">Zend_Acl</code> object can be assigned to
            a helper instance with <code class="code">$helper-&gt;setAcl($acl)</code>, and role
            with <code class="code">$helper-&gt;setRole('member')</code> or
            <code class="code">$helper-&gt;setRole(new Zend_Acl_Role('member'))</code> . If <acronym class="acronym">ACL</acronym>
            is used in the helper, the role in the helper must be allowed by
            the <acronym class="acronym">ACL</acronym> to access a page's <code class="code">resource</code> and/or have the
            page's <code class="code">privilege</code> for the page to be included when
            rendering.
        </p>

        <p>
            If a page is not accepted by <acronym class="acronym">ACL</acronym>, any descendant page will also
            be excluded from rendering.
        </p>

        <p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">proxy
            helper</a> will inject its own <acronym class="acronym">ACL</acronym> and role to the helper it
            proxies to if the proxied helper doesn't already have any.
        </p>

        <p>
            The examples below all show how <acronym class="acronym">ACL</acronym> affects rendering.
        </p>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.setup"></a>Navigation setup used in examples</h5></div></div></div>
        

        <p>
            This example shows the setup of a navigation container for a
            fictional software company.
        </p>

        <p>
            Notes on the setup:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The domain for the site is <code class="code">www.example.com</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    Interesting page properties are marked with a comment.
                </p>
            </li>
<li class="listitem">
                <p>
                    Unless otherwise is stated in other examples, the user
                    is requesting the <acronym class="acronym">URL</acronym>
                    <code class="code">http://www.example.com/products/server/faq/</code>,
                    which translates to the page labeled <code class="constant">FAQ</code>
                    under <code class="code">Foo Server</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    The assumed <acronym class="acronym">ACL</acronym> and router setup is shown below the
                    container setup.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
/*
 * Navigation container (config/array)

 * Each element in the array will be passed to
 * Zend_Navigation_Page::factory() when constructing
 * the navigation container below.
 */
$pages = array(
    array(
        'label'      =&gt; 'Home',
        'title'      =&gt; 'Go Home',
        'module'     =&gt; 'default',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'order'      =&gt; -100 // make sure home is the first page
    ),
    array(
        'label'      =&gt; 'Special offer this week only!',
        'module'     =&gt; 'store',
        'controller' =&gt; 'offer',
        'action'     =&gt; 'amazing',
        'visible'    =&gt; false // not visible
    ),
    array(
        'label'      =&gt; 'Products',
        'module'     =&gt; 'products',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Foo Server',
                'module'     =&gt; 'products',
                'controller' =&gt; 'server',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'FAQ',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'faq',
                        'rel'        =&gt; array(
                            'canonical' =&gt; 'http://www.example.com/?page=faq',
                            'alternate' =&gt; array(
                                'module'     =&gt; 'products',
                                'controller' =&gt; 'server',
                                'action'     =&gt; 'faq',
                                'params'     =&gt; array('format' =&gt; 'xml')
                            )
                        )
                    ),
                    array(
                        'label'      =&gt; 'Editions',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'editions'
                    ),
                    array(
                        'label'      =&gt; 'System Requirements',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'requirements'
                    )
                )
            ),
            array(
                'label'      =&gt; 'Foo Studio',
                'module'     =&gt; 'products',
                'controller' =&gt; 'studio',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Customer Stories',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'customers'
                    ),
                    array(
                        'label'      =&gt; 'Support',
                        'module'     =&gt; 'prodcts',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'support'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Company',
        'title'      =&gt; 'About us',
        'module'     =&gt; 'company',
        'controller' =&gt; 'about',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Investor Relations',
                'module'     =&gt; 'company',
                'controller' =&gt; 'about',
                'action'     =&gt; 'investors'
            ),
            array(
                'label'      =&gt; 'News',
                'class'      =&gt; 'rss', // class
                'module'     =&gt; 'company',
                'controller' =&gt; 'news',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Press Releases',
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'press'
                    ),
                    array(
                        'label'      =&gt; 'Archive',
                        'route'      =&gt; 'archive', // route
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'archive'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Community',
        'module'     =&gt; 'community',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'My Account',
                'module'     =&gt; 'community',
                'controller' =&gt; 'account',
                'action'     =&gt; 'index',
                'resource'   =&gt; 'mvc:community.account' // resource
            ),
            array(
                'label' =&gt; 'Forums',
                'uri'   =&gt; 'http://forums.example.com/',
                'class' =&gt; 'external' // class
            )
        )
    ),
    array(
        'label'      =&gt; 'Administration',
        'module'     =&gt; 'admin',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'resource'   =&gt; 'mvc:admin', // resource
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Write new article',
                'module'     =&gt; 'admin',
                'controller' =&gt; 'post',
                'aciton'     =&gt; 'write'
            )
        )
    )
);

// Create container from array
$container = new Zend_Navigation($pages);

// Store the container in the proxy helper:
$view-&gt;getHelper('navigation')-&gt;setContainer($container);

// ...or simply:
$view-&gt;navigation($container);

// ...or store it in the reigstry:
Zend_Registry::set('Zend_Navigation', $container);
</pre>

        <p>
            In addition to the container above, the following setup is assumed:
        </p>

        <pre class="programlisting">
// Setup router (default routes and 'archive' route):
$front = Zend_Controller_Front::getInstance();
$router = $front-&gt;getRouter();
$router-&gt;addDefaultRoutes();
$router-&gt;addRoute(
    'archive',
    new Zend_Controller_Router_Route(
        '/archive/:year',
        array(
            'module'     =&gt; 'company',
            'controller' =&gt; 'news',
            'action'     =&gt; 'archive',
            'year'       =&gt; (int) date('Y') - 1
        ),
        array('year' =&gt; '\d+')
    )
);

// Setup ACL:
$acl = new Zend_Acl();
$acl-&gt;addRole(new Zend_Acl_Role('member'));
$acl-&gt;addRole(new Zend_Acl_Role('admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:community.account'));
$acl-&gt;allow('member', 'mvc:community.account');
$acl-&gt;allow('admin', null);

// Store ACL and role in the proxy helper:
$view-&gt;navigation()-&gt;setAcl($acl)-&gt;setRole('member');

// ...or set default ACL and role statically:
Zend_View_Helper_Navigation_HelperAbstract::setDefaultAcl($acl);
Zend_View_Helper_Navigation_HelperAbstract::setDefaultRole('member');
</pre>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.breadcrumbs"></a>Breadcrumbs Helper</h5></div></div></div>
        

        <p>
            Breadcrumbs are used for indicating where in a sitemap
            a user is currently browsing, and are typically rendered
            like this: "You are here: Home &gt; Products &gt; FantasticProduct 1.0".
            The breadcrumbs helper follows the guidelines from <a class="ulink" href="http://developer.yahoo.com/ypatterns/pattern.php?pattern=breadcrumbs" target="_top">Breadcrumbs
                Pattern - Yahoo! Design Pattern Library</a>,
            and allows simple customization (minimum/maximum depth, indentation,
            separator, and whether the last element should be linked), or
            rendering using a partial view script.
        </p>

        <p>
            The Breadcrumbs helper works like this; it finds the deepest active
            page in a navigation container, and renders an upwards path to
            the root. For <acronym class="acronym">MVC</acronym> pages, the "activeness" of a page is
            determined by inspecting the request object, as stated in the
            section on <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.mvc" title="Zend_Navigation_Page_Mvc">Zend_Navigation_Page_Mvc</a>.
        </p>

        <p>
            The helper sets the <code class="code">minDepth</code> property to 1 by default,
            meaning breadcrumbs will not be rendered if the deepest active page
            is a root page. If <code class="code">maxDepth</code> is specified, the helper
            will stop rendering when at the specified depth (e.g. stop at level
            2 even if the deepest active page is on level 3).
        </p>

        <p>
            Methods in the breadcrumbs helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
               <p>
                   <code class="code">{get|set}Separator()</code> gets/sets separator
                   string that is used between breadcrumbs. Defualt is
                   <code class="code">' &amp;gt; '</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}LinkLast()</code> gets/sets whether the
                   last breadcrumb should be rendered as an anchor or not.
                   Default is <code class="constant">FALSE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}Partial()</code> gets/sets a partial view
                   script that should be used for rendering breadcrumbs.
                   If a partial view script is set, the helper's
                   <code class="methodname">render()</code> method will use the
                   <code class="methodname">renderPartial()</code> method. If no partial is
                   set, the <code class="methodname">renderStraight()</code> method is used.
                   The helper expects the partial to be a <span class="type">String</span>
                   or an <span class="type">Array</span> with two elements. If the partial
                   is a <span class="type">String</span>, it denotes the name of the partial
                   script to use. If it is an <span class="type">Array</span>, the first
                   element will be used as the name of the partial view
                   script, and the second element is the module where the
                   script is found.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">renderStraight()</code> is the default render
                   method.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">renderPartial()</code> is used for rendering
                   using a partial view script.
               </p>
           </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example1"></a><p class="title"><b>Example 981. Rendering breadcrumbs</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render breadcrumbs with default
                settings.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs(); ?&gt;

The two calls above take advantage of the magic __toString() method,
and are equivalent to:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;render(); ?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; &amp;gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &amp;gt; FAQ
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example2"></a><p class="title"><b>Example 982. Specifying indentation</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render breadcrumbs with initial
                indentation.
            </p>

            <pre class="programlisting">
Rendering with 8 spaces indentation:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;setIndent(8);?&gt;

Output:
        &lt;a href="/products"&gt;Products&lt;/a&gt; &amp;gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &amp;gt; FAQ
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example3"></a><p class="title"><b>Example 983. Customize breadcrumbs output</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to customze breadcrumbs output by
                specifying various options.
            </p>

            <pre class="programlisting">
In a view script or layout:

&lt;?php
echo $this-&gt;navigation()
          -&gt;breadcrumbs()
          -&gt;setLinkLast(true)                   // link last page
          -&gt;setMaxDepth(1)                      // stop at level 1
          -&gt;setSeparator(' &amp;#9654;' . PHP_EOL); // cool separator with newline
?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; &amp;#9654;
&lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;

/////////////////////////////////////////////////////

Setting minimum depth required to render breadcrumbs:

&lt;?php
$this-&gt;navigation()-&gt;breadcrumbs()-&gt;setMinDepth(10);
echo $this-&gt;navigation()-&gt;breadcrumbs();
?&gt;

Output:
Nothing, because the deepest active page is not at level 10 or deeper.
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example4"></a><p class="title"><b>Example 984. Rendering breadcrumbs using a partial view script</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render customized breadcrumbs using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will find the deepest active page and pass an array
                of pages that leads to the active page to the partial view
                script.
            </p>

            <p>
                In a layout:
            </p>

            <pre class="programlisting">
$partial = ;
echo $this-&gt;navigation()-&gt;breadcrumbs()
                        -&gt;setPartial(array('breadcrumbs.phtml', 'default'));
</pre>

            <p>
                Contents of
                <code class="code">application/modules/default/views/breadcrumbs.phtml</code>:
            </p>

            <pre class="programlisting">
echo implode(', ', array_map(
        function ($a) { return $a-&gt;getLabel(); },
        $this-&gt;pages));
</pre>

            <p>
                Output:
            </p>

            <pre class="programlisting">
Products, Foo Server, FAQ
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.links"></a>Links Helper</h5></div></div></div>
        

        <p>
            The links helper is used for rendering <acronym class="acronym">HTML</acronym> <code class="constant">LINK</code>
            elements. Links are used for describing document relationships
            of the currently active page. Read more about links and link
            types at <a class="ulink" href="http://www.w3.org/TR/html4/struct/links.html#h-12.3" target="_top">Document
                relationships: the LINK element (HTML4 W3C Rec.)</a>
            and <a class="ulink" href="http://www.w3.org/TR/html4/types.html#h-6.12" target="_top">Link types (HTML4 W3C
                Rec.)</a> in the <acronym class="acronym">HTML</acronym>4 W3C Recommendation.
        </p>

        <p>
            There are two types of relations; forward and reverse, indicated
            by the keyords <code class="code">'rel'</code> and <code class="code">'rev'</code>. Most
            methods in the helper will take a <code class="varname">$rel</code> param, which
            must be either <code class="code">'rel'</code> or <code class="code">'rev'</code>. Most
            methods also take a <code class="varname">$type</code> param, which is used
            for specifying the link type (e.g. alternate, start, next, prev,
            chapter, etc).
        </p>

        <p>
            Relationships can be added to page objects manually, or found
            by traversing the container registered in the helper. The method
            <code class="methodname">findRelation($page, $rel, $type)</code> will first try
            to find the given <code class="varname">$rel</code> of <code class="varname">$type</code> from
            the <code class="varname">$page</code> by calling <code class="code">$page-&gt;findRel($type)</code>
            or <code class="code">$page-&gt;findRel($type)</code>. If the <code class="varname">$page</code>
            has a relation that can be converted to a page instance, that
            relation will be used. If the <code class="varname">$page</code> instance doesn't
            have the specified <code class="varname">$type</code>, the helper will look for
            a method in the helper named <code class="code">search$rel$type</code> (e.g.
            <code class="methodname">searchRelNext()</code> or
            <code class="methodname">searchRevAlternate()</code>).
            If such a method exists, it will be used for determining the
            <code class="varname">$page</code>'s relation by traversing the container.
        </p>

        <p>
            Not all relations can be determined by traversing the container.
            These are the relations that will be found by searching:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">searchRelStart()</code>, forward 'start'
                    relation: the first page in the container.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelNext()</code>, forward 'next'
                    relation; finds the next page in the container, i.e.
                    the page after the active page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelPrev()</code>, forward 'prev'
                    relation; finds the previous page, i.e. the page before
                    the active page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelChapter()</code>, forward 'chapter'
                    relations; finds all pages on level 0 except the 'start'
                    relation or the active page if it's on level 0.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelSection()</code>, forward 'section'
                    relations; finds all child pages of the active page if
                    the active page is on level 0 (a 'chapter').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelSubsection()</code>, forward 'subsection'
                    relations; finds all child pages of the active page if
                    the active pages is on level 1 (a 'section').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRevSection()</code>, reverse 'section'
                    relation; finds the parent of the active page if the
                    active page is on level 1 (a 'section').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRevSubsection()</code>, reverse 'subsection'
                    relation; finds the parent of the active page if the
                    active page is on level 2 (a 'subsection').
                </p>
            </li>
</ul></div>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                When looking for relations in the page instance
                (<code class="code">$page-&gt;getRel($type)</code> or
                <code class="code">$page-&gt;getRev($type)</code>), the helper accepts the
                values of type <span class="type">String</span>, <span class="type">Array</span>,
                <code class="classname">Zend_Config</code>, or
                <code class="classname">Zend_Navigation_Page</code>. If a string
                is found, it will be converted to a
                <code class="classname">Zend_Navigation_Page_Uri</code>. If an array
                or a config is found, it will be converted to one or several
                page instances. If the first key of the array/config is numeric,
                it will be considered to contain several pages, and each
                element will be passed to the
                <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.factory" title="Creating pages using the page factory">page factory</a>.
                If the first key is not numeric, the array/config will be
                passed to the page factory directly, and a single page will
                be returned.
            </p>
        </td></tr>
</table></div>

        <p>
            The helper also supports magic methods for finding relations.
            E.g. to find forward alternate relations, call
            <code class="code">$helper-&gt;findRelAlternate($page)</code>, and to find
            reverse section relations, call
            <code class="code">$helper-&gt;findRevSection($page)</code>. Those calls correspond
            to <code class="code">$helper-&gt;findRelation($page, 'rel', 'alternate');</code>
            and <code class="code">$helper-&gt;findRelation($page, 'rev', 'section');</code>
            respectively.
        </p>

        <p>
            To customize which relations should be rendered, the helper
            uses a render flag. The render flag is an integer value, and will be
            used in a
            <a class="ulink" href="http://php.net/manual/en/language.operators.bitwise.php" target="_top">bitwse
            <code class="code">and</code> (<code class="code">&amp;</code>) operation</a> against the
            helper's render constants to determine if the relation that belongs
            to the render constant should be rendered.
        </p>

        <p>
            See the
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links.example3" title="Example 987. Specify which relations to render">example
            below</a> for more information.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_ALTERNATE</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_STYLESHEET</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_START</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_NEXT</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_PREV</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CONTENTS</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_INDEX</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_GLOSSARY</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_COPYRIGHT</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CHAPTER</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_SECTION</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_SUBSECTION</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_APPENDIX</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_HELP</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_BOOKMARK</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CUSTOM</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_ALL</code>
                </p>
            </li>
</ul></div>

        <p>
            The constants from <code class="constant">RENDER_ALTERNATE</code> to
            <code class="constant">RENDER_BOOKMARK</code> denote standard <acronym class="acronym">HTML</acronym> link types.
            <code class="constant">RENDER_CUSTOM</code> denotes non-standard relations that
            specified in pages. <code class="constant">RENDER_ALL</code> denotes standard and
            non-standard relations.
        </p>

        <p>
            Methods in the links helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}RenderFlag()</code> gets/sets the render
                    flag. Default is <code class="constant">RENDER_ALL</code>. See examples
                    below on how to set the render flag.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">findAllRelations()</code> finds all relations of
                    all types for a given page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">findRelation()</code> finds all relations of a given
                    type from a given page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">searchRel{Start|Next|Prev|Chapter|Section|Subsection}()</code>
                    traverses a container to find forward relations to
                    the start page, the next page, the previous page,
                    chapters, sections, and subsections.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">searchRev{Section|Subsection}()</code> traverses
                    a container to find reverse relations to sections or
                    subsections.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderLink()</code> renders a single <code class="code">link</code>
                    element.
                </p>
            </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example1"></a><p class="title"><b>Example 985. Specify relations in pages</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to specify relations in pages.
            </p>

            <pre class="programlisting">
$container = new Zend_Navigation(array(
    array(
        'label' =&gt; 'Relations using strings',
        'rel'   =&gt; array(
            'alternate' =&gt; 'http://www.example.org/'
        ),
        'rev'   =&gt; array(
            'alternate' =&gt; 'http://www.example.net/'
        )
    ),
    array(
        'label' =&gt; 'Relations using arrays',
        'rel'   =&gt; array(
            'alternate' =&gt; array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            )
        )
    ),
    array(
        'label' =&gt; 'Relations using configs',
        'rel'   =&gt; array(
            'alternate' =&gt; new Zend_Config(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    ),
    array(
        'label' =&gt; 'Relations using pages instance',
        'rel'   =&gt; array(
            'alternate' =&gt; Zend_Navigation_Page::factory(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    )
));
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example2"></a><p class="title"><b>Example 986. Default rendering of links</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu from a container
                registered/found in the view helper.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;view-&gt;navigation()-&gt;links(); ?&gt;

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example3"></a><p class="title"><b>Example 987. Specify which relations to render</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to specify which relations to find
                and render.
            </p>

            <pre class="programlisting">
Render only start, next, and prev:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_START |
                       Zend_View_Helper_Navigation_Links::RENDER_NEXT |
                       Zend_View_Helper_Navigation_Links::RENDER_PREV);

Output:
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
</pre>

            <pre class="programlisting">
Render only native link types:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CUSTOM);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>

            <pre class="programlisting">
Render all but chapter:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CHAPTER);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.menu"></a>Menu Helper</h5></div></div></div>
        

        <p>
            The Menu helper is used for rendering menus from navigation
            containers. By default, the menu will be rendered using
            <acronym class="acronym">HTML</acronym> <code class="code">UL</code> and <code class="code">LI</code> tags, but the helper also
            allows using a partial view script.
        </p>

        <p>
            Methods in the Menu helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}UlClass()</code> gets/sets the <acronym class="acronym">CSS</acronym> class
                    used in <code class="methodname">renderMenu()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ActiveClass()</code> gets/sets the <acronym class="acronym">CSS</acronym> class
                    for the active elements when rendering.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}OnlyActiveBranch()</code> gets/sets a flag
                    specifying whether only the active branch of a container
                    should be rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ExpandSiblingNodesOfActiveBranch()</code>
                    gets/sets a flag specifying whether the sibling nodes of all
                    nodes in the active branch should also be expanded and rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}RenderParents()</code> gets/sets a flag
                    specifying whether parents should be rendered when only
                    rendering active branch of a container. If set to
                    <code class="constant">FALSE</code>, only the deepest active menu will be
                    rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}Partial()</code> gets/sets a partial view
                    script that should be used for rendering menu.
                    If a partial view script is set, the helper's
                    <code class="methodname">render()</code> method will use the
                    <code class="methodname">renderPartial()</code> method. If no partial is
                    set, the <code class="methodname">renderMenu()</code> method is used.
                    The helper expects the partial to be a <span class="type">String</span>
                    or an <span class="type">Array</span> with two elements. If the partial
                    is a <span class="type">String</span>, it denotes the name of the partial
                    script to use. If it is an <span class="type">Array</span>, the first
                    element will be used as the name of the partial view
                    script, and the second element is the module where the
                    script is found.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">htmlify()</code> overrides the method from the
                    abstract class to return <code class="code">span</code> elements
                    if the page has no <code class="code">href</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderMenu($container = null, $options = array())</code>
                    is the default render method, and will render a container as
                    a <acronym class="acronym">HTML</acronym> <code class="code">UL</code> list.
                </p>

                <p>
                    If <code class="varname">$container</code> is not given, the container
                    registered in the helper will be rendered.
                </p>

                <p>
                    <code class="varname">$options</code> is used for overriding options
                    specified temporarily without rsetting the values in the
                    helper instance. It is an associative array where each key
                    corresponds to an option in the helper.
                </p>

                <p>
                    Recognized options:
                </p>

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="code">indent</code>; indentation. Expects a
                            <span class="type">String</span> or an <code class="code">int</code>
                            value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">minDepth</code>; minimum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            minimum depth).
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">maxDepth</code>; maximum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            maximum depth).
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">ulClass</code>; <acronym class="acronym">CSS</acronym> class for
                            <code class="code">ul</code> element. Expects a
                            <span class="type">String</span>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">activeClass</code>; <acronym class="acronym">CSS</acronym> class for
                            for the active elements when rendering. Expects a
                            <span class="type">String</span>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">onlyActiveBranch</code>; whether only
                            active branch should be rendered. Expects
                            a <span class="type">Boolean</span> value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">expandSiblingNodesOfActiveBranch</code>;
                            whether the sibling nodes of nodes in the active
                            branch should be expanded and rendered. Expects
                            a <span class="type">Boolean</span> value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">renderParents</code>; whether parents
                            should be rendered if only rendering active
                            branch. Expects a <span class="type">Boolean</span> value.
                        </p>
                    </li>
</ul></div>

                <p>
                    If an option is not given, the value set in the helper
                    will be used.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderPartial()</code> is used for rendering the menu
                    using a partial view script.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderSubMenu()</code> renders the deepest menu level
                    of a container's active branch.
                </p>
            </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example1"></a><p class="title"><b>Example 988. Rendering a menu</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu from a container
                registered/found in the view helper. Notice how pages
                are filtered out based on visibility and <acronym class="acronym">ACL</acronym>.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;menu()-&gt;render() ?&gt;

Or simply:
&lt;?php echo $this-&gt;navigation()-&gt;menu() ?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/archive"&gt;Archive&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example2"></a><p class="title"><b>Example 989. Calling renderMenu() directly</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu that is not
                registered in the view helper by calling the
                <code class="methodname">renderMenu()</code> directly and specifying a few
                options.
            </p>

            <pre class="programlisting">
&lt;?php
// render only the 'Community' menu
$community = $this-&gt;navigation()-&gt;findOneByLabel('Community');
$options = array(
    'indent'  =&gt; 16,
    'ulClass' =&gt; 'community'
);
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderMenu($community, $options);
?&gt;
Output:
                &lt;ul class="community"&gt;
                    &lt;li&gt;
                        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example3"></a><p class="title"><b>Example 990. Rendering the deepest active menu</b></p>
<div class="example-contents">
            

            <p>
                This example shows how the <code class="methodname">renderSubMenu()</code>
                will render the deepest sub menu of the active branch.
            </p>

            <p>
                Calling <code class="methodname">renderSubMenu($container, $ulClass, $indent)</code>
                is equivalent to calling <code class="methodname">renderMenu($container, $options)</code>
                with the following options:
            </p>

            <pre class="programlisting">
array(
    'ulClass'          =&gt; $ulClass,
    'indent'           =&gt; $indent,
    'minDepth'         =&gt; null,
    'maxDepth'         =&gt; null,
    'onlyActiveBranch' =&gt; true,
    'renderParents'    =&gt; false
);
</pre>

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderSubMenu(null, 'sidebar', 4);
?&gt;

The output will be the same if 'FAQ' or 'Foo Server' is active:
    &lt;ul class="sidebar"&gt;
        &lt;li class="active"&gt;
            &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example4"></a><p class="title"><b>Example 991. Rendering a menu with maximum depth</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example5"></a><p class="title"><b>Example 992. Rendering a menu with minimum depth</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/archive"&gt;Archive&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example6"></a><p class="title"><b>Example 993. Rendering only the active branch of a menu</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example7"></a><p class="title"><b>Example 994. 
                Rendering only the active branch of a menu with minimum depth
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example8"></a><p class="title"><b>Example 995. 
                Rendering only the active branch of a menu with maximum depth
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example9"></a><p class="title"><b>Example 996. 
                Rendering only the active branch of a menu with maximum depth
                and no parents
            </b></p>
<div class="example-contents">
            

            <p>
            </p>

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setRenderParents(false)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example10"></a><p class="title"><b>Example 997. Rendering a custom menu using a partial view script</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a custom menu using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will assign the container to the view with the key
                <code class="code">container</code>.
            </p>

            <p>In a layout:</p>

            <pre class="programlisting">
$partial = array('menu.phtml', 'default');
$this-&gt;navigation()-&gt;menu()-&gt;setPartial($partial);
echo $this-&gt;navigation()-&gt;menu()-&gt;render();
</pre>

            <p>In application/modules/default/views/menu.phtml:</p>

            <pre class="programlisting">
foreach ($this-&gt;container as $page) {
    echo $this-&gt;navigation()-&gt;menu()-&gt;htmlify($page), PHP_EOL;
}
</pre>

            <p>Output:</p>

            <pre class="programlisting">
&lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
&lt;a href="/products"&gt;Products&lt;/a&gt;
&lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
&lt;a href="/community"&gt;Community&lt;/a&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example11"></a><p class="title"><b>Example 998. 
                Rendering only the active branch and all siblings of the active branch
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setExpandSiblingNodesOfActiveBranch(true);
</pre>

            <p>Output:</p>

            <pre class="programlisting">
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.sitemap"></a>Sitemap Helper</h5></div></div></div>
        

        <p>
            The Sitemap helper is used for generating <acronym class="acronym">XML</acronym> sitemaps, as
            defined by the <a class="ulink" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                format</a>. Read more about <a class="ulink" href="http://en.wikipedia.org/wiki/Sitemaps" target="_top">Sitemaps on Wikpedia</a>.
        </p>

        <p>
            By default, the sitemap helper uses
            <a class="link" href="zend.validate.set.html#zend.validate.sitemap" title="Sitemap Validators">sitemap validators</a>
            to validate each element that is rendered. This can be disabled by
            calling <code class="code">$helper-&gt;setUseSitemapValidators(false)</code>.
        </p>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                If you disable sitemap validators, the custom properties (see table)
                are not validated at all.
            </p>
        </td></tr>
</table></div>

        <p>
            The sitemap helper also supports <a class="ulink" href="http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" target="_top">Sitemap XSD
                Schema</a> validation of the generated sitemap. This is disabled by default,
            since it will require a request to the Schema file. It can be
            enabled with
            <code class="code">$helper-&gt;setUseSchemaValidation(true)</code>.
        </p>

        <div class="table">
<a name="zend.view.helpers.initial.navigation.sitemap.elements"></a><p class="title"><b>Table 171. Sitemap XML elements</b></p>
<div class="table-contents">
            

            <table class="table" summary="Sitemap XML elements" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Element</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">loc</code></td>
<td>
                            Absolute <acronym class="acronym">URL</acronym> to page. An absolute
                            <acronym class="acronym">URL</acronym> will be generated by the helper.
                        </td>
</tr>
<tr>
<td><code class="code">lastmod</code></td>
<td>
                            <p>
                                The date of last modification of the file, in <a class="ulink" href="http://www.w3.org/TR/NOTE-datetime" target="_top">W3C Datetime</a>
                                format. This time portion can be omitted if desired, and only use
                                YYYY-MM-DD.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">lastmod</code> value from the page's
                                custom property <code class="code">lastmod</code> if it
                                is set in the page. If the value is not a
                                valid date, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">changefreq</code></td>
<td>
                            <p>
                                How frequently the page is likely to change.
                                This value provides general information to
                                search engines and may not correlate exactly
                                to how often they crawl the page. Valid
                                values are:
                            </p>

                            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>always</p></li>
<li class="listitem"><p>hourly</p></li>
<li class="listitem"><p>daily</p></li>
<li class="listitem"><p>weekly</p></li>
<li class="listitem"><p>monthly</p></li>
<li class="listitem"><p>yearly</p></li>
<li class="listitem"><p>never</p></li>
</ul></div>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">changefreq</code> value from the page's
                                custom property <code class="code">changefreq</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">priority</code></td>
<td>
                            <p>
                                The priority of this <acronym class="acronym">URL</acronym> relative to other
                                <acronym class="acronym">URL</acronym>s on your site. Valid values range from
                                0.0 to 1.0.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">priority</code> value from the page's
                                custom property <code class="code">priority</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
</tbody>
</table>
        </div>
</div>
<br class="table-break">

        <p>
            Methods in the sitemap helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}FormatOutput()</code> gets/sets a flag
                    indicating whether <acronym class="acronym">XML</acronym> output should be formatted. This
                    corresponds to the <code class="code">formatOutput</code> property
                    of the native <code class="classname">DOMDocument</code> class.
                    Read more at
                    <a class="ulink" href="http://php.net/domdocument" target="_top">PHP: DOMDocument - Manual</a>.
                    Default is <code class="constant">FALSE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseXmlDeclaration()</code> gets/sets a
                    flag indicating whether the <acronym class="acronym">XML</acronym> declaration should be
                    included when rendering. Default is <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseSitemapValidators()</code> gets/sets a
                    flag indicating whether sitemap validators should be
                    used when generating the DOM sitemap. Default is
                    <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseSchemaValidation()</code> gets/sets a
                    flag indicating whether the helper should use <acronym class="acronym">XML</acronym> Schema
                    validation when generating the DOM sitemap. Default is
                    <code class="constant">FALSE</code>. If <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ServerUrl()</code> gets/sets server <acronym class="acronym">URL</acronym>
                    that will be prepended to non-absolute <acronym class="acronym">URL</acronym>s in the
                    <code class="methodname">url()</code> method. If no server <acronym class="acronym">URL</acronym> is
                    specified, it will be determined by the helper.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="methodname">url()</code> is used to generate absolute
                    <acronym class="acronym">URL</acronym>s to pages.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="methodname">getDomSitemap()</code> generates a DOMDocument
                    from a given container.
                </p>
           </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.sitemap.example"></a><p class="title"><b>Example 999. Rendering an XML sitemap</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render an <acronym class="acronym">XML</acronym> sitemap based
                on the setup we did further up.
            </p>

            <pre class="programlisting">
// In a view script or layout:

// format output
$this-&gt;navigation()
      -&gt;sitemap()
      -&gt;setFormatOutput(true); // default is false

// other possible methods:
// -&gt;setUseXmlDeclaration(false); // default is true
// -&gt;setServerUrl('http://my.otherhost.com');
// default is to detect automatically

// print sitemap
echo $this-&gt;navigation()-&gt;sitemap();
</pre>

            <p>
                Notice how pages that are invisible or pages with
                <acronym class="acronym">ACL</acronym> roles incompatible with the view helper are filtered
                out:
            </p>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>

            <p>
                Render the sitemap using no <acronym class="acronym">ACL</acronym> role (should filter out
                /community/account):
            </p>

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setRole();
</pre>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>

            <p>
                Render the sitemap using a maximum depth of 1.
            </p>

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setMaxDepth(1);
</pre>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="note"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding,
                and, specific to this case, <code class="classname">Zend_View</code> does as well. Character
                encoding can be set differently on the view object itself using the
                <code class="methodname">setEncoding()</code> method (or the
                <code class="varname">encoding</code> instantiation parameter). However, since
                <code class="classname">Zend_View_Interface</code> does not define accessors for encoding,
                it's possible that if you are using a custom view implementation with the Dojo view
                helper, you will not have a <code class="methodname">getEncoding()</code> method, which is
                what the view helper uses internally for determining the character set in which to
                encode.
            </p>

            <p>
                If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
                need to implement a <code class="methodname">getEncoding()</code> method in your custom
                view implementation.
            </p>
        </td></tr>
</table></div>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.navigation"></a>Navigation Helper</h5></div></div></div>
        

        <p>
            The Navigation helper is a proxy helper
            that relays calls to other navigational helpers. It can be
            considered an entry point to all navigation-related view tasks.
            The aforementioned navigational helpers are in the namespace
            <code class="classname">Zend_View_Helper_Navigation</code>, and would thus require
            the path <code class="code">Zend/View/Helper/Navigation</code> to be added as
            a helper path to the view. With the proxy helper residing in the
            <code class="classname">Zend_View_Helper</code> namespace, it will always be
            available, without the need to add any helper paths to the view.
        </p>

        <p>
            The Navigation helper finds other helpers that implement the
            <code class="classname">Zend_View_Helper_Navigation_Helper</code>
            interface, which means custom view helpers can also be proxied.
            This would, however, require that the custom helper path is added
            to the view.
        </p>

        <p>
            When proxying to other helpers, the Navigation helper can inject
            its container, <acronym class="acronym">ACL</acronym>/role, and translator. This means that you
            won't have to explicitly set all three in all navigational
            helpers, nor resort to injecting by means of
            <code class="classname">Zend_Registry</code> or static methods.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
               <p>
                   <code class="methodname">findHelper()</code> finds the given helper,
                   verifies that it is a navigational helper, and injects
                   container, <acronym class="acronym">ACL</acronym>/role and translator.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectContainer()</code> gets/sets a flag
                   indicating whether the container should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectAcl()</code> gets/sets a flag
                   indicating whether the <acronym class="acronym">ACL</acronym>/role should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectTranslator()</code> gets/sets a flag
                   indicating whether the translator should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}DefaultProxy()</code> gets/sets the default
                   proxy. Default is <code class="code">'menu'</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">render()</code> proxies to the render method of
                   the default proxy.
               </p>
           </li>
</ul></div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.translate"></a>Translate Helper</h4></div></div></div>
    

    <p>
        Often web sites are available in several languages. To translate the
        content of a site you should simply use <a class="link" href="zend.translate.introduction.html" title="Introduction">Zend_Translate</a> and to
        integrate <code class="classname">Zend_Translate</code> within your view you should use
        the <span class="emphasis"><em>Translate</em></span> View Helper.
    </p>

    <p>
        In all following examples we are using the simple Array Translation
        Adapter. Of course you can also use any instance of
        <code class="classname">Zend_Translate</code> and also any subclasses of
        <code class="classname">Zend_Translate_Adapter</code>. There are several ways to initiate
        the <span class="emphasis"><em>Translate</em></span> View Helper:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                Registered, through a previously registered instance in
                <code class="classname">Zend_Registry</code>
            </p>
        </li>
<li class="listitem">
            <p>
                Afterwards, through the fluent interface
            </p>
        </li>
<li class="listitem">
            <p>
                Directly, through initiating the class
            </p>
        </li>
</ul></div>

    <p>
        A registered instance of <code class="classname">Zend_Translate</code> is the preferred
        usage for this helper. You can also select the locale to be used simply
        before you add the adapter to the registry.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            We are speaking of locales instead of languages because a language
            also may contain a region. For example English is spoken in
            different dialects. There may be a translation for British and one
            for American English. Therefore, we say "locale" instead of
            "language."
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.translate.registered"></a><p class="title"><b>Example 1000. Registered instance</b></p>
<div class="example-contents">
        

        <p>
            To use a registered instance just create an instance of
            <code class="classname">Zend_Translate</code> or <code class="classname">Zend_Translate_Adapter</code>
            and register it within <code class="classname">Zend_Registry</code> using
            <code class="classname">Zend_Translate</code> as its key.
        </p>

        <pre class="programlisting">
// our example adapter
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);
Zend_Registry::set('Zend_Translate', $adapter);

// within your view
echo $this-&gt;translate('simple');
// this returns 'einfach'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        If you are more familiar with the fluent interface, then you can also
        create an instance within your view and initiate the helper afterwards.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.afterwards"></a><p class="title"><b>Example 1001. Within the view</b></p>
<div class="example-contents">
        

        <p>
            To use the fluent interface, create an instance of
            <code class="classname">Zend_Translate</code> or <code class="classname">Zend_Translate_Adapter</code>,
            call the helper without a parameter, and call the
            <code class="methodname">setTranslator()</code> method.
        </p>

        <pre class="programlisting">
// within your view
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);
$this-&gt;translate()-&gt;setTranslator($adapter)-&gt;translate('simple');
// this returns 'einfach'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        If you are using the helper without <code class="classname">Zend_View</code> then you can
        also use it directly.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.directly"></a><p class="title"><b>Example 1002. Direct usage</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// our example adapter
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);

// initiate the adapter
$translate = new Zend_View_Helper_Translate($adapter);
print $translate-&gt;translate('simple'); // this returns 'einfach'
</pre>

        <p>
            You would use this way if you are not working with
            <code class="classname">Zend_View</code> and need to create translated output.
        </p>
    </div>
</div>
<br class="example-break">

    <p>
        As already seen, the <code class="methodname">translate()</code> method is used to return
        the translation. Just call it with the needed messageid of your
        translation adapter. But it can also replace parameters within the
        translation string. Therefore, it accepts variable parameters in two ways:
        either as a list of parameters, or as an array of parameters. As examples:
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameter"></a><p class="title"><b>Example 1003. Single parameter</b></p>
<div class="example-contents">
        

        <p>
            To use a single parameter just add it to the method.
        </p>

        <pre class="programlisting">
// within your view
$date = "Monday";
$this-&gt;translate("Today is %1\$s", $date);
// could return 'Heute ist Monday'
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Keep in mind that if you are using parameters which are also text,
            you may also need to translate these parameters.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameterlist"></a><p class="title"><b>Example 1004. List of parameters</b></p>
<div class="example-contents">
        

        <p>
            Or use a list of parameters and add it to the method.
        </p>

        <pre class="programlisting">
// within your view
$date = "Monday";
$month = "April";
$time = "11:20:55";
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s",
                 $date,
                 $month,
                 $time);
// Could return 'Heute ist Monday in April. Aktuelle Zeit: 11:20:55'
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameterarray"></a><p class="title"><b>Example 1005. Array of parameters</b></p>
<div class="example-contents">
        

        <p>
            Or use an array of parameters and add it to the method.
        </p>

        <pre class="programlisting">
// within your view
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);
// Could return 'Heute ist Monday in April. Aktuelle Zeit: 11:20:55'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Sometimes it is necessary to change the locale of the translation. This
        can be done either dynamically per translation or statically for all
        following translations. And you can use it with both a parameter list
        and an array of parameters. In both cases the locale must be given as
        the last single parameter.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.dynamic"></a><p class="title"><b>Example 1006. Change locale dynamically</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// within your view
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date, 'it');
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        This example returns the Italian translation for the messageid. But it
        will only be used once. The next translation will use the locale from
        the adapter. Normally you will set the desired locale within the
        translation adapter before you add it to the registry. But you can also
        set the locale from within the helper:
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.static"></a><p class="title"><b>Example 1007. Change locale statically</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// within your view
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate()-&gt;setLocale('it');
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        The above example sets <span class="emphasis"><em>'it'</em></span> as the new default locale which
        will be used for all further translations.
    </p>

    <p>
        Of course there is also a <code class="methodname">getLocale()</code> method to get the
        currently set locale.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.getlocale"></a><p class="title"><b>Example 1008. Get the currently set locale</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// within your view
$date = array("Monday", "April", "11:20:55");

// returns 'de' as set default locale from our above examples
$this-&gt;translate()-&gt;getLocale();

$this-&gt;translate()-&gt;setLocale('it');
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);

// returns 'it' as new set default locale
$this-&gt;translate()-&gt;getLocale();
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.user-agent"></a>UserAgent View Helper</h4></div></div></div>
    

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.intro"></a>Overview</h5></div></div></div>
        

        <p>
            This view helper provides the ability to inject and later retrieve a
            <code class="classname">Zend_Http_UserAgent</code> instance for use in branching display logic
            based on device capabilities.
        </p>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.quick-start"></a>Quick Start</h5></div></div></div>
        

        <p>
            In most cases, you can simply retrieve the User-Agent and related device by calling the
            helper. If the <code class="classname">UserAgent</code> was configured in the <a class="link" href="zend.application.available-resources.html#zend.application.available-resources.useragent" title="Zend_Application_Resource_Useragent">
            bootstrap</a>, that instance will be injected already in the helper; otherwise, it
            will instantiate one for you.
        </p>

        <pre class="programlisting">
&lt;?php if ($this-&gt;userAgent()-&gt;getDevice()-&gt;hasFlash()): ?&gt;
    &lt;object ...&gt;&lt;/object&gt;
&lt;?php endif ?&gt;
</pre>

        <p>
            If you initialize the <code class="classname">UserAgent</code> object manually, you can still
            inject it into the helper, in one of two ways.
        </p>

        <pre class="programlisting">
// Pull the helper from the view, and inject:
$helper = $view-&gt;getHelper('userAgent');
$helper-&gt;setUserAgent($userAgent);

// Pass the UserAgent to the helper:
$view-&gt;userAgent($userAgent);
</pre>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.methods"></a>Available Methods</h5></div></div></div>
        

        <div class="variablelist"><dl class="variablelist">
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">userAgent</span>(<span class="methodparam">
                            Zend_Http_UserAgent $userAgent = null
                        </span>);</code>
                </span>
</dt>
<dd>
                    <p>
                        Use this method to set or retrieve the <code class="classname">UserAgent</code>
                        instance. Passing an instance will set it; passing no arguments will retrieve
                        it. If no previous instance has been registered, one will be lazy-loaded using
                        defaults.
                    </p>
                </dd>
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.set-user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setUserAgent</span>(<span class="methodparam">
                            Zend_Http_UserAgent $userAgent
                        </span>);</code>
                </span>
</dt>
<dd>
                    <p>
                        If you have an instance of the helper -- for instance, by calling the view
                        object's <code class="methodname">getHelper()</code> method -- you may use this method
                        to set the <code class="classname">UserAgent</code> instance.
                    </p>
                </dd>
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.get-user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getUserAgent</span>();</code>
                </span>
</dt>
<dd>
                    <p>
                        Retrieves the <code class="classname">UserAgent</code> instance; if none is registered,
                        it will lazy-load one using default values.
                    </p>
                </dd>
</dl></div>
    </div>
</div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.paths"></a>Helper Paths</h3></div></div></div>
        

        <p>
            As with view scripts, your controller can specify a stack of paths
            for <code class="classname">Zend_View</code> to search for helper classes. By default,
            <code class="classname">Zend_View</code> looks in "Zend/View/Helper/*" for helper
            classes. You can tell <code class="classname">Zend_View</code> to look in other
            locations using the <code class="methodname">setHelperPath()</code> and
            <code class="methodname">addHelperPath()</code> methods. Additionally, you can
            indicate a class prefix to use for helpers in the path provided, to
            allow namespacing your helper classes. By default, if no class
            prefix is provided, 'Zend_View_Helper_' is assumed.
        </p>

        <pre class="programlisting">
$view = new Zend_View();

// Set path to /path/to/more/helpers, with prefix 'My_View_Helper'
$view-&gt;setHelperPath('/path/to/more/helpers', 'My_View_Helper');
</pre>

        <p>
            In fact, you can "stack" paths using the
            <code class="methodname">addHelperPath()</code> method. As you add paths to the stack,
            <code class="classname">Zend_View</code> will look at the most-recently-added path for
            the requested helper class. This allows you to add to (or even
            override) the initial distribution of helpers with your own custom
            helpers.
        </p>

        <pre class="programlisting">
$view = new Zend_View();
// Add /path/to/some/helpers with class prefix 'My_View_Helper'
$view-&gt;addHelperPath('/path/to/some/helpers', 'My_View_Helper');
// Add /other/path/to/helpers with class prefix 'Your_View_Helper'
$view-&gt;addHelperPath('/other/path/to/helpers', 'Your_View_Helper');

// now when you call $this-&gt;helperName(), Zend_View will look first for
// "/path/to/some/helpers/HelperName" using class name
// "Your_View_Helper_HelperName", then for
// "/other/path/to/helpers/HelperName.php" using class name
// "My_View_Helper_HelperName", and finally for
// "Zend/View/Helper/HelperName.php" using class name
// "Zend_View_Helper_HelperName".
</pre>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.custom"></a>Writing Custom Helpers</h3></div></div></div>
        

        <p>
            Writing custom helpers is easy; just follow these rules:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    While not strictly necessary, we recommend either implementing
                    <code class="classname">Zend_View_Helper_Interface</code> or extending
                    <code class="classname">Zend_View_Helper_Abstract</code> when creating your
                    helpers. Introduced in 1.6.0, these simply define a
                    <code class="methodname">setView()</code> method; however, in upcoming releases, we
                    plan to implement a strategy pattern that will simplify much of
                    the naming schema detailed below. Building off these now will
                    help you future-proof your code.
                </p>
            </li>
<li class="listitem">
                <p>
                    The class name must, at the very minimum, end with the helper
                    name itself, using MixedCaps. E.g., if you were writing a
                    helper called "specialPurpose", the class name would minimally
                    need to be "SpecialPurpose". You may, and should, give the class
                    name a prefix, and it is recommended that you use 'View_Helper'
                    as part of that prefix: "My_View_Helper_SpecialPurpose". (You
                    will need to pass in the prefix, with or without the trailing
                    underscore, to <code class="methodname">addHelperPath()</code> or
                    <code class="methodname">setHelperPath()</code>).
                </p>
            </li>
<li class="listitem">
                <p>
                    The class must have a public method that matches the
                    helper name; this is the method that will be called when
                    your template calls "$this-&gt;specialPurpose()". In our
                    "specialPurpose" helper example, the required method
                    declaration would be "public function specialPurpose()".
                </p>
            </li>
<li class="listitem">
                <p>
                    In general, the class should not echo or print or otherwise
                    generate output. Instead, it should return values to be
                    printed or echoed. The returned values should be escaped
                    appropriately.
                </p>
            </li>
<li class="listitem">
                <p>
                    The class must be in a file named after the helper class. Again
                    using our "specialPurpose" helper example, the file has to be
                    named "SpecialPurpose.php".
                </p>
            </li>
</ul></div>

        <p>
            Place the helper class file somewhere in your helper path stack, and
            <code class="classname">Zend_View</code> will automatically load, instantiate,
            persist, and execute it for you.
        </p>

        <p>
            Here is an example of our <code class="classname">SpecialPurpose</code> helper code:
        </p>

        <pre class="programlisting">
class My_View_Helper_SpecialPurpose extends Zend_View_Helper_Abstract
{
    protected $_count = 0;
    public function specialPurpose()
    {
        $this-&gt;_count++;
        $output = "I have seen 'The Jerk' {$this-&gt;_count} time(s).";
        return htmlspecialchars($output);
    }
}
</pre>

        <p>
            Then in a view script, you can call the <code class="classname">SpecialPurpose</code>
            helper as many times as you like; it will be instantiated once, and
            then it persists for the life of that <code class="classname">Zend_View</code>
            instance.
        </p>

        <pre class="programlisting">
// remember, in a view script, $this refers to the Zend_View instance.
echo $this-&gt;specialPurpose();
echo $this-&gt;specialPurpose();
echo $this-&gt;specialPurpose();
</pre>

        <p>
            The output would look something like this:
        </p>

        <pre class="programlisting">
I have seen 'The Jerk' 1 time(s).
I have seen 'The Jerk' 2 time(s).
I have seen 'The Jerk' 3 time(s).
</pre>

        <p>
            Sometimes you will need access to the calling <code class="classname">Zend_View</code>
            object -- for instance, if you need to use the registered encoding,
            or want to render another view script as part of your helper. To get
            access to the view object, your helper class should have a
            <code class="methodname">setView($view)</code> method, like the following:
        </p>

        <pre class="programlisting">
class My_View_Helper_ScriptPath
{
    public $view;

    public function setView(Zend_View_Interface $view)
    {
        $this-&gt;view = $view;
    }

    public function scriptPath($script)
    {
        return $this-&gt;view-&gt;getScriptPath($script);
    }
}
</pre>

        <p>
            If your helper class has a <code class="methodname">setView()</code> method, it will be
            called when the helper class is first instantiated, and passed the
            current view object. It is up to you to persist the object in your
            class, as well as determine how it should be accessed.
        </p>

        <p>
            If you are extending <code class="classname">Zend_View_Helper_Abstract</code>, you do
            not need to define this method, as it is defined for you.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.registering-concrete"></a>Registering Concrete Helpers</h3></div></div></div>
        

        <p>
            Sometimes it is convenient to instantiate a view helper, and then register it with the
            view. As of version 1.10.0, this is now possible using the
            <code class="methodname">registerHelper()</code> method, which expects two arguments: the
            helper object, and the name by which it will be registered.
        </p>

        <pre class="programlisting">
$helper = new My_Helper_Foo();
// ...do some configuration or dependency injection...

$view-&gt;registerHelper($helper, 'foo');
</pre>

        <p>
            If the helper has a <code class="methodname">setView()</code> method, the view object will call
            this and inject itself into the helper on registration.
        </p>

        <div class="note"><table border="0" summary="Note: Helper name should match a method">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/assets/manual/img/note.png"></td>
<th align="left">Helper name should match a method</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                The second argument to <code class="methodname">registerHelper()</code> is the name of the
                helper. A corresponding method name should exist in the helper; otherwise,
                <code class="classname">Zend_View</code> will call a non-existent method when invoking the
                helper, raising a fatal <acronym class="acronym">PHP</acronym> error.
            </p>
        </td></tr>
</table></div>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.view.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.view.abstract.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">View Scripts </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Zend_View_Abstract</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
