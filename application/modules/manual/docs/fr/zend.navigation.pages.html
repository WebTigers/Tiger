<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Pages</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Guide de référence du programmeur">
<link rel="up" href="zend.navigation.html" title="Zend_Navigation">
<link rel="prev" href="zend.navigation.introduction.html" title="Introduction">
<link rel="next" href="zend.navigation.containers.html" title="Containers">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Pages</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.navigation.introduction.html">Précédent</a> </td>
<th width="60%" align="center">Zend_Navigation</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.navigation.containers.html">Suivant</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.navigation.pages"></a>Pages</h2></div></div></div>
    

    <p>
        <code class="classname">Zend_Navigation</code> est fournie par défaut avec deux types de page:

        </p>
<div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.mvc" title="Zend_Navigation_Page_Mvc">Pages MVC</a>
                     – utilisant la classe <code class="classname">Zend_Navigation_Page_Mvc</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.uri" title="Zend_Navigation_Page_Uri">Pages URI</a>
                     – utilisant la classe <code class="classname">Zend_Navigation_Page_Uri</code>
                </p>
            </li>
</ul></div>
<p>

        Les pages MVC proposeront des liens pour l'application courante et utilisent les paramètres MVC
        (<code class="code">action</code>, <code class="code">controller</code>, <code class="code">module</code>, <code class="code">route</code>,
        <code class="code">params</code>). Les pages URI utilisent elles une seule option,<code class="code">uri</code>,
        ce qui vous offre la possibilité de créer des liens vers des sites externes ou encore
        de créer des liens personnalisés comme par exemple <code class="code">&lt;a href="#"&gt;foo&lt;a&gt;</code>.
    </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.navigation.pages.common"></a>Caractéristiques communes aux pages</h3></div></div></div>
    

    <p>
        Toutes les classes pour des pages doivent étendre <code class="classname">Zend_Navigation_Page</code>,
        elles partageront ainsi des caractéristiques communes. Ces options sont représentées dans le
        tableau ci-après.
    </p>

    <p>
        Les noms des options (en clés) sont dirigées vers les setters appropriés <code class="code">set</code>.
        Ceci signifie qu'une option appelée <code class="code">order</code> sera passée à la méthode
        <code class="methodname">setOrder()</code>, et une option nommée <code class="code">reset_params</code> sera
        dirigée vers <code class="methodname">setResetParams()</code>. Si aucune méthode setter ne correspond,
        l'option sera alors évaluée comme un attribut personnalisé de la page.
    </p>

    <p>
        Documentez vous au sujet de la création de pages <code class="classname">Zend_Navigation_Page</code> dans
        <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.custom" title="Créer des pages de type personnalisé">la documentation appropriée</a>.
    </p>

    <div class="table">
<a name="zend.navigation.pages.common.options"></a><p class="title"><b>Tableau 123. Options communes aux pages</b></p>
<div class="table-contents">
        
        <table class="table" summary="Options communes aux pages" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Clé</th>
<th>Type</th>
<th>Valeur par défaut</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">label</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Un nom de page, comme 'Home' ou 'Blog'.
                    </td>
</tr>
<tr>
<td><code class="code">id</code></td>
<td>
<span class="type">chaine</span> | <code class="code">entier</code>
</td>
<td><code class="constant">NULL</code></td>
<td>
                        Un tag id à utiliser lors du rendu de la page, typiquement
                        pour repérer un élément.
                    </td>
</tr>
<tr>
<td><code class="code">class</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Une classe <acronym class="acronym">CSS</acronym> à utiliser lors du rendu de la page.
                    </td>
</tr>
<tr>
<td><code class="code">title</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Un titre de page utilisé lors du rendu, utilisé typiquement
                        sous forme d'attribut <code class="code">title</code>.
                    </td>
</tr>
<tr>
<td><code class="code">target</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        La cible à utiliser dans la page.
                    </td>
</tr>
<tr>
<td><code class="code">rel</code></td>
<td><span class="type">tableau</span></td>
<td><code class="methodname">array()</code></td>
<td>
                        Attribue les relations de la page.
                        Chaque élément dans le tableau est une paire clé-valeur où
                        la clé désigne le type de relation et la valeur un pointeur vers
                        la page. Par exemple <code class="code">'alternate' =&gt; 'format/plain.html'</code>.
                        Pour une fléxibilité maximale, il n'y a pas de restrictions quant aux
                        valeurs, elles peuvent être autre chose qu'une chaine. Concernant
                        <code class="code">rel</code> et <code class="code">rev</code>, voyez la section de documentation
                        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links" title="Links Helper">sur l'aide
                        de vue Links.</a>.
                    </td>
</tr>
<tr>
<td><code class="code">rev</code></td>
<td><span class="type">tableau</span></td>
<td><code class="methodname">array()</code></td>
<td>
                        Spécifie les relations inverses de la page. Fonctionne tout comme
                        <code class="code">rel</code>.
                    </td>
</tr>
<tr>
<td><code class="code">order</code></td>
<td>
<span class="type">chaine</span> | <code class="code">entier</code> | <code class="constant">NULL</code>
</td>
<td><code class="constant">NULL</code></td>
<td>
                        Fonctionne comme order pour les éléments de
                        <a class="link" href="zend.form.quickstart.html#zend.form.quickstart.render" title="Rendre (visuellement) un formulaire">
                        <code class="classname">Zend_Form</code></a>. Si spécifiée, la page sera
                        parcourue dans un ordre précis ce qui signifie que vous pouvez forcer la page
                        à apparaitre avant les autres en utilisant une valeur de
                        <code class="code">order</code> basse, comme -100. Si une <span class="type">chaine</span> est passée,
                        elle doit pouvoir être convertie en <code class="code">entier</code>. Si <code class="constant">NULL</code>
                        est utilisé, le paramètre sera remis à zéro, donc l'ordre dans lequel la page
                        a été ajoutée sera utilisé.
                    </td>
</tr>
<tr>
<td><code class="code">resource</code></td>
<td>
<span class="type">chaine</span> | <code class="classname">Zend_Acl_Resource_Interface</code> | <code class="constant">NULL</code>
</td>
<td><code class="constant">NULL</code></td>
<td>
                        Une ressource d'<acronym class="acronym">ACL</acronym> à associer à la page. Voyez la documentation
                        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.acl" title="Integration with ACL">de la section sur les
                        <acronym class="acronym">ACL</acronym> concernant les aides de vue.</a>.
                    </td>
</tr>
<tr>
<td><code class="code">privilege</code></td>
<td>
<span class="type">chaine</span> | <code class="constant">NULL</code>
</td>
<td><code class="constant">NULL</code></td>
<td>
                        Un privilège d'<acronym class="acronym">ACL</acronym> à associer à la page. Voyez la documentation
                        <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.acl" title="Integration with ACL">de la section sur les
                        <acronym class="acronym">ACL</acronym> concernant les aides de vue.</a>.
                    </td>
</tr>
<tr>
<td><code class="code">active</code></td>
<td><code class="code">booléen</code></td>
<td><code class="constant">FALSE</code></td>
<td>
                        Si oui ou non la page doit être considérée comme active. Si à
                        <code class="constant">FALSE</code> (ou non fourni), les pages <acronym class="acronym">MVC</acronym> vont aller
                        vérifier l'objet requête suite à l'appel à <code class="code">$page-&gt;isActive()</code>.
                    </td>
</tr>
<tr>
<td><code class="code">visible</code></td>
<td><code class="code">booléen</code></td>
<td><code class="constant">TRUE</code></td>
<td>
                        Si oui ou non la page doit être visible à l'utilisateur ou juste présente
                        dans la structure mais non représentée visuellement.
                    </td>
</tr>
<tr>
<td><code class="code">pages</code></td>
<td>
<span class="type">tableau</span> | <code class="classname">Zend_Config</code> | <code class="constant">NULL</code>
</td>
<td><code class="constant">NULL</code></td>
<td>
                        Pages enfant de la page en cours. Peut être de type <span class="type">tableau</span>
                        ou <code class="classname">Zend_Config</code> contenant des options à passer à la
                        méthode <code class="methodname">factory()</code> ou des instances de
                        <code class="classname">Zend_Navigation_Page</code>, ou un mélange des deux types.
                    </td>
</tr>
</tbody>
</table>
    </div>
</div>
<br class="table-break">

    <div class="note"><table border="0" summary="Note: Propriétés personnalisées">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Propriétés personnalisées</th>
</tr>
<tr><td align="left" valign="top">
        
        <p>
            Toutes les pages supportent la gestion de propriétés personnalisées, ceci via les méthodes
            magiques <code class="methodname">__set($name, $value)</code>, <code class="methodname">__get($name)</code>,
            <code class="methodname">__isset($name)</code> et <code class="methodname">__unset($name)</code>.
            Ces propriétés peuvent prendre n'importe quelle valeur et seront incluses dans le tableau
            retourné par <code class="code">$page-&gt;toArray()</code>, ce qui signifie que les pages peuvent être
            dé/sérialisées même si elles comportent des propriétés non natives à leur classe.
        </p>
        <p>
            Que les pages soient natives ou personnalisées par vos soins, les propriétés peuvent
            être gérées au moyen des méthodes <code class="code">$page-&gt;set($name, $value)</code> et
            <code class="code">$page-&gt;get($name)</code>, ou encore via des méthodes magiques.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.navigation.pages.common.example.customprops"></a><p class="title"><b>Exemple 600. Propriétés de pages personnalisées</b></p>
<div class="example-contents">
        

        <p>
            Cet exemple montre comment les propriétés personnalisées des pages peuvent être utilisées.
        </p>

        <pre class="programlisting">
$page = new Zend_Navigation_Page_Mvc();
$page-&gt;foo = 'bar';
$page-&gt;meaning = 42;

echo $page-&gt;foo;

if ($page-&gt;meaning != 42) {
    // quelque chose à faire ici
}
</pre>
    </div>
</div>
<br class="example-break">
</div>
    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.navigation.pages.mvc"></a>Zend_Navigation_Page_Mvc</h3></div></div></div>
    

    <p>
        Les pages de type <acronym class="acronym">MVC</acronym> utilisent des paramètres <acronym class="acronym">MVC</acronym>
        issus du composant <code class="classname">Zend_Controller</code>. Une page <acronym class="acronym">MVC</acronym> utilisera
        en interne <code class="classname">Zend_Controller_Action_Helper_Url</code> dans la méthode
        <code class="methodname">getHref()</code> pour générer des cibles (hrefs), et la méthode
        <code class="methodname">isActive()</code> utilisera les paramètres issus de
        <code class="classname">Zend_Controller_Request_Abstract</code> et les comparera aux paramètres
        internes à la page.
    </p>

    <div class="table">
<a name="zend.navigation.pages.mvc.options"></a><p class="title"><b>Tableau 124. Options des pages de type MV</b></p>
<div class="table-contents">
        
        <table class="table" summary="Options des pages de type MV" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Clé</th>
<th>Type</th>
<th>Valeur par défaut</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">action</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Nom de l'action pour générer des cibles vers la page.
                    </td>
</tr>
<tr>
<td><code class="code">controller</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Nom du contrôleur pour générer des cibles vers la page.
                    </td>
</tr>
<tr>
<td><code class="code">module</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Nom du module pour générer des cibles vers la page.
                    </td>
</tr>
<tr>
<td><code class="code">params</code></td>
<td><span class="type">Array</span></td>
<td><code class="methodname">array()</code></td>
<td>
                        Paramètres utilisateurs pour générer des cibles vers la page.
                    </td>
</tr>
<tr>
<td><code class="code">route</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        Nom de la route à utiliser pour générer des cibles vers la page.
                    </td>
</tr>
<tr>
<td><code class="code">reset_params</code></td>
<td><code class="code">bool</code></td>
<td><code class="constant">TRUE</code></td>
<td>
                        Remettre à zéro les paramètres de la route ou non.
                    </td>
</tr>
</tbody>
</table>
    </div>
</div>
<br class="table-break">

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Les trois exemples qui suivent supposent une configuration <acronym class="acronym">MVC</acronym> par défaut,
            avec une route <code class="code">default</code>.
        </p>

        <p>
            L'<acronym class="acronym">URI</acronym> retournée est relative au <code class="code">baseUrl</code> de
            <code class="classname">Zend_Controller_Front</code>. Dans nos exemples, le baseUrl vaut
            '/' pour simplifier.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.navigation.pages.mvc.example.getHref"></a><p class="title"><b>Exemple 601. getHref() génères les URI de la page</b></p>
<div class="example-contents">
        

        <p>
            Cet exemple montre que les pages de type <acronym class="acronym">MVC</acronym> utilisent
            <code class="classname">Zend_Controller_Action_Helper_Url</code> en interne pour générer
            les <acronym class="acronym">URI</acronym>s suite à l'appel à <code class="code">$page-&gt;getHref()</code>.
        </p>

        <pre class="programlisting">
// getHref() retourne /
$page = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'index',
    'controller' =&gt; 'index'
));

// getHref() retourne /blog/post/view
$page = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'view',
    'controller' =&gt; 'post',
    'module'     =&gt; 'blog'
));

// getHref() retourne /blog/post/view/id/1337
$page = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'view',
    'controller' =&gt; 'post',
    'module'     =&gt; 'blog',
    'params'     =&gt; array('id' =&gt; 1337)
));
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.navigation.pages.mvc.example.isActive"></a><p class="title"><b>Exemple 602. isActive() détermine si la page est active</b></p>
<div class="example-contents">
        

        <p>
            Cet exemple montre que les pages de type <acronym class="acronym">MVC</acronym> utilisent l'objet de
            requête afin de déterminer si elles sont actives ou non.
        </p>

        <pre class="programlisting">
/*
 * Requête dispatchée:
 * - module:     default
 * - controller: index
 * - action:     index
 */
$page1 = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'index',
    'controller' =&gt; 'index'
));

$page2 = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'bar',
    'controller' =&gt; 'index'
));

$page1-&gt;isActive(); // retourne true
$page2-&gt;isActive(); // retourne false

/*
 * Requête dispatchée:
 * - module:     blog
 * - controller: post
 * - action:     view
 * - id:         1337
 */
$page = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'view',
    'controller' =&gt; 'post',
    'module'     =&gt; 'blog'
));

// retourne true, car la requpete a le même trio module/controller/action
$page-&gt;isActive();

/*
 * Requête dispatchée:
 * - module:     blog
 * - controller: post
 * - action:     view
 */
$page = new Zend_Navigation_Page_Mvc(array(
    'action'     =&gt; 'view',
    'controller' =&gt; 'post',
    'module'     =&gt; 'blog',
    'params'     =&gt; array('id' =&gt; null)
));

// retourne false, car page a besoin du paramètre id dans la requête
$page-&gt;isActive(); // retourne false
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.navigation.pages.mvc.example.routes"></a><p class="title"><b>Exemple 603. Utiliser les routes</b></p>
<div class="example-contents">
        

        <p>
            Les routes sont utilisables dans les pages de type <acronym class="acronym">MVC</acronym>. Si une page a une route,
            elle sera utilisée par <code class="methodname">getHref()</code> pour générer l'<acronym class="acronym">URL</acronym>
            de la page.
        </p>

        <p>
            </p>
<div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
                <p>
                    Notez que si vous utilisez le paramètre <code class="code">route</code>, vous devrez
                    préciser les paramètres par défaut de la route
                    (module, controller, action, etc.), autremant <code class="methodname">isActive()</code>
                    ne pourra déterminer si la page est active ou pas. La raison est qu'il n'existe
                    actuellement aucune méthode permettant de récupérer les paramètres par défaut
                    d'une route un objet <code class="classname">Zend_Controller_Router_Route_Interface</code>,
                    ni même de récupérer la route courante depuis un objet
                    <code class="classname">Zend_Controller_Router_Interface</code>.
                </p>
            </td></tr>
</table></div>
<p>
        </p>

        <pre class="programlisting">
// La route suivante est ajoutée au routeur de ZF
Zend_Controller_Front::getInstance()-&gt;getRouter()-&gt;addRoute(
    'article_view', // nom de la route
    new Zend_Controller_Router_Route(
        'a/:id',
        array(
            'module'     =&gt; 'news',
            'controller' =&gt; 'article',
            'action'     =&gt; 'view',
            'id'         =&gt; null
        )
    )
);

// Une page est créee avec un paramètre 'route'
$page = new Zend_Navigation_Page_Mvc(array(
    'label'      =&gt; 'A news article',
    'route'      =&gt; 'article_view',
    'module'     =&gt; 'news',    // requis pour isActive(), voyez les notes ci-dessus
    'controller' =&gt; 'article', // requis pour isActive(), voyez les notes ci-dessus
    'action'     =&gt; 'view',    // requis pour isActive(), voyez les notes ci-dessus
    'params'     =&gt; array('id' =&gt; 42)
));

// retourne: /a/42
$page-&gt;getHref();
</pre>
    </div>
</div>
<br class="example-break">
</div>
    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.navigation.pages.uri"></a>Zend_Navigation_Page_Uri</h3></div></div></div>
    

    <p>
        Les pages de type <code class="classname">Zend_Navigation_Page_Uri</code> peuvent être utilisées
        pour pointer vers des sites externes, ou des pages internes personnalisées. Les pages
        <acronym class="acronym">URI</acronym> sont simples, en plus des options classiques des pages, les pages
        <acronym class="acronym">URI</acronym> utilisent une seule option : <code class="code">uri</code>. L'
        <code class="code">uri</code> sera retourné à l'appel de <code class="code">$page-&gt;getHref()</code> et retournera
        une <span class="type">chaine</span> ou <code class="constant">NULL</code>.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            <code class="classname">Zend_Navigation_Page_Uri</code> ne pourra pas calculer
            elle même si elle est active ou pas suite à un appel à
            <code class="code">$page-&gt;isActive()</code>. L'appel retournera la valeur que vous aurez
            spécifier vous-mêmes grâce à <code class="code">$page-&gt;setActive()</code> ou via l'option
            de constructeur <code class="code">active</code>.
        </p>
    </td></tr>
</table></div>

    <div class="table">
<a name="zend.navigation.pages.uri.options"></a><p class="title"><b>Tableau 125. URI page options</b></p>
<div class="table-contents">
        
        <table class="table" summary="URI page options" border="1">
<colgroup>
<col>
<col>
<col>
<col>
</colgroup>
<thead><tr>
<th>Clé</th>
<th>Type</th>
<th>Valeur par défaut</th>
<th>Description</th>
</tr></thead>
<tbody><tr>
<td><code class="code">uri</code></td>
<td><span class="type">chaine</span></td>
<td><code class="constant">NULL</code></td>
<td>
                        <acronym class="acronym">URI</acronym> vers la page. Une chaine, ou
                        <code class="constant">NULL</code>.
                    </td>
</tr></tbody>
</table>
    </div>
</div>
<br class="table-break">
</div>
    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.navigation.pages.custom"></a>Créer des pages de type personnalisé</h3></div></div></div>
    

    <p>
        Etendre <code class="classname">Zend_Navigation_Page</code> ne nécessite pas forcément de réécrire
        le constructeur ou les méthodes <code class="methodname">setOptions()</code> ou
        <code class="methodname">setConfig()</code>. Le constructeur prend un seul paramètre de type
        <span class="type">Array</span> ou <code class="classname">Zend_Config</code> et il est passé à
        <code class="methodname">setOptions()</code> ou <code class="methodname">setConfig()</code> respectivement.
        Ces méthodes appellerons par la suite les setters <code class="methodname">set()</code> qui distribueront
        leurs options. Si l'option <span class="property">internal_id</span> est présente, alors la méthode
        <code class="methodname">setInternalId()</code> sera évaluée si présente, et l'option en question lui sera
        passée. Si une telle méthode n'existe pas, l'option sera alors vue comme une propriété de la page
        et sera accessible sous <span class="command"><strong>$internalId = $page-&gt;internal_id;</strong></span> ou
        <span class="command"><strong>$internalId = $page-&gt;get('internal_id');</strong></span>.
    </p>

    <div class="example">
<a name="zend.navigation.custom.example.simple"></a><p class="title"><b>Exemple 604. La page personnalisée la plus simple possible</b></p>
<div class="example-contents">
        

        <p>
            La seule chose à définir dans une page personnalisée est la méthode
            <code class="methodname">getHref()</code>.
        </p>

        <pre class="programlisting">
class My_Simple_Page extends Zend_Navigation_Page
{
    public function getHref()
    {
        return 'Quelquechose-ici--ce-que-je-veux';
    }
}
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.navigation.custom.example.properties"></a><p class="title"><b>Exemple 605. Une page personnalisée avec des propriétés</b></p>
<div class="example-contents">
        

        <p>
            Ajouter des propriétés à vos pages étendues ne nécessite pas de réécrire
            <code class="methodname">setOptions()</code> ou <code class="methodname">setConfig()</code>.
        </p>

        <pre class="programlisting">
class My_Navigation_Page extends Zend_Navigation_Page
{
    private $_foo;
    private $_fooBar;

    public function setFoo($foo)
    {
        $this-&gt;_foo = $foo;
    }

    public function getFoo()
    {
        return $this-&gt;_foo;
    }

    public function setFooBar($fooBar)
    {
        $this-&gt;_fooBar = $fooBar;
    }

    public function getFooBar()
    {
        return $this-&gt;_fooBar;
    }

    public function getHref()
    {
        return $this-&gt;foo . '/' . $this-&gt;fooBar;
    }
}

// can now construct using
$page = new My_Navigation_Page(array(
    'label'   =&gt; 'Les noms des propriétés sont dirigés vers les setters',
    'foo'     =&gt; 'bar',
    'foo_bar' =&gt; 'baz'
));

// ...or
$page = Zend_Navigation_Page::factory(array(
    'type'    =&gt; 'My_Navigation_Page',
    'label'   =&gt; 'Les noms des propriétés sont dirigés vers les setters',
    'foo'     =&gt; 'bar',
    'foo_bar' =&gt; 'baz'
));
</pre>
    </div>
</div>
<br class="example-break">
</div>
    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.navigation.pages.factory"></a>Créer des pages avec la fabrique</h3></div></div></div>
    

    <p>
        Toute les pages (même les personnalisées) peuvent petre créer via la fabrique
        <code class="methodname">Zend_Navigation_Page::factory()</code>. Celle-ci peut prendre un
        tableau d'options ou un objet <code class="classname">Zend_Config</code>. Chaque clé
        correspondant à une option de l'obet page à créer comme l'indique la section concernant
        les <a class="link" href="zend.navigation.pages.html" title="Pages">Pages</a>. Si le paramètre
        <code class="code">uri</code> est passé et qu'aucun paramètre concernant <acronym class="acronym">MVC</acronym> ne
        sont présents (<code class="code">action, controller, module, route</code>), une page de type
        <acronym class="acronym">URI</acronym> sera créee. Si un ou plusieurs paramètres concernant
        <acronym class="acronym">MVC</acronym> sont passés, une page de type <acronym class="acronym">MVC</acronym> sera
        retournée.
    </p>

    <p>
        Si le paramètre <code class="code">type</code> est passé, la fabrique l'utilisera pour déterminer
        le nom de la classe à utiliser. Les valeurs <code class="code">mvc</code> ou <code class="code">uri</code>
        créeront des pages de types <acronym class="acronym">MVC</acronym>/URI.
    </p>

    <div class="example">
<a name="zend.navigation.pages.factory.example.mvc"></a><p class="title"><b>Exemple 606. Créer une page MVC avec la fabrique</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
$page = Zend_Navigation_Page::factory(array(
    'label'  =&gt; 'My MVC page',
    'action' =&gt; 'index'
));

$page = Zend_Navigation_Page::factory(array(
    'label'      =&gt; 'Search blog',
    'action'     =&gt; 'index',
    'controller' =&gt; 'search',
    'module'     =&gt; 'blog'
));

$page = Zend_Navigation_Page::factory(array(
    'label'      =&gt; 'Home',
    'action'     =&gt; 'index',
    'controller' =&gt; 'index',
    'module'     =&gt; 'index',
    'route'      =&gt; 'home'
));

$page = Zend_Navigation_Page::factory(array(
    'type'   =&gt; 'mvc',
    'label'  =&gt; 'My MVC page'
));
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.navigation.pages.factory.example.uri"></a><p class="title"><b>Exemple 607. Créer une page URI avec la fabrique</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
$page = Zend_Navigation_Page::factory(array(
    'label' =&gt; 'My URI page',
    'uri'   =&gt; 'http://www.example.com/'
));

$page = Zend_Navigation_Page::factory(array(
    'label'  =&gt; 'Search',
    'uri'    =&gt; 'http://www.example.com/search',
    'active' =&gt; true
));

$page = Zend_Navigation_Page::factory(array(
    'label' =&gt; 'My URI page',
    'uri'   =&gt; '#'
));

$page = Zend_Navigation_Page::factory(array(
    'type'   =&gt; 'uri',
    'label'  =&gt; 'My URI page'
));
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.navigation.pages.factory.example.custom"></a><p class="title"><b>Exemple 608. Créer une page personnalisée avec la fabrique</b></p>
<div class="example-contents">
        

     <p>
         Utilisez l'option <code class="code">type</code> afin de nommer la classe à
         utiliser.
     </p>

        <pre class="programlisting">
class My_Navigation_Page extends Zend_Navigation_Page
{
    protected $_fooBar = 'ok';

    public function setFooBar($fooBar)
    {
        $this-&gt;_fooBar = $fooBar;
    }
}

$page = Zend_Navigation_Page::factory(array(
    'type'    =&gt; 'My_Navigation_Page',
    'label'   =&gt; 'My custom page',
    'foo_bar' =&gt; 'foo bar'
));
</pre>
    </div>
</div>
<br class="example-break">
</div>

</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.navigation.introduction.html">Précédent</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.navigation.html">Niveau supérieur</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.navigation.containers.html">Suivant</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Introduction </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td>
<td width="40%" align="right" valign="top"> Containers</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
