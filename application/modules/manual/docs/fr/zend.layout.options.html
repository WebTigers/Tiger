<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Zend_Layout options de configuration</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Guide de référence du programmeur">
<link rel="up" href="zend.layout.html" title="Zend_Layout">
<link rel="prev" href="zend.layout.quickstart.html" title="Zend_Layout - Démarrage rapide">
<link rel="next" href="zend.layout.advanced.html" title="Zend_Layout, utilisation avancée">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Zend_Layout options de configuration</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.layout.quickstart.html">Précédent</a> </td>
<th width="60%" align="center">Zend_Layout</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.layout.advanced.html">Suivant</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.layout.options"></a>Zend_Layout options de configuration</h2></div></div></div>
    

    <p>
        <code class="classname">Zend_Layout</code> possède quelques options. Vous pouvez les spécifier
        grâce à des accesseurs. Autrement, en passant un tableau ou un objet
        <code class="classname">Zend_Config</code> au constructeur, ou à <code class="methodname">startMvc()</code>. Un tableau
        d'options peut aussi être passé à <code class="methodname">setOptions()</code>, un objet
        <code class="classname">Zend_Config</code> peut être passé à <code class="methodname">setConfig()</code>. Les options
        de configuration sont les suivantes :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="emphasis"><em>layout</em></span> : le nom du script de layout. L'inflecteur traduit
                alors ceci en nom de fichier. Par défaut, il s'agit de "layout" traduit vers
                "layout.phtml". Les accesseurs sont <code class="methodname">setLayout()</code> et
                <code class="methodname">getLayout()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>layoutPath</em></span> : l'url de base vers les scripts de layout.
                Les accesseurs sont <code class="methodname">setLayoutPath()</code> et
                <code class="methodname">getLayoutPath()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>contentKey</em></span> : la variable de layout utilisée pour accéder
                au contenu par défaut (lorsqu'utilisée couplée avec <acronym class="acronym">MVC</acronym>). La valeur par défaut est
                "content". Pour les accesseurs : <code class="methodname">setContentKey()</code> et
                <code class="methodname">getContentKey()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>mvcSuccessfulActionOnly</em></span> : si une action envoie une
                exception et que cette option vaut <code class="constant">TRUE</code>, alors le layout ne sera pas
                rendu. (Ceci évite un double rendu alors que le plugin <a class="link" href="zend.controller.plugins.html#zend.controller.plugins.standard.errorhandler" title="Zend_Controller_Plugin_ErrorHandler">ErrorHandler</a> est
                activé). Par défaut cette option est à <code class="constant">TRUE</code>. Ses accesseurs :
                <code class="methodname">setMvcSuccessfulActionOnly()</code> et
                <code class="methodname">getMvcSuccessfulActionOnly()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>view</em></span> : l'objet de vue (<code class="classname">Zend_View</code>)
                utilisée par le layout pour rendre son script. Utilisé avec <acronym class="acronym">MVC</acronym>,
                <code class="classname">Zend_Layout</code> cherchera à récupérer la vue via l'aide <a class="link" href="zend.controller.actionhelpers.html#zend.controller.actionhelpers.viewrenderer" title="ViewRenderer">ViewRenderer</a>, si aucun
                objet de vue ne lui est passé explicitement. Les accesseurs sont
                <code class="methodname">setView()</code> et <code class="methodname">getView()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>helperClass</em></span> : la classe représentant l'aide d'action
                lorsque <code class="classname">Zend_Layout</code> est utilisé avec les composants <acronym class="acronym">MVC</acronym>. Par
                défaut il s'agit de
                <code class="classname">Zend_Layout_Controller_Action_Helper_Layout</code>. Les accesseurs
                sont <code class="methodname">setHelperClass()</code> et <code class="methodname">getHelperClass()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>pluginClass</em></span> : la classe représentant le plugin de
                contrôleur frontal lorsque <code class="classname">Zend_Layout</code> est utilisé avec les
                composants <acronym class="acronym">MVC</acronym>. Par défaut, il s'agit de
                <code class="classname">Zend_Layout_Controller_Plugin_Layout</code>. Les accesseurs sont
                <code class="methodname">setPluginClass()</code> et <code class="methodname">getPluginClass()</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="emphasis"><em>inflector</em></span> : l'inflecteur utilisé pour la résolution des
                noms de layout vers les scripts de layout. Voyez <a class="link" href="zend.layout.advanced.html#zend.layout.advanced.inflector" title="Résolution de chemin de script personnalisé (inflecteur)">la documentation spécifique pour plus de
                détails</a>. Les accesseurs sont <code class="methodname">setInflector()</code> et
                <code class="methodname">getInflector()</code>.
            </p>
        </li>
</ul></div>

    <div class="note"><table border="0" summary="Note: Vous devez passer les helperClass et pluginClass à startMvc()">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Vous devez passer les helperClass et pluginClass à startMvc()</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Pour que les paramètres <code class="code">helperClass</code> et <code class="code">pluginClass</code>
            agissent, vous devez les passer en options à <code class="methodname">startMvc()</code>. Si vous les
            spécifiez après, ils seront ignorés.
        </p>
    </td></tr>
</table></div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.layout.options.examples"></a>Exemples</h3></div></div></div>
        

        <p>
            Les exemples sont basés sur les paramètres <code class="varname">$options</code> et
            <code class="varname">$config</code> suivants :
        </p>

        <pre class="programlisting">
$options = array(
    'layout'     =&gt; 'foo',
    'layoutPath' =&gt; '/chemin/vers/layouts',
    'contentKey' =&gt; 'CONTENT'
    // ignorés si MVC n'est pas utilisé
);
</pre>

        <pre class="programlisting">
/**
[layout]
layout = "foo"
layoutPath = "/chemin/vers/layouts"
contentKey = "CONTENT"
*/
$config = new Zend_Config_Ini('/chemin/vers/layout.ini', 'layout');
</pre>

        <div class="example">
<a name="zend.layout.options.examples.constructor"></a><p class="title"><b>Exemple 486. Passer des options au constructeur ou à startMvc()</b></p>
<div class="example-contents">
            

            <p>
                Le constructeur et la méthode statique <code class="methodname">startMvc()</code> acceptent soit
                un tableau d'options, soit un objet <code class="classname">Zend_Config</code>.
            </p>

            <p>Voyons le cas du tableau :</p>

            <pre class="programlisting">
// Avec le constructeur :
$layout = new Zend_Layout($options);

// Avec startMvc():
$layout = Zend_Layout::startMvc($options);
</pre>

            <p>Et maintenant avec l'objet de configuration :</p>

            <pre class="programlisting">
$config = new Zend_Config_Ini('/chemin/vers/layout.ini', 'layout');

// Cas du constructeur:
$layout = new Zend_Layout($config);

// Via startMvc():
$layout = Zend_Layout::startMvc($config);
</pre>

            <p>
                C'est la manière la plus simple de configurer votre objet
                <code class="classname">Zend_Layout</code>.
            </p>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.layout.options.examples.setoptionsconfig"></a><p class="title"><b>Exemple 487. Utilisation de setOptions() et setConfig()</b></p>
<div class="example-contents">
            

            <p>
                Pour configurer <code class="classname">Zend_Layout</code> après l'avoir instanciée,
                utilisez les méthodes <code class="methodname">setOptions()</code> et <code class="methodname">setConfig()</code> sur
                l'objet :
            </p>

            <pre class="programlisting">
// Utilisation d'un tableau d'options:
$layout-&gt;setOptions($options);

// Utilisation d'un objet Zend_Config:
$layout-&gt;setConfig($options);
</pre>

            <p>
                Notez cependant que certaines options comme <code class="code">pluginClass</code> et
                <code class="code">helperClass</code> n'auront aucun effet avec ses méthodes. Elles doivent être
                passées au constructeur ou à la méthode <code class="methodname">startMvc()</code>.
            </p>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.layout.options.examples.accessors"></a><p class="title"><b>Exemple 488. Utilisation des accesseurs</b></p>
<div class="example-contents">
            

            <p>
                Enfin, vous pouvez aussi configurer votre objet de
                <code class="classname">Zend_Layout</code> grâce à ses accesseurs. Ils peuvent s'utiliser
                chaînés (interface fluide):
            </p>

            <pre class="programlisting">
$layout-&gt;setLayout('foo')
       -&gt;setLayoutPath('/chemin/vers/layouts')
       -&gt;setContentKey('CONTENT');
</pre>
        </div>
</div>
<br class="example-break">
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.layout.quickstart.html">Précédent</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.layout.html">Niveau supérieur</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.layout.advanced.html">Suivant</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Zend_Layout - Démarrage rapide </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td>
<td width="40%" align="right" valign="top"> Zend_Layout, utilisation avancée</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
