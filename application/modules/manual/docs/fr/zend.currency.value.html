<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Travailler avec les valeurs des monnaies (les montants)</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Guide de référence du programmeur">
<link rel="up" href="zend.currency.html" title="Zend_Currency">
<link rel="prev" href="zend.currency.number.html" title="A quoi ressemble une monnaie?">
<link rel="next" href="zend.currency.calculation.html" title="Calculs avec les monnaies">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Travailler avec les valeurs des monnaies (les montants)</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.currency.number.html">Précédent</a> </td>
<th width="60%" align="center">Zend_Currency</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.currency.calculation.html">Suivant</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.currency.value"></a>Travailler avec les valeurs des monnaies (les montants)</h2></div></div></div>
    

    <p>
        Travailler avec des monnaies c'est avant tout travailler avec des valeurs, des "prix", un montant.
        Il faut ainsi travailler avec le montant (la valeur), la précision et l'éventuel taux de change.
    </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.currency.value.money"></a>Travailler avec les valeurs des monnaies</h3></div></div></div>
        

        <p>
            La valeur de la monnaie (le montant) se précise grâce à l'option <span class="property">value</span>.
        </p>

        <pre class="programlisting">
$currency = new Zend_Currency(
    array(
        'value'    =&gt; 1000,
        'currency' =&gt; 'USD',
    )
);

print $currency; // Retournerait '$ 1.000'
</pre>

        <p>
            Vous pouvez changer la valeur en utilisant les méthodes <code class="methodname">setFormat()</code>
            ou <code class="methodname">setValue()</code>.
        </p>

        <pre class="programlisting">
$currency = new Zend_Currency(
    array(
        'value'    =&gt; 1000,
        'currency' =&gt; 'USD',
    )
);

print $currency-&gt;setValue(2000); // Retournerait '$ 2.000'
</pre>

        <p>
            <code class="methodname">getValue()</code> existe aussi.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.currency.value.precision"></a>Utiliser la précision des monnaies</h3></div></div></div>
        

        <p>
            La plupart des monnaies utilisent une précision de 2, ce qui signifie qu'avec 100 dollars US
            vous pouvez rajouter 50 cents. C'est simplement le paramètre après la virgule.
        </p>

        <pre class="programlisting">
$currency = new Zend_Currency(
    array(
        'value'    =&gt; 1000.50,
        'currency' =&gt; 'USD',
    )
);

print $currency; // Retournerait '$ 1.000,50'
</pre>

        <p>
            Comme la précision est de 2, vous obtiendrez des décimales à '00' pour un chiffre rond.
        </p>

        <pre class="programlisting">
$currency = new Zend_Currency(
    array(
        'value'    =&gt; 1000,
        'currency' =&gt; 'USD',
    )
);

print $currency; // Retournerait '$ 1.000,00'
</pre>

        <p>
            Pour pallier à ce problème de précision, vous pouvez simplement utiliser l'option
            <span class="property">precision</span> avec la valeur '0'. La précision prend une valeur entre
            0 et 9. Les valeurs des monnaies seront arrondies lorsqu'elles ne tiennent pas dans la
            précision demandée.
        </p>

        <pre class="programlisting">
$currency = new Zend_Currency(
    array(
        'value'     =&gt; 1000,30,
        'currency'  =&gt; 'USD',
        'precision' =&gt; 0
    )
);

print $currency; // Retournerait '$ 1.000'
</pre>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.currency.number.html">Précédent</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.currency.html">Niveau supérieur</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.currency.calculation.html">Suivant</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">A quoi ressemble une monnaie? </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td>
<td width="40%" align="right" valign="top"> Calculs avec les monnaies</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
