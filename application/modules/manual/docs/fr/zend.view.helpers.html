<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Aides de vue</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Guide de référence du programmeur">
<link rel="up" href="zend.view.html" title="Zend_View">
<link rel="prev" href="zend.view.scripts.html" title="Scripts de vue">
<link rel="next" href="zend.view.abstract.html" title="Zend_View_Abstract">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Aides de vue</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Précédent</a> </td>
<th width="60%" align="center">Zend_View</th>
<td width="20%" align="right"> <a accesskey="n" href="zend.view.abstract.html">Suivant</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="zend.view.helpers"></a>Aides de vue</h2></div></div></div>
    

    <p>
        Dans vos scripts de vue, il est souvent nécessaire d'effectuer certaines actions
        complexes encore et encore : par exemple, formater une date, générer des éléments de
        formulaire, afficher des liens d'action. Vous pouvez utiliser des classes d'aide pour
        effectuer ce genre de tâches.
    </p>

    <p>
        Une aide est simplement une classe. Par exemple, nous voulons une aide nommée
        "foobar". Par défaut, la classe est préfixée avec <code class="code">"Zend_View_Helper_"</code> (vous
        pouvez spécifier un préfixe personnalisé en paramétrant votre chemin d'aide), et le dernier
        segment du nom de classe est le nom de l'aide ; ce segment peut être avec des
        CaracteresMajuscules ; le nom complet de la classe est alors :
        <code class="classname">Zend_View_Helper_FooBar</code>. Cette classe doit contenir au moins une
        méthode, nommée comme l'aide avec la notationCamel : <code class="methodname">fooBar()</code>.
    </p>

    <div class="note"><table border="0" summary="Note: Surveillez la casse">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Surveillez la casse</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Les noms des aides sont toujours en notationCamel, c'est-à-dire qu'ils ne
            commencent pas avec un caractère majuscule. Le nom de classe elle-même peut être en
            casseMélangée, mais la méthode qui est exécutée est en notationCamel.
        </p>
    </td></tr>
</table></div>

    <p>
        Pour utiliser une aide dans votre script de vue, appelez la en utilisant
        <code class="code">$this-&gt;nomAide()</code>. Dans les coulisses, <code class="classname">Zend_View</code> va
        charger la classe <code class="classname">Zend_View_Helper_NomAide</code>, créer une instance de cet
        objet, et appeler sa méthode <code class="methodname">nomAide()</code>. L'instance de l'objet est persistante
        dans l'instance de <code class="classname">Zend_View</code>, et est réutilisée pour tous les appels
        futurs à <code class="code">$this-&gt;nomAide()</code>.
    </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.initial"></a>Aides initiales</h3></div></div></div>
        

        <p>
            <code class="classname">Zend_View</code> fournit avec un jeu initial de classes d'aides,
            la plupart est liée à la génération d'éléments de formulaire. Chacune affiche et échappe
            l'élément automatiquement. De plus, il existe des aides pour créer des <acronym class="acronym">URL</acronym>s sur la base
            de routes et des listes HTML, de la même manière que l'on déclarerait des variables. Les
            aides actuellement incluses sont :
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">declareVars()</code> : initialement prévu pour être utilisé avec
                    <code class="methodname">strictVars()</code>, cette aide peut être utilisée pour déclarer les
                    variables de modèle ("template") qui sont (ou pas) déjà déclarées dans l'objet
                    de vue, ou pour gérer des valeurs par défaut. Les tableaux passés comme
                    arguments à la méthode seront utilisés pour paramétrer des valeurs par défaut ;
                    sinon, si la variable n'existe pas, on lui affecte une chaîne vide.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">fieldset($name, $content, $attribs)</code> : crée un ensemble de
                    champs <acronym class="acronym">XHTML</acronym>. Si <code class="varname">$attribs</code> contient une clé "legend", cette valeur
                    sera utilisée comme légende du fieldset. Le fieldset entourera le contenu
                    <code class="varname">$content</code> tel qu'il aura été fourni à l'aide.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">form($name, $attribs, $content)</code> : génère un formulaire <acronym class="acronym">XHTML</acronym>.
                    Tous les éléments <code class="varname">$attribs</code> sont échappés et rendus sous la forme
                    d'attributs de la balise "form". Si <code class="varname">$content</code> est présent et n'est
                    pas un booléen valant <code class="constant">FALSE</code>, alors ce contenu est rendu à
                    l'intérieur des balises "form" ; si <code class="varname">$content</code> est un booléen valant
                    <code class="constant">FALSE</code> (par défaut), seul la balise ouvrante "form" est
                    générée.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formButton($name, $value, $attribs)</code> : crée un élément
                    &lt;button /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">formCheckbox($name, $value, $attribs, $options):</code> crée un
                    élément &lt;input type="checkbox" /&gt;.
                </p>

                <p>
                    Par défaut, quand aucune <code class="varname">$value</code> n'est fournie et qu'aucune
                    <code class="varname">$options</code> n'est présente, alors "0" est considéré comme la valeur
                    non cochée et "1" comme la valeur cochée. Si une <code class="varname">$value</code> est
                    fournie, mais qu'aucune <code class="varname">$options</code> n'est présente, l'état coché est
                    considéré égal à la <code class="varname">$value</code> fournie.
                </p>

                <p>
                    <code class="varname">$options</code> devrait être un tableau. Si ce tableau est indexé,
                    la première valeur est la valeur cochée, la seconde est la valeur non cochée ;
                    et tout autre valeur est ignorée. Vous pouvez aussi passer un tableau associatif
                    avec les clés "<code class="code">checked</code>" et "<code class="code">unChecked</code>".
                </p>

                <p>
                    Si <code class="varname">$options</code> est fourni, et que <code class="varname">$value</code> correspond
                    à la valeur cochée, alors l'élément sera marqué comme coché. Vous pouvez aussi
                    marquer l'élément comme coché ou décoché en passant une valeur booléenne à
                    l'attribut "<code class="code">checked</code>".
                </p>

                <p>Ceci pourra sûrement être plus explicite avec quelques exemples :</p>

                <pre class="programlisting">
// "1" et "0" en tant qu'options cochée/décochée ; cochée
echo $this-&gt;formCheckbox('foo');

// "1" et "0" en tant qu'options cochée/décochée ; cochée
echo $this-&gt;formCheckbox('foo', null, array('checked' =&gt; true));

// "bar" et "0" en tant qu'options cochée/décochée ; décochée
echo $this-&gt;formCheckbox('foo', 'bar');

// "bar" et "0" en tant qu'options cochée/décochée ; cochée
echo $this-&gt;formCheckbox('foo', 'bar', array('checked' =&gt; true));

// "bar" et "baz" en tant qu'options cochée/décochée ; décochée
echo $this-&gt;formCheckbox('foo', null, null, array('bar', 'baz'));

// "bar" et "baz" en tant qu'options cochée/décochée ; décochée
echo $this-&gt;formCheckbox('foo', null, null, array(
    'checked' =&gt; 'bar',
    'unChecked' =&gt; 'baz'
));

// "bar" et "baz" en tant qu'options cochée/décochée ; cochée
echo $this-&gt;formCheckbox('foo', 'bar', null, array('bar', 'baz'));
echo $this-&gt;formCheckbox('foo',
                         null,
                         array('checked' =&gt; true),
                         array('bar', 'baz'));

// "bar" et "baz" en tant qu'options cochée/décochée ; décochée
echo $this-&gt;formCheckbox('foo', 'baz', null, array('bar', 'baz'));
echo $this-&gt;formCheckbox('foo',
                         null,
                         array('checked' =&gt; false),
                         array('bar', 'baz'));
</pre>

                <p>
                    Dans tous les cas, la balise est précédée d'un élément masqué ("hidden")
                    avec la valeur de l'état décoché ; ainsi, si la valeur est décochée, vous aurez
                    toujours une valeur valide retournée par votre formulaire.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formErrors($errors, $options)</code> : génère une liste non ordonnée
                    <acronym class="acronym">XHTML</acronym> pour montrer des erreurs. <code class="varname">$errors</code> peut être une chaîne de
                    caractères ou un tableau de chaînes ; <code class="varname">$options</code> peut être tout
                    attribut que vous pourriez vouloir placer dans la balise ouvrante de la
                    liste.
                </p>

                <p>
                    Vous pouvez spécifier des éléments ouvrants, fermants et des séparateurs
                    de contenu alternatifs lors du rendu des erreurs en appelant les différentes
                    méthodes suivantes de l'aide :
                </p>

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="methodname">setElementStart($string)</code> ; par défaut vaut "&lt;ul
                            class="errors"%s"&gt;&lt;li&gt;", où <code class="code">%s</code> est remplacé avec
                            les attributs spécifiés dans <code class="varname">$options</code>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementSeparator($string)</code> ; par défaut vaut
                            "&lt;/li&gt;&lt;li&gt;".
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="methodname">setElementEnd($string)</code> ; par défaut vaut
                            "&lt;/li&gt;&lt;/ul&gt;".
                        </p>
                    </li>
</ul></div>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formFile($name, $attribs)</code>: crée un élément &lt;input
                    type="file" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formHidden($name, $value, $attribs)</code> : crée un élément
                    &lt;input type="hidden" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formLabel($name, $value, $attribs)</code> : crée un élément
                    &lt;label&gt;, en réglant l'attribut <code class="code">for</code> avec <code class="varname">$name</code>,
                    et le texte du label avec <code class="varname">$value</code>. Si <code class="code">disable</code> est
                    fourni via <code class="code">attribs</code>, rien n'est retourné.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">formMultiCheckbox($name, $value, $attribs, $options,
                    $listsep)</code> : crée une liste de cases à cocher. <code class="varname">$options</code>
                    devrait être un tableau associatif, avec une profondeur arbitraire.
                    <code class="varname">$value</code> peut être une valeur unique ou un tableau de valeurs
                    sélectionnées qui correspondent aux clés du tableau <code class="varname">$options</code>.
                    <code class="varname">$listsep</code> est un séparateur HTML ("&lt;br /&gt;") par défaut. Par
                    défaut, cet élément est traité comme un tableau ; toutes les cases à cocher
                    partagent le même nom, et sont soumises sous la forme d'un tableau.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formPassword($name, $value, $attribs)</code> : crée un élément
                    &lt;input type="password" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formRadio($name, $value, $attribs, $options)</code> : crée une série
                    d'éléments &lt;input type="button" /&gt;, un pour chaque élément
                    <code class="varname">$options</code>. Dans le tableau <code class="varname">$options</code>, la clé de
                    l'élément est la valeur du radio, et la valeur de l'élément est l'étiquette du
                    radio. La radio <code class="varname">$value</code> sera précochée pour vous.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formReset($name, $value, $attribs)</code> : crée un élément
                    &lt;input type="reset" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formSelect($name, $value, $attribs, $options)</code> : crée un bloc
                    &lt;select&gt;...&lt;/select&gt;, avec une &lt;option&gt; pour chaque élément
                    <code class="varname">$options</code>. Dans le tableau <code class="varname">$options</code>, la clé de
                    l'élément est la valeur de l'option, et la valeur de l'élément est son étiquette
                    optionnelle. L'option (ou les options) <code class="varname">$value</code> sera (ou seront)
                    présélectionnée(s) pour vous.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formSubmit($name, $value, $attribs)</code> : crée un élément
                    &lt;input type="submit" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formText($name, $value, $attribs)</code> : crée un élément &lt;input
                    type="text" /&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">formTextarea($name, $value, $attribs)</code> : crée un bloc
                    &lt;textarea&gt;...&lt;/textarea&gt;.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">url($urlOptions, $name, $reset)</code> : crée un <acronym class="acronym">URL</acronym> basé sur une
                    route nommée. <code class="varname">$urlOptions</code> doit être un tableau associatif avec des
                    paires de clés/valeurs utilisées par une route particulière.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">htmlList($items, $ordered, $attribs, $escape)</code> : génère des
                    listes ordonnées ou non basées sur les <code class="varname">$items</code> qui lui sont fournis.
                    Si <code class="varname">$items</code> est un tableau multidimensionnel, une liste imbriquée
                    sera construite. Si le paramètre <code class="varname">$escape</code> vaut <code class="constant">TRUE</code>
                    (valeur par défaut), chaque élément sera échappé en utilisant le mécanisme
                    d'échappement enregistré dans les objets de vue ; fournissez une valeur
                    <code class="constant">FALSE</code> si vous voulez autoriser du balisage dans vos listes.
                </p>
            </li>
</ul></div>

        <p>
            Les utiliser dans vos script de vue est très simple, voici un exemple. Notez que
            tout ce dont vous avez besoin, c'est de les appeler; elles vont se charger et
            s'instancier elle-même si besoin est.
        </p>

        <pre class="programlisting">
&lt;!--
Dans votre script de vue, $this se réfère à l'instance de Zend_View.
Partons du principe que vous avez déjà assigné une série d'options
de sélection dans un tableau $pays =
array('us' =&gt; 'Etats-Unis', 'fr' =&gt; 'France', 'de' =&gt; 'Allemagne').
--&gt;
&lt;form action="action.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Votre email :
        &lt;?php echo $this-&gt;formText('email',
                                   'vous@exemple.fr',
                                   array('size' =&gt; 32)) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Votre pays :
        &lt;?php echo $this-&gt;formSelect('country',
                                     'us',
                                     null,
                                     $this-&gt;pays) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;??? Would you like to opt in ???
        &lt;?php echo $this-&gt;formCheckbox('opt_in',
                                       'oui',
                                       null,
                                       array('oui', 'non')) ?&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
</pre>

        <p>La sortie résultante du script de vue ressemblera à ceci :</p>

        <pre class="programlisting">
&lt;form action="action.php" method="post"&gt;
    &lt;p&gt;&lt;label&gt;Votre email :
        &lt;input type="text" name="email"
               value="vous@exemple.fr" size="32" /&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;Votre pays :
        &lt;select name="country"&gt;
            &lt;option value="us" selected="selected"&gt;Etats-Unis&lt;/option&gt;
            &lt;option value="fr"&gt;France&lt;/option&gt;
            &lt;option value="de"&gt;Allemagne&lt;/option&gt;
        &lt;/select&gt;
    &lt;/label&gt;&lt;/p&gt;
    &lt;p&gt;&lt;label&gt;??? Would you like to opt in ???
        &lt;input type="hidden" name="opt_in" value="non" /&gt;
        &lt;input type="checkbox" name="opt_in"
               value="oui" checked="checked" /&gt;
    &lt;/label&gt;&lt;/p&gt;
&lt;/form&gt;
</pre>

        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.action"></a>L'aide de vue Action</h4></div></div></div>
    

    <p>
        L'aide de vue <code class="code">Action</code> permet à des scripts de vue de distribuer une action
        donnée d'un contrôleur ; le résultat de l'objet de réponse suivant la distribution est alors
        retourné. Ceux-ci peuvent être employés quand une action particulière peut produire du
        contenu réutilisable ou du contenu de type "gadget".
    </p>

    <p>
        Les actions qui ont comme conséquence un <code class="methodname">_forward()</code> ou une redirection
        sont considérées invalide, et retourneront une chaîne vide.
    </p>

    <p>
        L'API pour l'aide de vue <code class="code">Action</code> respecte le même schéma que la plupart
        les composants <acronym class="acronym">MVC</acronym> qui appellent des actions de contrôleur : <code class="code">action($action,
        $controller, $module = null, array $params = array())</code>. <code class="varname">$action</code> et
        <code class="varname">$controller</code> sont exigés ; si aucun module n'est spécifié, le module par défaut
        est implicite.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.action.usage"></a><p class="title"><b>Exemple 954. Utilisation de base de l'aide de vue Action</b></p>
<div class="example-contents">
        

        <p>
            Par exemple, vous pouvez avoir un <code class="code">CommentController</code> avec une méthode
            <code class="methodname">listAction()</code> que vous souhaitez appeler afin de récupérer une liste de
            commentaires pour la requête courante :
        </p>

        <pre class="programlisting">
&lt;div id="sidebar right"&gt;
    &lt;div class="item"&gt;
        &lt;?php echo $this-&gt;action('list', 'comment', null, array('count' =&gt; 10)); ?&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.baseurl"></a>Aide BaseUrl</h4></div></div></div>
    

    <p>
        La plupart des <acronym class="acronym">URL</acronym>s générées par le framework possèdent l'
        <acronym class="acronym">URL</acronym> de base préfixée automatiquement. Les développeurs ont besoin de
        la rajouter à la main à leurs propres <acronym class="acronym">URL</acronym>s afin de garder une correspondance
        chemins - ressources correcte.
    </p>

    <p>
        L'utilisation de l'aide de vue BaseUrl est très simple:
    </p>

    <pre class="programlisting">
/*
 * Imaginons une URL de base dans page/application de "/mypage".
 */

/*
 * affiche:
 * &lt;base href="/mypage/" /&gt;
 */
&lt;base href="&lt;?php echo $this-&gt;baseUrl(); ?&gt;" /&gt;

/*
 * affiche:
 * &lt;link rel="stylesheet" type="text/css" href="/mypage/css/base.css" /&gt;
 */
&lt;link rel="stylesheet" type="text/css"
     href="&lt;?php echo $this-&gt;baseUrl('css/base.css'); ?&gt;" /&gt;
</pre>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Pour plus de simplicité, le fichier <acronym class="acronym">PHP</acronym> (par exemple
            "<code class="filename">index.php</code>") est enelevé de l'<acronym class="acronym">URL</acronym> de base
            gérée par <code class="classname">Zend_Controller</code>. Cependant, si ceci vous gène, utilisez
            <code class="methodname">$this-&gt;getHelper('BaseUrl')-&gt;setBaseUrl()</code> pour affecter votre
            propre BaseUrl.
        </p>
    </td></tr>
</table></div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.currency"></a>Aide Currency</h4></div></div></div>
    

    <p>
        Afficher des informations de monnaie localisées est très courant; l'aide de vue de
        <code class="classname">Zend_Currency</code> est dédiée à cela. Voyez le chapitre
        <a class="link" href="zend.currency.introduction.html" title="Introduction à Zend_Currency">sur Zend Currency</a> pour les détails sur la
        localisation. Dans cette section, nous apprendrons à manipuler l'aide de vue uniquement.
    </p>

    <p>
        Il existe plusieurs manières d'initialiser l'aide de vue <span class="emphasis"><em>Currency</em></span>:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                Enrigistrée dans une instance de
                <code class="classname">Zend_Registry</code>.
            </p>
        </li>
<li class="listitem">
            <p>
                Grâce à une interface fluide.
            </p>
        </li>
<li class="listitem">
            <p>
                En instanciant directement la classe.
            </p>
        </li>
</ul></div>

    <p>
        L'enregistrement en registre de <code class="classname">Zend_Currency</code> est la manière recommandée.
        Grâce à cela vous pouvez selectionner la monnaie à utiliser puis ajouter son adaptateur au registre.
    </p>

    <p>
        Pour séléctionner la valeur de la monnaie à utiliser, passez une chaine ou
        encore une locale ce qui est recommandé car les informations provenant du client HTTP seront alors
        utilisées par défaut.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Nous parlons bien de "locales" et non de "langues" car la langue peut varier en fonction de
            la position géorgraphique au sein d'un même pays.Par exemple, l'anglais est parlé dans différents
            dialectes : Anglais ou Américain. Une monnaie est liée directement à une région, vous devrez
            donc utiliser une locale complète c'est à dire représentant le pays <span class="emphasis"><em>et</em></span>
            la région. Nous parlons donc de "locale" plutôt que de "langue."
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.currency.registered"></a><p class="title"><b>Exemple 955. Instance en registre</b></p>
<div class="example-contents">
        

        <p>
            Pour utiliser une instance en registre, créez une instance de
            <code class="classname">Zend_Currency</code> et enregistrez la dans
            <code class="classname">Zend_Registry</code> en utilisant la clé
            <code class="classname">Zend_Currency</code>.
        </p>

        <pre class="programlisting">
// notre monnaie d'exemple
$currency = new Zend_Currency('de_AT');
Zend_Registry::set('Zend_Currency', $currency);

// Dans votre vue
echo $this-&gt;currency(1234.56);
// Ceci affiche '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Si vous préférez utiliser l'interface fluide, vous pouvez alors créer une instance
        dans votre vue et la configurer après cela.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.afterwards"></a><p class="title"><b>Exemple 956. Instance dans la vue</b></p>
<div class="example-contents">
        

        <p>
            Pour utiliser l'interface fluide, créez une instance de <code class="classname">Zend_Currency</code>,
            appelez l'aide de vue sans paramètre et appelez ensuite la méthode <code class="methodname">setCurrency()</code>.
        </p>

        <pre class="programlisting">
// Dans votre vue
$currency = new Zend_Currency('de_AT');
$this-&gt;currency()-&gt;setCurrency($currency)-&gt;currency(1234.56);
// Ceci affiche '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Si vous utilisez l'aide sans <code class="classname">Zend_View</code> alors vous pouvez aussi
        l'utiliser de manière directe, via instanciation manuelle.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.directly.example-1"></a><p class="title"><b>Exemple 957. Utilisation directe via instanciation</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// Notre monnaie d'exemple
$currency = new Zend_Currency('de_AT');

// Initialisation de l'aide de vue
$helper = new Zend_View_Helper_Currency($currency);
echo $helper-&gt;currency(1234.56); // Ceci affiche '€ 1.234,56'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Comme déja vu, la méthode <code class="methodname">currency()</code> est utilisée pour retourner
        la chaine représentant la monnaie. Appelez la simplement avec la valeur que vous voulez
        voir affichée. Des options sont aussi disponibles, elles servent à changer le comportement
        interne de l'aide.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.currency.directly.example-2"></a><p class="title"><b>Exemple 958. Utilisation directe</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// Notre monnaie d'exemple
$currency = new Zend_Currency('de_AT');

// Initialisation de l'aide de vue
$helper = new Zend_View_Helper_Currency($currency);
echo $helper-&gt;currency(1234.56); // Ceci affiche '€ 1.234,56'
echo $helper-&gt;currency(1234.56, array('precision' =&gt; 1));
// Ceci affiche '€ 1.234,6'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Concernant les options disponibles, voyez la méthode
        <code class="methodname">toCurrency()</code> de  <code class="classname">Zend_Currency</code>.
    </p>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.cycle"></a>Aide Cycle</h4></div></div></div>

    

    <p>
      L'aide <code class="code">Cycle</code> est utilisée pour alterner des valeurs.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.cycle.basicusage"></a><p class="title"><b>Exemple 959. Aide Cycle : utilisation de base</b></p>
<div class="example-contents">

        

        <p>
            Pour ajouter des éléments dans le cycle, spécifiez le simplement dans le
            constructeur ou utilisez <code class="methodname">assign(array $data)</code>
        </p>

        <pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author']) ?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;

// Mouvement dans le sens inverse
$this-&gt;cycle()-&gt;assign(array("#F0F0F0","#FFFFFF"));
$this-&gt;cycle()-&gt;prev();
?&gt;
</pre>

        <p>
            La sortie:
        </p>

        <pre class="programlisting">
&lt;tr style="background-color:'#F0F0F0'"&gt;
   &lt;td&gt;First&lt;/td&gt;
&lt;/tr&gt;
&lt;tr style="background-color:'#FFFFFF'"&gt;
   &lt;td&gt;Second&lt;/td&gt;
&lt;/tr&gt;
</pre>

    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.cycle.advanceusage"></a><p class="title"><b>Exemple 960. Travailler avec 2 cycles ou plus</b></p>
<div class="example-contents">

        

       <p>
           Pour utiliser 2 cycles, il faut renseigner leurs noms. Ca se passe au niveau du second
           paramètre de la méthode cycle. <code class="code">$this-&gt;cycle(array("#F0F0F0","#FFFFFF"),'cycle2')</code>.
           setName($name) peut aussi être utilisée.
        </p>

    </div>
</div>
<br class="example-break">

    <pre class="programlisting">
&lt;?php foreach ($this-&gt;books as $book):?&gt;
  &lt;tr style="background-color:&lt;?php echo $this-&gt;cycle(array("#F0F0F0",
                                                            "#FFFFFF"))
                                              -&gt;next()?&gt;"&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;cycle(array(1,2,3),'number')-&gt;next()?&gt;&lt;/td&gt;
  &lt;td&gt;&lt;?php echo $this-&gt;escape($book['author'])?&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;?php endforeach;?&gt;
</pre>

</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.partial"></a>L'aide de vue Partial</h4></div></div></div>
    

    <p>
        L'aide de vue <code class="code">Partial</code> est utilisée pour effectuer le rendu d'un modèle
        ("template") spécifique dans sa propre portée de variable. L'utilisation principale est pour
        les fragments réutilisables de modèle avec lesquels vous n'avez pas besoin de vous inquiéter
        des conflits de noms de variable. De plus, ils vous permettent de spécifier les scripts de
        vue partiels dans des modules spécifiques.
    </p>

    <p>
        Une soeur de l'aide <code class="code">Partial</code>, l'aide de vue de <code class="code">PartialLoop</code>
        vous permet de passer des données itératives, et effectue un rendu partiel pour chaque
        élément.
    </p>

    <div class="note"><table border="0" summary="Note: Compteur de PartialLoop">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Compteur de PartialLoop</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            L'aide de vue <code class="code">PartialLoop</code> assigne une variable à la vue nommée
            <code class="code">partialCounter</code> qui fournit la position courante du tableau au script de
            vue. Ce qui permet simplement d'avoir des couleurs alternatives dans les lignes d'un
            tableau par exemple.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.partial.usage"></a><p class="title"><b>Exemple 961. Utilisation de base des Partials</b></p>
<div class="example-contents">
        

        <p>
            L'utilisation de base des <code class="code">Partials</code> est d'effectuer le rendu d'un
            fragment de modèle dans sa propre portée de vue. Examinez le script partiel suivant
            :
        </p>

        <pre class="programlisting">
&lt;!--partiel.phtml--&gt;
&lt;ul&gt;
    &lt;li&gt;De : &lt;?php echo $this-&gt;escape($this-&gt;de) ?&gt;&lt;/li&gt;
    &lt;li&gt;Sujet : &lt;?php echo $this-&gt;escape($this-&gt;sujet) ?&gt;&lt;/li&gt;
&lt;/ul&gt;
</pre>

        <p>
            Vous l'appelleriez alors dans votre script de vue en utilisant ce qui suit
            :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;partial('partiel.phtml', array(
    'de' =&gt; 'Equipe Framework',
    'sujet' =&gt; 'vues partielles')); ?&gt;
</pre>

        <p>Qui vous retournerait :</p>

        <pre class="programlisting">
&lt;ul&gt;
    &lt;li&gt;De : Equipe Framework&lt;/li&gt;
    &lt;li&gt;Sujet : vues partielles&lt;/li&gt;
&lt;/ul&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note: Qu'est qu'un modèle ?">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Qu'est qu'un modèle ?</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Un modèle utilisé avec l'aide de vue <code class="code">Partial</code> peut être un des
            suivants :
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Tableaux ("array")</em></span> : si un tableau est fourni, il
                    devrait être associatif, car ses paires de clé/valeur sont assignées à la vue
                    avec les clés comme variables de vue.
                </p>
            </li>
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Objet implémentant la méthode toArray()</em></span> : si un objet
                    est fourni et qu'il possède une méthode <code class="methodname">toArray()</code>, le résultat de
                    <code class="methodname">toArray()</code> sera assigné à la vue comme variable de vue.
                </p>
            </li>
<li class="listitem">
                <p>
                    <span class="emphasis"><em>Objet standard</em></span> : tout autre objet assignera le
                    résultat de <code class="methodname">object_get_vars()</code> (essentiellement toutes les
                    propriétés publiques de l'objet) à l'objet de vue.
                </p>
            </li>
</ul></div>

        <p>
            Si votre modèle est un objet, vous pouvez vouloir le fournir en tant qu'objet au
            script partiel, plutôt que de le sérialiser en un tableau de variables. Vous pouvez
            faire ceci en paramétrant la propriété "objectKey" de l'aide de vue approprié :
        </p>

        <pre class="programlisting">
// Tell partial to pass objects as 'model' variable
$view-&gt;partial()-&gt;setObjectKey('model');

// Tell partial to pass objects from partialLoop as 'model' variable in final
// partial view script:
$view-&gt;partialLoop()-&gt;setObjectKey('model');
</pre>

        <p>
            Cette technique est particulièrement utile quand vous fournissez un
            <code class="classname">Zend_Db_Table_Rowset</code>s à <code class="methodname">partialLoop()</code>, ainsi vous
            avez un accès complet à vos objets <code class="code">Row</code> à l'intérieur de vos scripts de vue,
            permettant d'appeler des méthodes sur ceux-ci (comme récupérer des valeurs d'un
            <code class="code">Row</code> parent ou dépendant).
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.partial.partialloop"></a><p class="title"><b>Exemple 962. Utiliser PartialLoop pour effectuer le rendu d'éléments itératifs</b></p>
<div class="example-contents">
        

        <p>
            Typiquement, vous voudrez employer des <code class="code">Partials</code> dans une boucle, pour
            rendre le même fragment de contenu plusieurs fois ; de cette façon vous pouvez mettre de
            grands blocs de contenu répété ou de logique complexe d'affichage dans un endroit
            unique. Toutefois ceci a un impact d'exécution, car l'aide Partial doit être appelée une
            fois par itération.
        </p>

        <p>
            L'aide de vue <code class="code">PartialLoop</code> résout ce problème. Elle vous permet de
            fournir un élément itérable (tableau ou objet implémentant <code class="code">Iterator</code>) comme
            modèle. Elle réitère alors au-dessus de celui-ci en fournissant les éléments au script
            partiel. Les éléments dans l'itérateur peuvent être n'importe quel modèle que l'aide de
            vue <code class="code">Partial</code> permet (cf. ci-dessus).
        </p>

        <p>Considérons le script partiel suivant :</p>

        <pre class="programlisting">
&lt;!--partialLoop.phtml--&gt;
    &lt;dt&gt;&lt;?php echo $this-&gt;key ?&gt;&lt;/dt&gt;
    &lt;dd&gt;&lt;?php echo $this-&gt;value ?&gt;&lt;/dd&gt;
</pre>

        <p>Et le "modèle" suivant :</p>

        <pre class="programlisting">
$model = array(
    array('key' =&gt; 'Mammifère', 'value' =&gt; 'Chameau'),
    array('key' =&gt; 'Oiseau',    'value' =&gt; 'Pingouin'),
    array('key' =&gt; 'Reptile',   'value' =&gt; 'Asp'),
    array('key' =&gt; 'Poisson',   'value' =&gt; 'Flounder')
);
</pre>

        <p>
            Dans votre script de vue, vous pouvez maintenant appeler l'aide
            <code class="code">PartialLoop</code> :
        </p>

        <pre class="programlisting">
&lt;dl&gt;
&lt;?php echo $this-&gt;partialLoop('partialLoop.phtml', $model) ?&gt;
&lt;/dl&gt;
</pre>

        <pre class="programlisting">
&lt;dl&gt;
    &lt;dt&gt;Mammifère&lt;/dt&gt;
    &lt;dd&gt;Chameau&lt;/dd&gt;

    &lt;dt&gt;Oiseau&lt;/dt&gt;
    &lt;dd&gt;Pingouin&lt;/dd&gt;

    &lt;dt&gt;Reptile&lt;/dt&gt;
    &lt;dd&gt;Asp&lt;/dd&gt;

    &lt;dt&gt;Poisson&lt;/dt&gt;
    &lt;dd&gt;Flounder&lt;/dd&gt;

&lt;/dl&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.partial.modules"></a><p class="title"><b>Exemple 963. Effectuer le rendu partiel dans des modules différents</b></p>
<div class="example-contents">
        

        <p>
            Parfois un partiel existera dans un module différent. Si vous connaissez le nom du
            module, vous pouvez le fournir comme deuxième argument à <code class="methodname">partial()</code> ou à
            <code class="methodname">partialLoop()</code>, en déplaçant l'argument <code class="varname">$model</code> à la troisième
            position.
        </p>

        <p>
            Par exemple, s'il y a un gestionnaire de page partiel que vous souhaitez utiliser
            et qui est dans le module "liste", vous pourriez le saisir comme suit :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;partial('pager.phtml', 'liste', $pagerData) ?&gt;
</pre>

        <p>
            De cette façon, vous pouvez réutiliser des partiels créés spécifiquement pour
            d'autre modules. Ceci dit, il est probablement une meilleure pratique de mettre des
            partiels réutilisables dans des dossiers partagés de script de vue.
        </p>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.placeholder"></a>L'aide de vue Placeholder</h4></div></div></div>
    

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            NDT. : Le terme "placeholder est conservé car sa signification varie en fonction
            du contexte : conteneur générique ou emplacement réservé.
        </p>
    </td></tr>
</table></div>

    <p>
        L'aide de vue <code class="code">Placeholder</code> est utilisé pour faire persister le contenu
        entre les scripts de vues et les instances de vues. Il offre aussi des fonctionnalités
        utiles comme l'agrégation de contenu, la capture de contenu de scripts de vues pour une
        utilisation ultérieure, et l'ajout de texte pré ou post contenu (et la personnalisation des
        séparateurs de contenu).
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.usage"></a><p class="title"><b>Exemple 964. Utilisation basique des Placeholders</b></p>
<div class="example-contents">
        

        <p>
            L'utilisation basique des placeholders est la persistance des données de vue.
            Chaque appel de l'aide <code class="code">Placeholder</code> attend un nom de placeholder ; l'aide
            retourne un objet conteneur que vous pouvez soit manipuler ou simplement envoyé à
            l'affichage.
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;set("Du texte pour plus tard") ?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // outputs "Du texte pour plus tard"
?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.aggregation"></a><p class="title"><b>Exemple 965. Utilisation des Placeholders pour agréger du contenu</b></p>
<div class="example-contents">
        

        <p>
            L'agrégation du contenu via les placeholders peut être aussi utile parfois. Par
            exemple, votre script de vue peut avoir une variable sous forme de tableau à partir de
            laquelle vous souhaitez récupérer des messages à afficher plus tard ; un autre script de
            vue peut ensuite déterminer de la manière suivant laquelle ils seront affichés.
        </p>

        <p>
            L'aide de vue <code class="code">Placeholder</code> utilise des conteneurs qui étendent
            <code class="code">ArrayObject</code>, fournissant de riches fonctionnalités de manipulations des
            tableaux. De plus, il offre une variété de méthodes pour le formatage du contenu stockée
            dans le conteneur :
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">setPrefix($prefix)</code> paramètre le texte qui sera placé
                    préalablement à tout le contenu. Utilisez <code class="methodname">getPrefix()</code> à tout moment
                    pour déterminer le réglage courant.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setPostfix($prefix)</code> paramètre le texte qui sera placé après
                    tout le contenu. Utilisez <code class="methodname">getPostfix()</code> à tout moment pour
                    déterminer le réglage courant.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setSeparator($prefix)</code> paramètre le texte qui sera placé entre
                    chaque élément de contenu. Utilisez <code class="methodname">getSeparator()</code> à tout moment
                    pour déterminer le réglage courant.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">setIndent($prefix)</code> peut être utilisé pour paramétrer une
                    indentation pour chaque élément du contenu. Si un entier est fourni, il s'agira
                    du nombre d'espaces à utiliser ; si une chaîne est fournie, elle sera utilisée.
                    Utilisez <code class="methodname">getIndent()</code> à tout moment pour déterminer le réglage
                    courant.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
&lt;!-- premier script de vue --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;exchangeArray($this-&gt;data) ?&gt;
</pre>

        <pre class="programlisting">
&lt;!-- autre script (plus tard) --&gt;
&lt;?php
$this-&gt;placeholder('foo')-&gt;setPrefix("&lt;ul&gt;\n    &lt;li&gt;")
                         -&gt;setSeparator("&lt;/li&gt;&lt;li&gt;\n")
                         -&gt;setIndent(4)
                         -&gt;setPostfix("&lt;/li&gt;&lt;/ul&gt;\n");
?&gt;

&lt;?php
    echo $this-&gt;placeholder('foo');
    // affiche une liste non-ordonnée avec une belle indentation
?&gt;
</pre>

        <p>
            Puisque l'objet conteneur <code class="code">Placeholder</code> étend <code class="code">ArrayObject</code>,
            vous pouvez ainsi facilement assigner du contenu à une clé du conteneur en particulier,
            plutôt que de simplement de les envoyer les unes après les autres ("push"). Les clés
            peuvent être accédées soit en utilisant les propriétés d'objet ou comme les clés d'un
            tableau.
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;placeholder('foo')-&gt;bar = $this-&gt;data ?&gt;
&lt;?php echo $this-&gt;placeholder('foo')-&gt;bar ?&gt;

&lt;?php
$foo = $this-&gt;placeholder('foo');
echo $foo['bar'];
?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.placeholder.capture"></a><p class="title"><b>Exemple 966. Utilisation des Placeholders pour capturer le contenu</b></p>
<div class="example-contents">
        

        <p>
            Occasionnellement vous pouvez avoir du contenu pour un placeholder dans un script
            de vue qui est simple à mettre sous forme de modèle ("template") ; l'aide de vue
            <code class="code">Placeholder</code> vous permet de capturer tout contenu arbitraire pour un rendu
            ultérieur en utilisant l'API suivante.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">captureStart($type, $key)</code> commence la capture de
                    contenu.
                </p>

                <p>
                    <code class="varname">$type</code> doit être une des constantes de
                    <code class="code">Placeholder</code> : <code class="constant">APPEND</code> ou <code class="constant">SET</code>. Si c'est
                    <code class="constant">APPEND</code>, le contenu capturé est ajouté à la liste de contenu courant
                    dans le placeholder ; si c'est <code class="constant">SET</code>, le contenu capturé remplace
                    toute valeur existante dans le placeholder (potentiellement permet de remplacer
                    tout contenu préalable). Par défaut, <code class="varname">$type</code> vaut
                    <code class="constant">APPEND</code>.
                </p>

                <p>
                    <code class="varname">$key</code> peut être utilisé pour spécifier une clé en particulier
                    dans le conteneur placeholder dans laquelle vous souhaitez capturer le
                    contenu.
                </p>

                <p>
                    <code class="methodname">captureStart()</code> verrouille la capture jusqu'à l'appel de
                    <code class="methodname">captureEnd()</code> ; vous ne pouvez pas imbriquer des captures avec le
                    même conteneur placeholder. Le faire entraînera la levée d'une exception.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">captureEnd()</code> stoppe la capture de contenu, et le place dans
                    l'objet conteneur suivant la manière utilisée pour appeler
                    <code class="methodname">captureStart()</code>.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
&lt;!-- Default capture: append --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart();
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo') ?&gt;
</pre>

        <pre class="programlisting">
&lt;!-- Capture to key --&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureStart('SET', 'data');
foreach ($this-&gt;data as $datum): ?&gt;
&lt;div class="foo"&gt;
    &lt;h2&gt;&lt;?php echo $datum-&gt;title ?&gt;&lt;/h2&gt;
    &lt;p&gt;&lt;?php echo $datum-&gt;content ?&gt;&lt;/p&gt;
&lt;/div&gt;
 &lt;?php endforeach; ?&gt;
&lt;?php $this-&gt;placeholder('foo')-&gt;captureEnd() ?&gt;

&lt;?php echo $this-&gt;placeholder('foo')-&gt;data ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.placeholder.implementations"></a>Implémentation concrète des Placeholder</h5></div></div></div>
        

        <p>
            Zend Framework embarque certaines implémentations concrètes de placeholders.
            Celles-ci sont destinées à des placeholders communément utilisés : doctype, titre de
            page, et les différents éléments &lt;head&gt;. Dans tous les cas, appeler le placeholder
            sans arguments retournera l'élément lui-même.
        </p>

        <p>
            La documentation pour chacun des éléments existe séparément, suivez les liens
            ci-dessous :
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p><a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="L'aide de vue Doctype">Doctype</a></p>
            </li>
<li class="listitem">
                <p><a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="L'aide de vue HeadLink">HeadLink</a></p>
            </li>
<li class="listitem">
                <p><a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headmeta" title="L'aide de vue HeadMeta">HeadMeta</a></p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="L'aide de vue HeadScript">HeadScript</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headstyle" title="L'aide de vue HeadStyle">HeadStyle</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headtitle" title="L'aide de vue HeadTitle">HeadTitle</a>
                </p>
            </li>
<li class="listitem">
                <p>
                    <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="L'aide de vue InlineScript">InlineScript</a>
                </p>
            </li>
</ul></div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.doctype"></a>L'aide de vue Doctype</h4></div></div></div>
    

    <p>
        Les documents HTML et <acronym class="acronym">XHTML</acronym> valides doivent inclure une déclaration
        <code class="constant">DOCTYPE</code>. Sans compter qu'ils sont difficiles à garder en mémoire, ceux-ci
        peuvent aussi affecter la façon dont certains éléments du document peuvent être rendus (par
        exemple, les échappements CDATA dans <code class="code">&lt;script&gt;</code> et les éléments
        <code class="code">&lt;style&gt;</code>.
    </p>

    <p>L'aide <code class="code">Doctype</code> vous permet de spécifier un des types suivants :</p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p><code class="constant">XHTML11</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">XHTML1_STRICT</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">XHTML1_TRANSITIONAL</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">XHTML1_FRAMESET</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">XHTML_BASIC1</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">HTML4_STRICT</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">HTML4_LOOSE</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">HTML4_FRAMESET</code></p>
        </li>
<li class="listitem">
            <p><code class="constant">HTML5</code></p>
        </li>
</ul></div>

    <p>
        Vous pouvez aussi spécifier un doctype personnalisé du moment que celui-ci soit
        correctement formé.
    </p>

    <p>
        L'aide <code class="code">Doctype</code> est une implémentation concrète de l'<a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">aide Conteneur</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.doctype.basicusage"></a><p class="title"><b>Exemple 967. Utilisation basique de l'aide Doctype</b></p>
<div class="example-contents">
        

        <p>
            Vous pouvez spécifier le doctype à n'importe quel moment. Cependant, les aides de
            vues qui utilisent pour leur affichage ne le reconnaissent qu'une fois qu'il a été
            paramètré, donc la manière la plus simple est de le spécifier dans votre fichier
            d'amorçage :
        </p>

        <pre class="programlisting">
$doctypeHelper = new Zend_View_Helper_Doctype();
$doctypeHelper-&gt;doctype('XHTML1_STRICT');
</pre>

        <p>Ensuite vous l'affichez en début de votre layout :</p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;doctype() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.doctype.retrieving"></a><p class="title"><b>Exemple 968. Récupérer le Doctype</b></p>
<div class="example-contents">
        

        <p>
            Si vous avez besoin du doctype, vous pouvez le récupérer par l'appel de
            <code class="methodname">getDoctype()</code> sur l'objet.
        </p>

        <pre class="programlisting">
$doctype = $view-&gt;doctype()-&gt;getDoctype();
</pre>

        <p>
            Typiquement, vous pouvez simplement vouloir savoir si le doctype est <acronym class="acronym">XHTML</acronym> ou
            non ; pour ceci, la méthode <code class="methodname">isXhtml()</code> vous suffira :
        </p>

        <pre class="programlisting">
if ($view-&gt;doctype()-&gt;isXhtml()) {
    // faire qqch de différent
}
</pre>

        <p>
            Vous pouvez aussi vérifier si le doctype représente un document
            <acronym class="acronym">HTML5</acronym> :
        </p>

        <pre class="programlisting">
if ($view-&gt;doctype()-&gt;isHtml5()) {
    // faire qqch de différent
}
</pre>

    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.gravatar"></a>Gravatar View Helper</h4></div></div></div>
    

    <p>
        The <code class="classname">Gravatar</code> view helper is used to received avatars from Gravatar's
        service.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.gravatar.usage"></a><p class="title"><b>Exemple 969. Basic Usage of Gravatar View Helper</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// From a view script (using XHTML DOCTYPE):
echo $this-&gt;gravatar('example@example.com');

/* results in the following output:
    &lt;img src="http://www.gravatar.com/avatar/23463b99b62a72f26ed677cc556c44e8?s=80&amp;d=mm&amp;r=g" /&gt;
 */
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Of course we can configure this helper. We can change height of image (by default it is
            80px), and add <acronym class="acronym">CSS</acronym> class or other attributes to image tag. The above
            simply shows the most basic usage.
        </p>
    </td></tr>
</table></div>

    <div class="warning"><table border="0" summary="Warning: Use a valid email address!">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Avertissement]" src="images/warning.png"></td>
<th align="left">Use a valid email address!</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            The email address you provide the helper should be valid. This class does not validate
            the address (only the rating parameter). It is recommended to validate your email
            address within your model layer.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.gravatar.advanced"></a><p class="title"><b>Exemple 970. Advanced Usage of Gravatar View Helper</b></p>
<div class="example-contents">
        

        <p>
            There are several ways to configure the returned gravatar. In most cases, you may either
            pass an array of options as a second argument to the helper, or call methods on the
            returned object in order to configure it.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The <code class="varname">img_size</code> option can be used to specify an alternate
                    height; alternately, call <code class="methodname">setImgSize()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    The <code class="varname">secure</code> option can be used to force usage of SSL in
                    the returned image URI by passing a boolean <code class="constant">true</code> value (or
                    disabling SSL usage by passing <code class="constant">false</code>). Alternately, call
                    the <code class="methodname">setSecure()</code> method. (By default, the setting
                    follows the same security as the current page request.)
                </p>
            </li>
<li class="listitem">
                <p>
                    To add attributes to the image, pass an array of key/value pairs as the
                    <span class="emphasis"><em>third</em></span> argument to the helper, or call the
                    <code class="methodname">setAttribs()</code> method.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
// Within the view script (using HTML DOCTYPE)
echo $this-&gt;gravatar('example@example.com',
    array('imgSize' =&gt; 90, 'defaultImg' =&gt; 'monsterid', 'secure' =&gt; true),
    array('class' =&gt; 'avatar', 'title' =&gt; 'Title for this image')
);
    
// Or use mutator methods
$this-&gt;gravatar()
     -&gt;setEmail('example@example.com')
     -&gt;setImgSize(90)
     -&gt;setDefaultImg(Zend_View_Helper_Gravatar::DEFAULT_MONSTERID)
     -&gt;setSecure(true)
     -&gt;setAttribs(array('class' =&gt; 'avatar', 'title' =&gt; 'Title for this image'));

/* Both generate the following output:
&lt;img class="avatar" title="Title for this image"
    src="https://secure.gravatar.com/avatar/23463b99b62a72f26ed677cc556c44e8?s=90&amp;d=monsterid&amp;r=g" &gt;
 */
</pre>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helper.gravatar.options"></a>Options</h5></div></div></div>
        

        <div class="variablelist">
<p class="title"><b>Zend_Service_Gravatar Options</b></p>
<dl class="variablelist">
<dt><span class="term">img_size</span></dt>
<dd>
                    <p>
                        An integer describing the height of the avatar, in pixels; defaults to "80".
                    </p>
                </dd>
<dt><span class="term">default_img</span></dt>
<dd>
                    <p>
                        Image to return if the gravatar service is unable to match the email address
                        provided. Defaults to "mm", the "mystery man" image.
                    </p>
                </dd>
<dt><span class="term">rating</span></dt>
<dd>
                    <p>
                        Audience rating to confine returned images to. Defaults to "g"; may be one
                        of "g", "pg", "r", or "x", in order of least offensive to most offensive.
                    </p>
                </dd>
<dt><span class="term">secure</span></dt>
<dd>
                    <p>
                        Whether or not to load the image via an SSL connection. Defaults to the what
                        is detected from the current request.
                    </p>
                </dd>
</dl>
</div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headlink"></a>L'aide de vue HeadLink</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;link&gt;</code> est de plus en plus employé pour lier
        différents types de ressources à votre site : feuilles de styles, syndication, icônes,
        trackbacks et d'autres. L'aide <code class="code">HeadLink</code> fournit une interface simple pour créer
        et agréger ces éléments pour la récupération postérieure et le rendement dans votre script
        d'affichage.
    </p>

    <p>
        L'aide <code class="code">HeadLink</code> possède des méthodes pour ajouter des liens de feuilles
        de style dans sa pile :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="code">appendStylesheet($href, $media, $conditionalStylesheet,
                $extras)</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">offsetSetStylesheet($index, $href, $media, $conditionalStylesheet,
                $extras)</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">prependStylesheet($href, $media, $conditionalStylesheet,
                $extras)</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">setStylesheet($href, $media, $conditionalStylesheet,
                $extras)</code>
            </p>
        </li>
</ul></div>

    <p>
        La valeur par défaut de <code class="varname">$media</code> vaut <code class="code">screen</code>, mais peut être
        n'importe quelle valeur de média valide. <code class="varname">$conditionalStylesheet</code> est une chaîne
        ou le booléen <code class="constant">FALSE</code>, et sera utilisé au moment du rendu pour déterminer si des
        commentaires spéciaux doivent être inclus pour empêcher le chargement de la feuille de style
        sur certaines plate-formes. <code class="varname">$extras</code> est un tableau de valeurs supplémentaires
        que vous voulez ajouter à la balise.
    </p>

    <p>
        De plus, l'aide <code class="code">HeadLink</code> possède des méthodes pour ajouter des liens
        alternatifs dans sa pile :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p><code class="methodname">appendAlternate($href, $type, $title, $extras)</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">offsetSetAlternate($index, $href, $type, $title, $extras)</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">prependAlternate($href, $type, $title, $extras)</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">setAlternate($href, $type, $title, $extras)</code></p>
        </li>
</ul></div>

    <p>
        La méthode <code class="methodname">headLink()</code> de l'aide permet de spécifier tous les attributs
        nécessaires à un élément <code class="code">&lt;link&gt;</code>, et vous permet aussi de préciser
        l'emplacement - le nouvel élément peut remplacer tous les autres, s'ajouter au début ou à la
        fin de la liste.
    </p>

    <p>
        L'aide <code class="code">HeadLink</code> est une implémentation concrète de l'aide <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">Placeholder</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headlink.basicusage"></a><p class="title"><b>Exemple 971. Utilisation basique de l'aide HeadLink</b></p>
<div class="example-contents">
        

        <p>
            Vous pouvez spécifier un <code class="code">headLink</code> à n'importe quel moment.
            Typiquement, vous pouvez spécifier des liens globaux dans votre script de disposition,
            et des liens spécifiques à l'application dans vos scripts de vue. Dans votre script de
            disposition, dans la section <code class="code">&lt;head&gt;</code>, vous pourrez ensuite afficher le
            résultat de l'aide.
        </p>

        <pre class="programlisting">
&lt;?php // régler les liens dans votre script de vue :
$this-&gt;headLink()-&gt;appendStylesheet('/styles/basic.css')
                 -&gt;headLink(array('rel' =&gt; 'icon',
                                  'href' =&gt; '/img/favicon.ico'),
                            'PREPEND')
                 -&gt;prependStylesheet('/styles/moz.css',
                                     'screen',
                                     true,
                                     array('id' =&gt; 'my_stylesheet'));
?&gt;

&lt;!-- effectuer le rendu --&gt;
&lt;?php echo $this-&gt;headLink() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headmeta"></a>L'aide de vue HeadMeta</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;meta&gt;</code> est utilisé pour fournir des métadonnées
        concernant votre document HTML - typiquement, les mots-clés, l'encodage du document, les
        directives de mise en cache, etc. Les balises de métadonnées peuvent être soit de type
        "http-equiv" ou "name", doivent contenir un attribut "content" et peuvent avoir aussi un
        attribut modificateur "lang" ou "scheme".
    </p>

    <p>
        L'aide de vue <code class="code">HeadMeta</code> supporte les méthodes suivantes pour le
        paramétrage et l'ajout de métadonnées :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p><code class="methodname">appendName($keyValue, $content, $conditionalName)</code></p>
        </li>
<li class="listitem">
            <p>
                <code class="code">offsetSetName($index, $keyValue, $content,
                $conditionalName)</code>
            </p>
        </li>
<li class="listitem">
            <p><code class="methodname">prependName($keyValue, $content, $conditionalName)</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">setName($keyValue, $content, $modifiers)</code></p>
        </li>
<li class="listitem">
            <p>
                <code class="code">appendHttpEquiv($keyValue, $content,
                $conditionalHttpEquiv)</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">offsetSetHttpEquiv($index, $keyValue, $content,
                $conditionalHttpEquiv)</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">prependHttpEquiv($keyValue, $content,
                $conditionalHttpEquiv)</code>
            </p>
        </li>
<li class="listitem">
            <p><code class="methodname">setHttpEquiv($keyValue, $content, $modifiers)</code></p>
        </li>
</ul></div>

     <p>
        Les méthodes suivantes sont aussi supportées avec le doctype XHTML1_RDFA si celui-ci a été
        spécifié avec <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="L'aide de vue Doctype">l'aide de vue
        Doctype</a> :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <span class="command"><strong>appendProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>offsetSetProperty($index, $property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>prependProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
<li class="listitem">
            <p>
                <span class="command"><strong>setProperty($property, $content, $modifiers)</strong></span>
            </p>
        </li>
</ul></div>

    <p>
        Le paramètre <code class="varname">$keyValue</code> est utilisé pour définir une valeur pour la clé
        "name" ou "http-equiv" ; <code class="varname">$content</code> est la valeur pour la clé "content", et
        <code class="varname">$modifiers</code> est un tableau associatif optionel qui peut contenir les clés "lang"
        et/ou "scheme".
    </p>

    <p>
        Vous pouvez aussi spécifier les métadonnées en utilisant la méthode
        <code class="methodname">headMeta()</code> qui a la signature suivante : <code class="code">headMeta($content, $keyValue,
        $keyType = 'name', $modifiers = array(), $placement = 'APPEND')</code>.
        <code class="varname">$keyValue</code> est le contenu de la clé spécifiée dans <code class="varname">$keyType</code>, qui
        peut être "name" ou "http-equiv". <code class="varname">$keyType</code> peut aussi être spécifié en tant que
        'property' si le doctype a été réglé à XHTML1_RDFA. <code class="varname">$placement</code> peut être soit "SET" (efface
        toutes les valeurs sauvegardées précédentes), soit "APPEND" (ajout en fin de pile), soit
        "PREPEND" (ajout en début de pile).
    </p>

    <p>
        <code class="code">HeadMeta</code> surcharge chacune des méthodes <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, et <code class="methodname">set()</code>, pour imposer
        l'utilisation des méthodes spéciales énumérées ci-dessus. En interne, il stocke chaque
        élément sous la forme d'un <code class="code">stdClass</code>, qui peut ensuite être sérialiser grâce à
        la méthode <code class="methodname">itemToString()</code>. Ceci vous permet de réaliser des contrôles sur les
        éléments de la pile, et optionnellement de modifier ces éléments simplement en modifiant
        l'objet retourné.
    </p>

    <p>
        L'aide de vue <code class="code">HeadMeta</code> est une implémentation concrète de l'aide <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">Placeholder</a>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headmeta.basicusage"></a><p class="title"><b>Exemple 972. Utilisation basique de l'aide HeadMeta</b></p>
<div class="example-contents">
        

        <p>
            Vous pouvez spécifier une nouvelle métadonnée à n'importe quel moment.
            Typiquement, vous pouvez spécifier les règles de mise en cache côté client ou les mots
            clés SEO (Search Engine Optimization : pour l'optimisation des moteurs de
            recherche).
        </p>

        <p>
            Par exemple, si vous souhaitez spécifier des mots clés SEO, vous devez créer une
            métadonnée de type "name" ayant pour nom "keywords" et pour contenu les mots clés que
            vous souhaitez associer à votre page :
        </p>

        <pre class="programlisting">
// paramètrage des mots clés
$this-&gt;headMeta()-&gt;appendName('keywords', 'framework, PHP, productivité');
</pre>

        <p>
            Si vous souhaitez paramètrer des règles de mise en cache côté client, vous devez
            créer une métadonnée de type "http-equiv" avec les règles que vous souhaitez imposer
            :
        </p>

        <pre class="programlisting">
// désactiver la mise en cache côté client
$this-&gt;headMeta()-&gt;appendHttpEquiv('expires',
                                   'Wed, 26 Feb 1997 08:21:57 GMT')
                 -&gt;appendHttpEquiv('pragma', 'no-cache')
                 -&gt;appendHttpEquiv('Cache-Control', 'no-cache');
</pre>

        <p>
            Une autre utilisation habituelle des métadonnées est le réglage du type de contenu
            ("content type"), de l'encodage, et le langage :
        </p>

        <pre class="programlisting">
// régler le type de contenu et l'encodage
$this-&gt;headMeta()-&gt;appendHttpEquiv('Content-Type', 'text/html; charset=UTF-8')
                 -&gt;appendHttpEquiv('Content-Language', 'fr-FR');
</pre>

         <p>
            Si vous proposez un document <acronym class="acronym">HTML5</acronym>, vous pouvez fournir l'encodage
            de cette manière :
        </p>

        <pre class="programlisting">
// régler l'encodage en HTML5
$this-&gt;headMeta()-&gt;setCharset('UTF-8');
// donnera &lt;meta charset="UTF-8"&gt;
</pre>

        <p>
            Et comme exemple final, une manière simple d'afficher un message de transition
            avant une redirection est d'utiliser une métadonnée "refresh" :
        </p>

        <pre class="programlisting">
// paramètrer une métadonnée refresh pour 3 secondes
// avant une nouvel URL :
$this-&gt;headMeta()-&gt;appendHttpEquiv('Refresh',
                                   '3;URL=http://www.some.org/some.html');
</pre>

        <p>
            Quand vous êtes prêts à placer vos métadonnées dans votre script de disposition,
            réalisez un "<code class="code">echo</code>" de l'aide :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headMeta() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headmeta.property"></a><p class="title"><b>Exemple 973. Utilisation de HeadMeta avec le doctype XHTML1_RDFA</b></p>
<div class="example-contents">
        

        <p>
            Activer le doctype RDFa avec <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.doctype" title="L'aide de vue Doctype">l'aide de vue Doctype</a> active
            l'utilisation de l'attribut 'property' (en plus des habituels 'name' et 'http-equiv')
            avec HeadMeta. Ceci est commun par exemple avec le
            <a class="ulink" href="http://opengraphprotocol.org/" target="_top">protocole Open Graph</a> de Facebook.
        </p>

        <p>
            Par exemple, vous pouvez spécifier un titre et un type de page Open Graph comme ceci :
        </p>

        <pre class="programlisting">
$this-&gt;doctype(Zend_View_Helper_Doctype::XHTML1_RDFA);
$this-&gt;headMeta()-&gt;setProperty('og:title', 'my article title');
$this-&gt;headMeta()-&gt;setProperty('og:type', 'article');
echo $this-&gt;headMeta();

// l'affichage est :
//   &lt;meta property="og:title" content="my article title" /&gt;
//   &lt;meta property="og:type" content="article" /&gt;
</pre>

    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headscript"></a>L'aide de vue HeadScript</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;script&gt;</code> est utilisé pour à la fois pour fournir des
        éléments de scripts côté-client dans le code HTML et aussi pour lier une ressource distante
        contenant du script côté-client. L'aide de vue <code class="code">HeadScript</code> vous permet de gérer
        ces deux cas.
    </p>

    <p>
        L'aide de vue <code class="code">HeadScript</code> supportent les méthodes suivantes pour
        paramétrer ou ajouter des scripts :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="code">appendFile($src, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">offsetSetFile($index, $src, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">prependFile($src, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p><code class="methodname">setFile($src, $type = 'text/javascript', $attrs = array())</code></p>
        </li>
<li class="listitem">
            <p>
                <code class="code">appendScript($script, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">offsetSetScript($index, $script, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">prependScript($script, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">setScript($script, $type = 'text/javascript', $attrs =
                array())</code>
            </p>
        </li>
</ul></div>

    <p>
        Dans le cas des méthodes de type <code class="code">*File()</code>, <code class="varname">$src</code> est
        l'emplacement distant du script à charger ; c'est généralement sous la forme d'une <acronym class="acronym">URL</acronym> ou
        d'un chemin de fichier. Pour les méthode de type <code class="code">*Script()</code>,
        <code class="varname">$script</code> sont les directives de script côté-client que vous souhaitez utiliser
        dans l'élément.
    </p>

    <div class="note"><table border="0" summary="Note: Paramétrez des commentaires conditionnels">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Paramétrez des commentaires conditionnels</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="code">HeadScript</code> vous permet d'englober vos balises de script avec des
            commentaires conditionnels, ce qui permet de les masquer pour des navigateurs
            spécifiques. Pour ajouter les balises conditionnelles, fournissez le paramètre
            <code class="code">conditional</code> en tant que partie du paramètre <code class="varname">$attrs</code> lors de
            l'appel de la méthode.
        </p>

        <div class="example">
<a name="zend.view.helpers.initial.headscript.conditional"></a><p class="title"><b>Exemple 974. Headscript avec des commentaires conditionnels</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
// adding scripts
$this-&gt;headScript()-&gt;appendFile('/js/prototype.js',
                                'text/javascript',
                                array('conditional' =&gt; 'lt IE 7');
</pre>
        </div>
</div>
<br class="example-break">
    </td></tr>
</table></div>

    <p>
        <code class="code">HeadScript</code> vous permet aussi de capturer des scripts ; ceci peut être
        utile si vous voulez créer du script côté-client par programmation, et ensuite le placer
        n'importe où. Une utilisation de ceci est montré dans un exemple ci-dessous.
    </p>

    <p>
        Enfin, vous pouvez aussi utiliser la méthode <code class="methodname">headScript()</code> pour rapidement
        ajouter des éléments de script ; le prototype dans ce cas est <code class="code">headScript($mode =
        'FILE', $spec, $placement = 'APPEND')</code>. Le <code class="varname">$mode</code> est soit "FILE", soit
        "SCRIPT", suivant si vous liez un script ou que vous en définissiez un. <code class="varname">$spec</code>
        est soit le script à lier ou la source du script elle-même. <code class="varname">$placement</code> est
        "APPEND", "PREPEND", ou "SET".
    </p>

    <p>
        <code class="code">HeadScript</code> surcharge chacun des <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, et <code class="methodname">set()</code> pour imposer
        l'utilisation des méthodes spéciales énumérées ci-dessus. En interne, il stocke chaque
        élément sous la forme d'un <code class="code">stdClass</code>, qui peut être ensuite sérialisé grâce à la
        méthode <code class="methodname">itemToString()</code>. Ceci vous permet de réaliser des vérifications sur les
        éléments dans la pile, et optionnellement de les modifier en modifiant simplement l'objet
        retourné.
    </p>

    <p>
        L'aide <code class="code">HeadScript</code> est une implémentation concrète de l'<a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">aide Conteneur</a>.
    </p>

    <div class="note"><table border="0" summary='Note: Utilisez InlineScript pour les scripts dans le corps ("body") du HTML'>
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Utilisez InlineScript pour les scripts dans le corps ("body") du HTML</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            L'aide de vue, <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.inlinescript" title="L'aide de vue InlineScript">InlineScript</a>, similaire à
            <code class="code">HeadScript</code> devrait être utilisée quand vous souhaitez inclure des scripts
            dans le corps ("<code class="classname">body</code>") du HTML. Placer ces scripts en fin du
            document est une bonne pratique pour accélérer l'envoi de votre page, particulièrement
            pour les scripts tiers d'analyse.
        </p>
    </td></tr>
</table></div>

    <div class="note"><table border="0" summary="Note: Les attributs arbitraires sont désactivées par défaut">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Les attributs arbitraires sont désactivées par défaut</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Par défaut, <code class="code">HeadScript</code> affichera seulement les attributs de
            <code class="code">&lt;script&gt;</code> approuvés par le W3C. Ceux-ci inclus "<code class="code">type</code>",
            "<code class="code">charset</code>", "<code class="code">defer</code>", "<code class="code">language</code>", et
            "<code class="code">src</code>". Cependant, certaines bibliothèques javascript, notamment <a class="ulink" href="http://www.dojotoolkit.org/" target="_top">Dojo</a>, utilise des attributs personnalisés dans
            le but de modifier le comportement. Pour autoriser ce type d'attribut, vous pouvez les
            activer grâce à la méthode <code class="methodname">setAllowArbitraryAttributes()</code> :
        </p>

        <pre class="programlisting">
$this-&gt;headScript()-&gt;setAllowArbitraryAttributes(true);
</pre>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.headscript.basicusage"></a><p class="title"><b>Exemple 975. Utilisation basique de l'aide HeadScript</b></p>
<div class="example-contents">
        

        <p>
            Vous devriez ajouter une nouvelle balise de script à chaque fois. Comme noté
            ci-dessus, ceux-ci peuvent être des liens vers des ressources externes ou vers les
            scripts eux-mêmes.
        </p>

        <pre class="programlisting">
// ajout de scripts
$this-&gt;headScript()-&gt;appendFile('/js/prototype.js')
                   -&gt;appendScript($onloadScript);
</pre>

        <p>
            L'ordre est souvent important avec les scripts côté-client ; vous devez vous
            assurer de charger les librairies dans un ordre spécifique en fonction de leurs
            dépendances ; utilisez à la fois les directives <code class="code">append</code>,
            <code class="code">prepend</code>, et <code class="code">offsetSet</code> pour vous aider dans cette tâche
            :
        </p>

        <pre class="programlisting">
// mettre les scripts dans l'ordre

// placer celui-ci à un offset particulier pour s'assurer
// de le charger en dernier
$this-&gt;headScript()-&gt;offsetSetFile(100, '/js/myfuncs.js');

// utiliser les effets de scriptaculous (append utilise
// l'index suivant, c-à-d. 101)
$this-&gt;headScript()-&gt;appendFile('/js/scriptaculous.js');

// mais dans tous les cas, le script de base prototype
// doit être chargé en premier :
$this-&gt;headScript()-&gt;prependFile('/js/prototype.js');
</pre>

        <p>
            Quand vous êtes finalement prêt à afficher tous les scripts dans votre layout,
            faîtes simplement un <code class="code">echo</code> de l'aide :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headScript() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headscript.capture"></a><p class="title"><b>Exemple 976. Capturer les scripts en utilisant l'aide HeadScript</b></p>
<div class="example-contents">
        

        <p>
            Parfois vous devez générer des scripts côté-client par programme. Même si vous
            pouvez employer la concaténation de chaînes, les "heredocs", ou tout autre équivalent,
            il est souvent plus facile de faire juste la création des scripts et de les entourer par
            des balises <acronym class="acronym">PHP</acronym>. <code class="code">HeadScript</code> vous permet de le faire, et capture ainsi
            l'élément dans la pile :
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;headScript()-&gt;captureStart() ?&gt;
var action = '&lt;?php echo $this-&gt;baseUrl ?&gt;';
$('foo_form').action = action;
&lt;?php $this-&gt;headScript()-&gt;captureEnd() ?&gt;
</pre>

        <p>Les suppositions suivantes sont considérées :</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    Les déclarations de scripts sont ajoutées à la pile. Si vous souhaitez
                    qu'elles remplacent la pile ou qu'elles soient ajoutées en début de pile, vous
                    devez fournir "SET" ou "PREPEND", en tant que premier argument de
                    <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    Le type <acronym class="acronym">MIME</acronym> est considéré comme étant "text/javascript" ; si vous
                    souhaitez spécifier un type différent, vous devez le fournir en tant que
                    deuxième argument de <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    Si vous souhaitez spécifier un quelconque attribut additionnel pour la
                    balise <code class="code">&lt;script&gt;</code>, fournissez-le sous la forme d'un tableau en
                    troisième argument de <code class="methodname">captureStart()</code>.
                </p>
            </li>
</ul></div>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headstyle"></a>L'aide de vue HeadStyle</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;style&gt;</code> est utilisé pour inclure des feuilles de
        styles <acronym class="acronym">CSS</acronym> à l'intérieur de l'élément HTML <code class="code">&lt;head&gt;</code>.
    </p>

    <div class="note"><table border="0" summary="Note: Utilisez HeadLink pour lier des fichiers CSS externes">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Utilisez HeadLink pour lier des fichiers CSS externes</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headlink" title="L'aide de vue HeadLink">HeadLink</a> devrait être
            utilisé pour inclure des feuilles de styles externes. <code class="code">HeadStyle</code> ne devrait
            être utilisé que si vous souhaitez définir des feuilles de styles internes.
        </p>
    </td></tr>
</table></div>

    <p>
        L'aide de vue <code class="code">HeadStyle</code> supporte les méthodes suivantes pour l'ajout et
        le paramétrage des déclarations de feuilles de styles :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p><code class="methodname">appendStyle($content, $attributes = array())</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">offsetSetStyle($index, $content, $attributes = array())</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">prependStyle($content, $attributes = array())</code></p>
        </li>
<li class="listitem">
            <p><code class="methodname">setStyle($content, $attributes = array())</code></p>
        </li>
</ul></div>

    <p>
        Dans tous les cas, <code class="varname">$content</code> est le contenu des déclarations <acronym class="acronym">CSS</acronym>.
        <code class="varname">$attributes</code> sont les attributs additionnels que vous pouvez fournir à la balise
        <code class="code">style</code> : "lang", "title", "media", ou "dir" sont autorisés.
    </p>

    <div class="note"><table border="0" summary="Note: Paramétrez des commentaires conditionnels">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Paramétrez des commentaires conditionnels</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="code">HeadStyle</code> vous permet d'englober vos balises de style avec des
            commentaires conditionnels, ce qui permet de les masquer pour des navigateurs
            spécifiques. Pour ajouter les balises conditionnelles, fournissez le paramètre
            <code class="code">conditional</code> en tant que partie du paramètre <code class="varname">$attrs</code> lors de
            l'appel de la méthode.
        </p>

        <div class="example">
<a name="zend.view.helpers.initial.headstyle.conditional"></a><p class="title"><b>Exemple 977. HeadStyle avec des commentaires conditionnels</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
// adding scripts
$this-&gt;headStyle()-&gt;appendStyle($styles, array('conditional' =&gt; 'lt IE 7'));
</pre>
        </div>
</div>
<br class="example-break">
    </td></tr>
</table></div>

    <p>
        <code class="code">HeadStyle</code> permet aussi la capture des déclarations de style ; ceci peut
        être utile si vous voulez créer des déclarations par programme, et ensuite les placer à un
        autre endroit. L'utilisation de cette fonctionnalité est montrée dans un exemple
        ci-dessous.
    </p>

    <p>
        Enfin, vous pouvez utiliser la méthode <code class="methodname">headStyle()</code> pour ajouter
        rapidement des éléments de déclarations ; la signature de la méthode est
        <code class="methodname">headStyle($content$placement = 'APPEND', $attributes = array())</code>.
        <code class="varname">$placement</code> peut être "APPEND", "PREPEND", ou "SET".
    </p>

    <p>
        <code class="code">HeadStyle</code> surcharge chacune des méthodes <code class="methodname">append()</code>,
        <code class="methodname">offsetSet()</code>, <code class="methodname">prepend()</code>, et <code class="methodname">set()</code> pour imposer
        l'utilisation des méthodes spéciales listées ci-dessus. En interne, il stocke chaque élément
        sous la forme d'un <code class="code">stdClass</code>, qui est ensuite sérialisé en utilisant la méthode
        <code class="methodname">itemToString()</code>. Ceci vous permet de réaliser des vérifications sur les éléments
        de la pile, et optionnellement modifier ces éléments en modifiant simplement l'objet
        retourné.
    </p>

    <p>
        L'aide <code class="code">HeadStyle</code> est une implémentation concrète de l'aide <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">Placeholder</a>.
    </p>

    <div class="note"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding, and,
            specific to this case, <code class="classname">Zend_View</code> does as well. Character encoding
            can be set differently on the view object itself using the
            <code class="methodname">setEncoding()</code> method (or the the <code class="varname">encoding</code>
            instantiation parameter). However, since <code class="classname">Zend_View_Interface</code> does
            not define accessors for encoding, it's possible that if you are using a custom view
            implementation with this view helper, you will not have a
            <code class="methodname">getEncoding()</code> method, which is what the view helper uses
            internally for determining the character set in which to encode.
        </p>

        <p>
            If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
            need to implement a <code class="methodname">getEncoding()</code> method in your custom view
            implementation.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.headstyle.basicusage"></a><p class="title"><b>Exemple 978. Utilisation basique de l'aide HeadStyle</b></p>
<div class="example-contents">
        

        <p>
            Vous pouvez spécifier une nouvelle balise de style à n'importe quel moment
            :
        </p>

        <pre class="programlisting">
// ajout de styles
$this-&gt;headStyle()-&gt;appendStyle($styles);
</pre>

        <p>
            L'ordre est très important avec les <acronym class="acronym">CSS</acronym> ; vous pouvez devoir assurer que les
            déclarations soient chargées dans un ordre spécifique dû à l'ordre de la cascade ;
            employez les diverses directives "append", "prepend", et "offsetSet" pour faciliter
            cette tâche :
        </p>

        <pre class="programlisting">
// Mettre les styles dans le bon ordre

// - placer à un offset particulier
$this-&gt;headStyle()-&gt;offsetSetStyle(100, $stylesPerso);

// - placer à la fin
$this-&gt;headStyle()-&gt;appendStyle($stylesFinaux);

// - placer au début
$this-&gt;headStyle()-&gt;prependStyle($stylesInitiaux);
</pre>

        <p>
            Quand vous êtes finalement prêt à afficher toutes les déclarations de styles dans
            votre script de layout, faîtes un simple <code class="code">echo</code> de l'aide :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;headStyle() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.headstyle.capture"></a><p class="title"><b>Exemple 979. Capturer les déclarations de style en utilisant l'aide HeadStyle</b></p>
<div class="example-contents">
        

        <p>
            Parfois vous devez produire des déclarations de styles <acronym class="acronym">CSS</acronym> par programme. Même si
            vous pouvez employer la concaténation de chaînes, les "heredocs", ou tout autre
            équivalent, il est souvent plus facile de faire juste la création des styles et de les
            entourer par des balises <acronym class="acronym">PHP</acronym>. <code class="code">HeadStyle</code> vous permet de le faire, et capture
            ainsi l'élément dans la pile :
        </p>

        <pre class="programlisting">
&lt;?php $this-&gt;headStyle()-&gt;captureStart() ?&gt;
body {
    background-color: &lt;?php echo $this-&gt;bgColor ?&gt;;
}
&lt;?php $this-&gt;headStyle()-&gt;captureEnd() ?&gt;
</pre>

        <p>Les suppositions suivantes sont considérées :</p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    Les déclarations de styles sont ajoutées à la pile. Si vous souhaitez
                    qu'elles remplacent la pile ou qu'elles soient ajoutées en début de pile, vous
                    devez fournir "SET" ou "PREPEND", en tant que premier argument de
                    <code class="methodname">captureStart()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    Si vous souhaitez spécifier un quelconque attribut additionnel pour la
                    balise <code class="code">&lt;style&gt;</code>, fournissez-le sous la forme d'un tableau en
                    deuxième argument de <code class="methodname">captureStart()</code>.
                </p>
            </li>
</ul></div>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.headtitle"></a>L'aide de vue HeadTitle</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;title&gt;</code> est utilisé pour fournir un titre à un
        document HTML. L'aide <code class="code">HeadTitle</code> vous permet par programme de créer et de
        stocker le titre afin de le récupérer plus tard et de l'afficher.
    </p>

    <p>
        L'aide <code class="code">HeadTitle</code> est une implémentation concrète de l'aide <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.placeholder" title="L'aide de vue Placeholder">Placeholder</a>. Elle surcharge la
        méthode <code class="methodname">toString()</code> pour forcer la génération d'un élément
        <code class="code">&lt;title&gt;</code>, et ajoute une méthode <code class="methodname">headTitle()</code> pour des réglages
        faciles et rapides et pour l'aggrégation des éléments du titre. La signature de la méthode
        est <code class="methodname">headTitle($title, $setType = null)</code> ; par défaut, la valeur est ajoutée
        en fin de pile (pour aggréger les segments du titre) si laissé à null, mais vous pouvez aussi spécifier
        "<code class="constant">PREPEND</code>" (pour l'ajouter en début de pile) ou "<code class="constant">SET</code>" (pour
        remplacer la pile existante).
    </p>

    <p>
        Since setting the aggregating (attach) order on each call to <code class="methodname">
        headTitle</code> can be cumbersome, you can set a default attach order
        by calling <code class="methodname">setDefaultAttachOrder()</code> which is applied
        to all <code class="methodname">headTitle()</code> calls unless you explicitly
        pass a different attach order as the second parameter.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.headtitle.basicusage"></a><p class="title"><b>Exemple 980. Utilisation basique de l'aide HeadTitle</b></p>
<div class="example-contents">
        

        <p>
            Vous pouvez spécifier la balise de titre à n'importe quel moment. Un usage typique
            serait de paramètrer les différents segments du titre à chaque niveau de profondeur de
            votre application : site, module, contrôleur, action et ressources potentielles.
        </p>

        <pre class="programlisting">
// Paramétrage des noms de contrôleurs et d'action
// en tant que segment de titre :
$request = Zend_Controller_Front::getInstance()-&gt;getRequest();
$this-&gt;headTitle($request-&gt;getActionName())
     -&gt;headTitle($request-&gt;getControllerName());

// Réglage du nom de site, par exemple dans votre script
// de disposition :
$this-&gt;headTitle('Zend Framework');

// Réglage de la haîne de séparation des segments :
$this-&gt;headTitle()-&gt;setSeparator(' / ');
</pre>

        <p>
            Quand vous êtes finalement prêt à afficher le titre dans votre script de
            disposition, faîtes simplement un <code class="code">echo</code> de l'aide :
        </p>

        <pre class="programlisting">
&lt;!-- Affiche &lt;action&gt; / &lt;controller&gt; / Zend Framework --&gt;
&lt;?php echo $this-&gt;headTitle() ?&gt;
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.object"></a>L'aide de vue HTML Object</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;object&gt;</code> est utilisé pour inclure un média comme
        Flash ou QuickTime dans les pages Web. L'aide de vue <code class="code">Object</code> vous aide à
        réaliser ceci avec un minimum d'effort.
    </p>

    <p>Il existe quatre aides de vue <code class="code">Object</code> initiaux :</p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="code">htmlFlash</code> : génère le balisage pour l'inclusion de fichiers
                Flash.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">htmlObject</code> : génère le balisage pour l'inclusion d'objets
                personnalisés.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">htmlPage</code> : génère le balisage pour l'inclusion d'autres pages
                (X)HTML.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="code">htmlQuicktime</code> : génère le balisage pour l'inclusion de fichiers
                QuickTime.
            </p>
        </li>
</ul></div>

    <p>
        Toutes ces aides partagent une interface similaire. Pour cette raison, cette
        documentation ne présentera des exemples que pour deux de ces aides.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.object.flash"></a><p class="title"><b>Exemple 981. Aide de vue Flash</b></p>
<div class="example-contents">
        

        <p>
            Inclure du Flash dans votre page est assez simple. Le seul argument requis est
            l'URI de la ressource.
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;htmlFlash('/path/to/flash.swf'); ?&gt;
</pre>

        <p>Ceci affichera le code HTML suivant :</p>

        <pre class="programlisting">
&lt;object data="/path/to/flash.swf" type="application/x-shockwave-flash"
    classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
    codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab"&gt;
&lt;/object&gt;
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Cependant vous pouvez aussi spécifier des attributs, des paramètres et du contenu qui
        peuvent être affichés avec la balise <code class="code">&lt;object&gt;</code>. Ceci peut être montré avec
        l'aide de vue <code class="code">htmlObject</code>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.object.object"></a><p class="title"><b>Exemple 982. Personnalisation d'un objet en fournissant des arguments additionnels</b></p>
<div class="example-contents">
        

        <p>
            Le premier argument de l'aide <code class="code">Object</code> est toujours requis. Il s'agit
            de l'URI de la ressource à inclure. Le second argument est seulement requis par l'aide
            <code class="code">htmlObject</code>. Les autres aides contiennent déjà la bonne valeur pour cet
            argument. Le troisième argument est utilisé pour fournir des attributs à l'élément
            <code class="code">object</code>. Seul un tableau de paires clé/valeur est accepté.
            <code class="code">classid</code> ou <code class="code">codebase</code> sont des exemples de tels attributs. Le
            quatrième paramètre ne prend aussi qu'un tableau de paires clé/valeur est les utilise
            pour créer des éléments <code class="code">&lt;param&gt;</code>. Enfin, vous avez la possibilité de
            fournir un contenu additionnel à l'objet en cinquième paramètre. Voici donc un exemple
            qui utilise tous le paramètres :
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;htmlObject(
    '/path/to/file.ext',
    'mime/type',
    array(
        'attr1' =&gt; 'aval1',
        'attr2' =&gt; 'aval2'
    ),
    array(
        'param1' =&gt; 'pval1',
        'param2' =&gt; 'pval2'
    ),
    'some content'
); ?&gt;
</pre>

        <p>Ceci affichera le code HTML suivant :</p>

        <p>
            </p>
<pre class="programlisting">
&lt;object data="/path/to/file.ext" type="mime/type"
        attr1="aval1" attr2="aval2"&gt;
    &lt;param name="param1" value="pval1" /&gt;
    &lt;param name="param2" value="pval2" /&gt;
    some content
&lt;/object&gt;
</pre>
        </div>
</div>
<br class="example-break">
    </div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.inlinescript"></a>L'aide de vue InlineScript</h4></div></div></div>
    

    <p>
        L'élément HTML <code class="code">&lt;script&gt;</code> est utilisé pour fournir des éléments de
        script côté client ou pour lier des ressources distantes contenant des scripts s'exécutant
        côté client. L'aide de vue <code class="code">InlineScript</code> vous permet de gérer ces deux cas. Elle
        est dérivée de l'aide <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="L'aide de vue HeadScript">HeadScript</a>, et chaque méthode de cette
        aide est donc disponible ; cependant, vous devez utiliser la méthode
        <code class="methodname">inlineScript()</code> au lieu de <code class="methodname">headScript()</code>.
    </p>

    <div class="note"><table border="0" summary='Note: Utiliser InlineScript pour des scripts dans le corps ("body") HTML'>
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Utiliser InlineScript pour des scripts dans le corps ("body") HTML</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            <code class="code">InlineScript</code>, peut être utilisé quand vous souhaitez inclure des
            scripts dans votre <code class="code">body</code> HTML. Placer ces scripts en fin de votre document
            est une bonne pratique pour améliorer la vitesse de distribution de votre page,
            particulièrement quand vous utilisez des scripts d'analyses fournis par des
            tiers.
        </p>

        <p>
            Certaines librairies JS doivent être incluses dans la partie <code class="code">head</code> du
            HTML ; utilisez l'aide vue <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.headscript" title="L'aide de vue HeadScript">HeadScript</a> pour ces
            scripts.
        </p>
    </td></tr>
</table></div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.json"></a>L'aide de vue JSON</h4></div></div></div>
    

    <p>
        Quand vous créez des vues qui retournent du <acronym class="acronym">JSON</acronym>, il est important de paramétrer aussi
        les en-têtes de réponse appropriés. L'aide vue <acronym class="acronym">JSON</acronym> réalise exactement cela. De plus, par
        défaut, elle désactive l'éventuel layout (s'il est activé), puisque les layouts sont
        rarement utilisés dans les réponses <acronym class="acronym">JSON</acronym>.
    </p>

    <p>L'aide de vue <acronym class="acronym">JSON</acronym> ajoute l'en-tête suivant :</p>

    <pre class="programlisting">
Content-Type: application/json
</pre>

    <p>
        Beaucoup de librairies <acronym class="acronym">AJAX</acronym> recherche cet en-tête quand elles analysent les réponses
        pour déterminer comment le contenu doit être géré.
    </p>

    <p>L'utilisation de l'aide de vue <acronym class="acronym">JSON</acronym> est très simple :</p>

    <pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data) ?&gt;
</pre>

    <div class="note"><table border="0" summary="Note: Keeping layouts and enabling encoding using Zend_Json_Expr">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Keeping layouts and enabling encoding using Zend_Json_Expr</th>
</tr>
<tr><td align="left" valign="top">
        

        <p>
            Each method in the <acronym class="acronym">JSON</acronym> helper accepts a second, optional argument.
            This second argument can be a boolean flag to enable or disable
            layouts, or an array of options that will be passed to
            <code class="methodname">Zend_Json::encode()</code> and used internally to encode data.
        </p>

        <p>
            To keep layouts, the second parameter needs to be boolean
            <code class="constant">TRUE</code>. When the second parameter is an array, keeping
            layouts can be achieved by including a <code class="code">keepLayouts</code> key
            with a value of a boolean <code class="constant">TRUE</code>.
        </p>

        <pre class="programlisting">
// Boolean true as second argument enables layouts:
echo $this-&gt;json($this-&gt;data, true);

// Or boolean true as "keepLayouts" key:
echo $this-&gt;json($this-&gt;data, array('keepLayouts' =&gt; true));
</pre>

        <p>
            <code class="classname">Zend_Json::encode</code> allows the encoding of native <acronym class="acronym">JSON</acronym>
            expressions using <code class="classname">Zend_Json_Expr</code> objects. This option
            is disabled by default. To enable this option, pass a boolean
            <code class="constant">TRUE</code> to the <code class="code">enableJsonExprFinder</code> key of
            the options array:
        </p>

        <pre class="programlisting">
&lt;?php echo $this-&gt;json($this-&gt;data, array(
    'enableJsonExprFinder' =&gt; true,
    'keepLayouts'          =&gt; true,
)) ?&gt;
</pre>
    </td></tr>
</table></div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.navigation"></a>Navigation Helpers</h4></div></div></div>
    

    <p>
        The navigation helpers are used for rendering navigational elements
        from <a class="link" href="zend.navigation.containers.html" title="Containers">Zend_Navigation_Container</a>
        instances.
    </p>

    <p>
        There are 5 built-in helpers:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.breadcrumbs" title="Breadcrumbs Helper">Breadcrumbs</a>,
                used for rendering the path to the currently active page.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links" title="Links Helper">Links</a>,
                used for rendering navigational head links (e.g.
                <span class="command"><strong>&lt;link rel="next" href="..." /&gt;</strong></span>)
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.menu" title="Menu Helper">Menu</a>,
                used for rendering menus.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.sitemap" title="Sitemap Helper">Sitemap</a>,
                used for rendering sitemaps conforming to the <a class="ulink" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                    format</a>.
            </p>
        </li>
<li class="listitem">
            <p>
                <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">Navigation</a>,
                used for proxying calls to other navigational helpers.
            </p>
        </li>
</ul></div>

    <p>
        All built-in helpers extend
        <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>, which
        adds integration with <a class="link" href="zend.acl.html" title="Zend_Acl">ACL</a> and
        <a class="link" href="zend.translate.html" title="Zend_Translate">translation</a>. The abstract class
        implements the interface
        <code class="classname">Zend_View_Helper_Navigation_Helper</code>, which
        defines the following methods:
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="methodname">getContainer()</code> and <code class="methodname">setContainer()</code>
                gets and sets the navigation container the helper should operate on by default, and
                <code class="methodname">hasContainer()</code> checks if the helper
                has container registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getTranslator()</code> and
                <code class="methodname">setTranslator()</code> gets and sets the
                translator used for translating labels and titles.
                <code class="methodname">getUseTranslator()</code> and
                <code class="methodname">setUseTranslator()</code> controls whether
                the translator should be enabled. The method
                <code class="methodname">hasTranslator()</code> checks if the helper has
                a translator registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getAcl()</code>, <code class="methodname">setAcl()</code>,
                <code class="methodname">getRole()</code> and <code class="methodname">setRole()</code>,
                gets and sets <acronym class="acronym">ACL</acronym> (<code class="classname">Zend_Acl</code>) instance and
                role (<span class="type">String</span> or
                <code class="classname">Zend_Acl_Role_Interface</code>) used for
                filtering out pages when rendering. <code class="methodname">getUseAcl()</code> and
                <code class="methodname">setUseAcl()</code> controls whether <acronym class="acronym">ACL</acronym> should
                be enabled. The methods <code class="methodname">hasAcl()</code> and
                <code class="methodname">hasRole()</code> checks if the helper has an
                <acronym class="acronym">ACL</acronym> instance or a role registered.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">__toString()</code>, magic method to ensure that
                helpers can be rendered by echoing the helper instance directly.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">render()</code>, must be implemented by concrete
                helpers to do the actual rendering.
            </p>
        </li>
</ul></div>

    <p>
         In addition to the method stubs from the interface, the abstract
         class also implements the following methods:
    </p>

     <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>
                <code class="methodname">getIndent()</code> and <code class="methodname">setIndent()</code>
                gets and sets indentation. The setter accepts a <span class="type">String</span> or an
                <span class="type">Integer</span>. In the case of an <span class="type">Integer</span>, the helper will use
                the given number of spaces for indentation. I.e.,
                <code class="methodname">setIndent(4)</code> means 4 initial spaces of
                indentation. Indentation can be specified for all helpers
                except the Sitemap helper.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getMinDepth()</code> and <code class="methodname">setMinDepth()</code>
                gets and sets the minimum depth a page must have to be included by the helper.
                Setting <code class="constant">NULL</code> means no minimum depth.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getMaxDepth()</code> and <code class="methodname">setMaxDepth()</code>
                gets and sets the maximum depth a page can have to be included by the helper.
                Setting <code class="constant">NULL</code> means no maximum depth.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">getRenderInvisible()</code> and
                <code class="methodname">setRenderInvisible()</code> gets and sets whether to
                render items that have been marked as invisible or not.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">__call()</code> is used for proxying calls to the
                container registered in the helper, which means you can
                call methods on a helper as if it was a container. See <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.proxy.example" title="Exemple 983. Proxying calls to the navigation container">example</a>
                below.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">findActive($container, $minDepth, $maxDepth)</code>
                is used for finding the deepest active page in the given
                container. If depths are not given, the method will use
                the values retrieved from <code class="methodname">getMinDepth()</code> and
                <code class="methodname">getMaxDepth()</code>. The deepest active page must
                be between <code class="varname">$minDepth</code> and <code class="varname">$maxDepth</code>
                inclusively. Returns an array containing a reference to the
                found page instance and the depth at which the page was
                found.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">htmlify()</code> renders an <span class="emphasis"><em>'a'</em></span>
                <acronym class="acronym">HTML</acronym> element from a <code class="classname">Zend_Navigation_Page</code>
                instance.
            </p>
        </li>
<li class="listitem">
            <p>
                <code class="methodname">accept()</code> is used for determining if a page
                should be accepted when iterating containers. This method
                checks for page visibility and verifies that the helper's
                role is allowed access to the page's resource and privilege.
            </p>
        </li>
<li class="listitem">
            <p>
                The static method <code class="methodname">setDefaultAcl()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> object that will be used by helpers.
            </p>
        </li>
<li class="listitem">
            <p>
                The static method <code class="methodname">setDefaultRole()</code> is used for setting
                a default <acronym class="acronym">ACL</acronym> that will be used by helpers
            </p>
        </li>
</ul></div>

    <p>
        If a navigation container is not explicitly set in a helper using
        <span class="command"><strong>$helper-&gt;setContainer($nav)</strong></span>, the helper will look
        for a container instance with the key <code class="classname">Zend_Navigation</code> in
        <a class="link" href="zend.registry.html" title="Zend_Registry">the registry</a>.
        If a container is not explicitly set or found in the registry, the
        helper will create an empty <code class="classname">Zend_Navigation</code>
        container when calling <span class="command"><strong>$helper-&gt;getContainer()</strong></span>.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.navigation.proxy.example"></a><p class="title"><b>Exemple 983. Proxying calls to the navigation container</b></p>
<div class="example-contents">
        

        <p>
            Navigation view helpers use the magic method <code class="methodname">__call()</code>
            to proxy method calls to the navigation container that is
            registered in the view helper.
        </p>

        <pre class="programlisting">
$this-&gt;navigation()-&gt;addPage(array(
    'type' =&gt; 'uri',
    'label' =&gt; 'New page'));
</pre>

        <p>
            The call above will add a page to the container in the
            <code class="classname">Navigation</code> helper.
        </p>
    </div>
</div>
<br class="example-break">

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.i18n"></a>Translation of labels and titles</h5></div></div></div>
        

        <p>
            The navigation helpers support translation of page labels and titles.
            You can set a translator of type <code class="classname">Zend_Translate</code>
            or <code class="classname">Zend_Translate_Adapter</code> in the helper using
            <span class="command"><strong>$helper-&gt;setTranslator($translator)</strong></span>, or like with other
            I18n-enabled components; by adding the translator to
            <a class="link" href="zend.registry.html" title="Zend_Registry">the registry</a> by using the key
            <code class="classname">Zend_Translate</code>.
        </p>

        <p>
            If you want to disable translation, use
            <span class="command"><strong>$helper-&gt;setUseTranslator(false)</strong></span>.
        </p>

        <p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">proxy
            helper</a> will inject its own translator to the helper it
            proxies to if the proxied helper doesn't already have a translator.
        </p>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                There is no translation in the sitemap helper, since there
                are no page labels or titles involved in an <acronym class="acronym">XML</acronym> sitemap.
            </p>
        </td></tr>
</table></div>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.acl"></a>Integration with ACL</h5></div></div></div>
        

        <p>
            All navigational view helpers support <acronym class="acronym">ACL</acronym> inherently from the
            class <code class="classname">Zend_View_Helper_Navigation_HelperAbstract</code>.
            A <code class="classname">Zend_Acl</code> object can be assigned to
            a helper instance with <code class="code">$helper-&gt;setAcl($acl)</code>, and role
            with <code class="code">$helper-&gt;setRole('member')</code> or
            <code class="code">$helper-&gt;setRole(new Zend_Acl_Role('member'))</code> . If <acronym class="acronym">ACL</acronym>
            is used in the helper, the role in the helper must be allowed by
            the <acronym class="acronym">ACL</acronym> to access a page's <code class="code">resource</code> and/or have the
            page's <code class="code">privilege</code> for the page to be included when
            rendering.
        </p>

        <p>
            If a page is not accepted by <acronym class="acronym">ACL</acronym>, any descendant page will also
            be excluded from rendering.
        </p>

        <p>
            The
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.navigation" title="Navigation Helper">proxy
            helper</a> will inject its own <acronym class="acronym">ACL</acronym> and role to the helper it
            proxies to if the proxied helper doesn't already have any.
        </p>

        <p>
            The examples below all show how <acronym class="acronym">ACL</acronym> affects rendering.
        </p>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.setup"></a>Navigation setup used in examples</h5></div></div></div>
        

        <p>
            This example shows the setup of a navigation container for a
            fictional software company.
        </p>

        <p>
            Notes on the setup:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    The domain for the site is <code class="code">www.example.com</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    Interesting page properties are marked with a comment.
                </p>
            </li>
<li class="listitem">
                <p>
                    Unless otherwise is stated in other examples, the user
                    is requesting the <acronym class="acronym">URL</acronym>
                    <code class="code">http://www.example.com/products/server/faq/</code>,
                    which translates to the page labeled <code class="constant">FAQ</code>
                    under <code class="code">Foo Server</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    The assumed <acronym class="acronym">ACL</acronym> and router setup is shown below the
                    container setup.
                </p>
            </li>
</ul></div>

        <pre class="programlisting">
/*
 * Navigation container (config/array)

 * Each element in the array will be passed to
 * Zend_Navigation_Page::factory() when constructing
 * the navigation container below.
 */
$pages = array(
    array(
        'label'      =&gt; 'Home',
        'title'      =&gt; 'Go Home',
        'module'     =&gt; 'default',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'order'      =&gt; -100 // make sure home is the first page
    ),
    array(
        'label'      =&gt; 'Special offer this week only!',
        'module'     =&gt; 'store',
        'controller' =&gt; 'offer',
        'action'     =&gt; 'amazing',
        'visible'    =&gt; false // not visible
    ),
    array(
        'label'      =&gt; 'Products',
        'module'     =&gt; 'products',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Foo Server',
                'module'     =&gt; 'products',
                'controller' =&gt; 'server',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'FAQ',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'faq',
                        'rel'        =&gt; array(
                            'canonical' =&gt; 'http://www.example.com/?page=faq',
                            'alternate' =&gt; array(
                                'module'     =&gt; 'products',
                                'controller' =&gt; 'server',
                                'action'     =&gt; 'faq',
                                'params'     =&gt; array('format' =&gt; 'xml')
                            )
                        )
                    ),
                    array(
                        'label'      =&gt; 'Editions',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'editions'
                    ),
                    array(
                        'label'      =&gt; 'System Requirements',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'server',
                        'action'     =&gt; 'requirements'
                    )
                )
            ),
            array(
                'label'      =&gt; 'Foo Studio',
                'module'     =&gt; 'products',
                'controller' =&gt; 'studio',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Customer Stories',
                        'module'     =&gt; 'products',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'customers'
                    ),
                    array(
                        'label'      =&gt; 'Support',
                        'module'     =&gt; 'prodcts',
                        'controller' =&gt; 'studio',
                        'action'     =&gt; 'support'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Company',
        'title'      =&gt; 'About us',
        'module'     =&gt; 'company',
        'controller' =&gt; 'about',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Investor Relations',
                'module'     =&gt; 'company',
                'controller' =&gt; 'about',
                'action'     =&gt; 'investors'
            ),
            array(
                'label'      =&gt; 'News',
                'class'      =&gt; 'rss', // class
                'module'     =&gt; 'company',
                'controller' =&gt; 'news',
                'action'     =&gt; 'index',
                'pages'      =&gt; array(
                    array(
                        'label'      =&gt; 'Press Releases',
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'press'
                    ),
                    array(
                        'label'      =&gt; 'Archive',
                        'route'      =&gt; 'archive', // route
                        'module'     =&gt; 'company',
                        'controller' =&gt; 'news',
                        'action'     =&gt; 'archive'
                    )
                )
            )
        )
    ),
    array(
        'label'      =&gt; 'Community',
        'module'     =&gt; 'community',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'My Account',
                'module'     =&gt; 'community',
                'controller' =&gt; 'account',
                'action'     =&gt; 'index',
                'resource'   =&gt; 'mvc:community.account' // resource
            ),
            array(
                'label' =&gt; 'Forums',
                'uri'   =&gt; 'http://forums.example.com/',
                'class' =&gt; 'external' // class
            )
        )
    ),
    array(
        'label'      =&gt; 'Administration',
        'module'     =&gt; 'admin',
        'controller' =&gt; 'index',
        'action'     =&gt; 'index',
        'resource'   =&gt; 'mvc:admin', // resource
        'pages'      =&gt; array(
            array(
                'label'      =&gt; 'Write new article',
                'module'     =&gt; 'admin',
                'controller' =&gt; 'post',
                'aciton'     =&gt; 'write'
            )
        )
    )
);

// Create container from array
$container = new Zend_Navigation($pages);

// Store the container in the proxy helper:
$view-&gt;getHelper('navigation')-&gt;setContainer($container);

// ...or simply:
$view-&gt;navigation($container);

// ...or store it in the reigstry:
Zend_Registry::set('Zend_Navigation', $container);
</pre>

        <p>
            In addition to the container above, the following setup is assumed:
        </p>

        <pre class="programlisting">
// Setup router (default routes and 'archive' route):
$front = Zend_Controller_Front::getInstance();
$router = $front-&gt;getRouter();
$router-&gt;addDefaultRoutes();
$router-&gt;addRoute(
    'archive',
    new Zend_Controller_Router_Route(
        '/archive/:year',
        array(
            'module'     =&gt; 'company',
            'controller' =&gt; 'news',
            'action'     =&gt; 'archive',
            'year'       =&gt; (int) date('Y') - 1
        ),
        array('year' =&gt; '\d+')
    )
);

// Setup ACL:
$acl = new Zend_Acl();
$acl-&gt;addRole(new Zend_Acl_Role('member'));
$acl-&gt;addRole(new Zend_Acl_Role('admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:admin'));
$acl-&gt;add(new Zend_Acl_Resource('mvc:community.account'));
$acl-&gt;allow('member', 'mvc:community.account');
$acl-&gt;allow('admin', null);

// Store ACL and role in the proxy helper:
$view-&gt;navigation()-&gt;setAcl($acl)-&gt;setRole('member');

// ...or set default ACL and role statically:
Zend_View_Helper_Navigation_HelperAbstract::setDefaultAcl($acl);
Zend_View_Helper_Navigation_HelperAbstract::setDefaultRole('member');
</pre>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.breadcrumbs"></a>Breadcrumbs Helper</h5></div></div></div>
        

        <p>
            Breadcrumbs are used for indicating where in a sitemap
            a user is currently browsing, and are typically rendered
            like this: "You are here: Home &gt; Products &gt; FantasticProduct 1.0".
            The breadcrumbs helper follows the guidelines from <a class="ulink" href="http://developer.yahoo.com/ypatterns/pattern.php?pattern=breadcrumbs" target="_top">Breadcrumbs
                Pattern - Yahoo! Design Pattern Library</a>,
            and allows simple customization (minimum/maximum depth, indentation,
            separator, and whether the last element should be linked), or
            rendering using a partial view script.
        </p>

        <p>
            The Breadcrumbs helper works like this; it finds the deepest active
            page in a navigation container, and renders an upwards path to
            the root. For <acronym class="acronym">MVC</acronym> pages, the "activeness" of a page is
            determined by inspecting the request object, as stated in the
            section on <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.mvc" title="Zend_Navigation_Page_Mvc">Zend_Navigation_Page_Mvc</a>.
        </p>

        <p>
            The helper sets the <code class="code">minDepth</code> property to 1 by default,
            meaning breadcrumbs will not be rendered if the deepest active page
            is a root page. If <code class="code">maxDepth</code> is specified, the helper
            will stop rendering when at the specified depth (e.g. stop at level
            2 even if the deepest active page is on level 3).
        </p>

        <p>
            Methods in the breadcrumbs helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
               <p>
                   <code class="code">{get|set}Separator()</code> gets/sets separator
                   string that is used between breadcrumbs. Defualt is
                   <code class="code">' &amp;gt; '</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}LinkLast()</code> gets/sets whether the
                   last breadcrumb should be rendered as an anchor or not.
                   Default is <code class="constant">FALSE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}Partial()</code> gets/sets a partial view
                   script that should be used for rendering breadcrumbs.
                   If a partial view script is set, the helper's
                   <code class="methodname">render()</code> method will use the
                   <code class="methodname">renderPartial()</code> method. If no partial is
                   set, the <code class="methodname">renderStraight()</code> method is used.
                   The helper expects the partial to be a <span class="type">String</span>
                   or an <span class="type">Array</span> with two elements. If the partial
                   is a <span class="type">String</span>, it denotes the name of the partial
                   script to use. If it is an <span class="type">Array</span>, the first
                   element will be used as the name of the partial view
                   script, and the second element is the module where the
                   script is found.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">renderStraight()</code> is the default render
                   method.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">renderPartial()</code> is used for rendering
                   using a partial view script.
               </p>
           </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example1"></a><p class="title"><b>Exemple 984. Rendering breadcrumbs</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render breadcrumbs with default
                settings.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs(); ?&gt;

The two calls above take advantage of the magic __toString() method,
and are equivalent to:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;render(); ?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; &amp;gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &amp;gt; FAQ
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example2"></a><p class="title"><b>Exemple 985. Specifying indentation</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render breadcrumbs with initial
                indentation.
            </p>

            <pre class="programlisting">
Rendering with 8 spaces indentation:
&lt;?php echo $this-&gt;navigation()-&gt;breadcrumbs()-&gt;setIndent(8);?&gt;

Output:
        &lt;a href="/products"&gt;Products&lt;/a&gt; &amp;gt; &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt; &amp;gt; FAQ
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example3"></a><p class="title"><b>Exemple 986. Customize breadcrumbs output</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to customze breadcrumbs output by
                specifying various options.
            </p>

            <pre class="programlisting">
In a view script or layout:

&lt;?php
echo $this-&gt;navigation()
          -&gt;breadcrumbs()
          -&gt;setLinkLast(true)                   // link last page
          -&gt;setMaxDepth(1)                      // stop at level 1
          -&gt;setSeparator(' &amp;#9654;' . PHP_EOL); // cool separator with newline
?&gt;

Output:
&lt;a href="/products"&gt;Products&lt;/a&gt; &amp;#9654;
&lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;

/////////////////////////////////////////////////////

Setting minimum depth required to render breadcrumbs:

&lt;?php
$this-&gt;navigation()-&gt;breadcrumbs()-&gt;setMinDepth(10);
echo $this-&gt;navigation()-&gt;breadcrumbs();
?&gt;

Output:
Nothing, because the deepest active page is not at level 10 or deeper.
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.breadcrumbs.example4"></a><p class="title"><b>Exemple 987. Rendering breadcrumbs using a partial view script</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render customized breadcrumbs using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will find the deepest active page and pass an array
                of pages that leads to the active page to the partial view
                script.
            </p>

            <p>
                In a layout:
            </p>

            <pre class="programlisting">
$partial = ;
echo $this-&gt;navigation()-&gt;breadcrumbs()
                        -&gt;setPartial(array('breadcrumbs.phtml', 'default'));
</pre>

            <p>
                Contents of
                <code class="code">application/modules/default/views/breadcrumbs.phtml</code>:
            </p>

            <pre class="programlisting">
echo implode(', ', array_map(
        function ($a) { return $a-&gt;getLabel(); },
        $this-&gt;pages));
</pre>

            <p>
                Output:
            </p>

            <pre class="programlisting">
Products, Foo Server, FAQ
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.links"></a>Links Helper</h5></div></div></div>
        

        <p>
            The links helper is used for rendering <acronym class="acronym">HTML</acronym> <code class="constant">LINK</code>
            elements. Links are used for describing document relationships
            of the currently active page. Read more about links and link
            types at <a class="ulink" href="http://www.w3.org/TR/html4/struct/links.html#h-12.3" target="_top">Document
                relationships: the LINK element (HTML4 W3C Rec.)</a>
            and <a class="ulink" href="http://www.w3.org/TR/html4/types.html#h-6.12" target="_top">Link types (HTML4 W3C
                Rec.)</a> in the <acronym class="acronym">HTML</acronym>4 W3C Recommendation.
        </p>

        <p>
            There are two types of relations; forward and reverse, indicated
            by the keyords <code class="code">'rel'</code> and <code class="code">'rev'</code>. Most
            methods in the helper will take a <code class="varname">$rel</code> param, which
            must be either <code class="code">'rel'</code> or <code class="code">'rev'</code>. Most
            methods also take a <code class="varname">$type</code> param, which is used
            for specifying the link type (e.g. alternate, start, next, prev,
            chapter, etc).
        </p>

        <p>
            Relationships can be added to page objects manually, or found
            by traversing the container registered in the helper. The method
            <code class="methodname">findRelation($page, $rel, $type)</code> will first try
            to find the given <code class="varname">$rel</code> of <code class="varname">$type</code> from
            the <code class="varname">$page</code> by calling <code class="code">$page-&gt;findRel($type)</code>
            or <code class="code">$page-&gt;findRel($type)</code>. If the <code class="varname">$page</code>
            has a relation that can be converted to a page instance, that
            relation will be used. If the <code class="varname">$page</code> instance doesn't
            have the specified <code class="varname">$type</code>, the helper will look for
            a method in the helper named <code class="code">search$rel$type</code> (e.g.
            <code class="methodname">searchRelNext()</code> or
            <code class="methodname">searchRevAlternate()</code>).
            If such a method exists, it will be used for determining the
            <code class="varname">$page</code>'s relation by traversing the container.
        </p>

        <p>
            Not all relations can be determined by traversing the container.
            These are the relations that will be found by searching:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="methodname">searchRelStart()</code>, forward 'start'
                    relation: the first page in the container.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelNext()</code>, forward 'next'
                    relation; finds the next page in the container, i.e.
                    the page after the active page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelPrev()</code>, forward 'prev'
                    relation; finds the previous page, i.e. the page before
                    the active page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelChapter()</code>, forward 'chapter'
                    relations; finds all pages on level 0 except the 'start'
                    relation or the active page if it's on level 0.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelSection()</code>, forward 'section'
                    relations; finds all child pages of the active page if
                    the active page is on level 0 (a 'chapter').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRelSubsection()</code>, forward 'subsection'
                    relations; finds all child pages of the active page if
                    the active pages is on level 1 (a 'section').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRevSection()</code>, reverse 'section'
                    relation; finds the parent of the active page if the
                    active page is on level 1 (a 'section').
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">searchRevSubsection()</code>, reverse 'subsection'
                    relation; finds the parent of the active page if the
                    active page is on level 2 (a 'subsection').
                </p>
            </li>
</ul></div>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                When looking for relations in the page instance
                (<code class="code">$page-&gt;getRel($type)</code> or
                <code class="code">$page-&gt;getRev($type)</code>), the helper accepts the
                values of type <span class="type">String</span>, <span class="type">Array</span>,
                <code class="classname">Zend_Config</code>, or
                <code class="classname">Zend_Navigation_Page</code>. If a string
                is found, it will be converted to a
                <code class="classname">Zend_Navigation_Page_Uri</code>. If an array
                or a config is found, it will be converted to one or several
                page instances. If the first key of the array/config is numeric,
                it will be considered to contain several pages, and each
                element will be passed to the
                <a class="link" href="zend.navigation.pages.html#zend.navigation.pages.factory" title="Créer des pages avec la fabrique">page factory</a>.
                If the first key is not numeric, the array/config will be
                passed to the page factory directly, and a single page will
                be returned.
            </p>
        </td></tr>
</table></div>

        <p>
            The helper also supports magic methods for finding relations.
            E.g. to find forward alternate relations, call
            <code class="code">$helper-&gt;findRelAlternate($page)</code>, and to find
            reverse section relations, call
            <code class="code">$helper-&gt;findRevSection($page)</code>. Those calls correspond
            to <code class="code">$helper-&gt;findRelation($page, 'rel', 'alternate');</code>
            and <code class="code">$helper-&gt;findRelation($page, 'rev', 'section');</code>
            respectively.
        </p>

        <p>
            To customize which relations should be rendered, the helper
            uses a render flag. The render flag is an integer value, and will be
            used in a
            <a class="ulink" href="http://php.net/manual/en/language.operators.bitwise.php" target="_top">bitwse
            <code class="code">and</code> (<code class="code">&amp;</code>) operation</a> against the
            helper's render constants to determine if the relation that belongs
            to the render constant should be rendered.
        </p>

        <p>
            See the
            <a class="link" href="zend.view.helpers.html#zend.view.helpers.initial.navigation.links.example3" title="Exemple 990. Specify which relations to render">example
            below</a> for more information.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_ALTERNATE</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_STYLESHEET</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_START</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_NEXT</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_PREV</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CONTENTS</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_INDEX</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_GLOSSARY</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_COPYRIGHT</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CHAPTER</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_SECTION</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_SUBSECTION</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_APPENDIX</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_HELP</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_BOOKMARK</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_CUSTOM</code>
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="constant">Zend_View_Helper_Navigation_Links::RENDER_ALL</code>
                </p>
            </li>
</ul></div>

        <p>
            The constants from <code class="constant">RENDER_ALTERNATE</code> to
            <code class="constant">RENDER_BOOKMARK</code> denote standard <acronym class="acronym">HTML</acronym> link types.
            <code class="constant">RENDER_CUSTOM</code> denotes non-standard relations that
            specified in pages. <code class="constant">RENDER_ALL</code> denotes standard and
            non-standard relations.
        </p>

        <p>
            Methods in the links helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}RenderFlag()</code> gets/sets the render
                    flag. Default is <code class="constant">RENDER_ALL</code>. See examples
                    below on how to set the render flag.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">findAllRelations()</code> finds all relations of
                    all types for a given page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">findRelation()</code> finds all relations of a given
                    type from a given page.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">searchRel{Start|Next|Prev|Chapter|Section|Subsection}()</code>
                    traverses a container to find forward relations to
                    the start page, the next page, the previous page,
                    chapters, sections, and subsections.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">searchRev{Section|Subsection}()</code> traverses
                    a container to find reverse relations to sections or
                    subsections.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderLink()</code> renders a single <code class="code">link</code>
                    element.
                </p>
            </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example1"></a><p class="title"><b>Exemple 988. Specify relations in pages</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to specify relations in pages.
            </p>

            <pre class="programlisting">
$container = new Zend_Navigation(array(
    array(
        'label' =&gt; 'Relations using strings',
        'rel'   =&gt; array(
            'alternate' =&gt; 'http://www.example.org/'
        ),
        'rev'   =&gt; array(
            'alternate' =&gt; 'http://www.example.net/'
        )
    ),
    array(
        'label' =&gt; 'Relations using arrays',
        'rel'   =&gt; array(
            'alternate' =&gt; array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            )
        )
    ),
    array(
        'label' =&gt; 'Relations using configs',
        'rel'   =&gt; array(
            'alternate' =&gt; new Zend_Config(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    ),
    array(
        'label' =&gt; 'Relations using pages instance',
        'rel'   =&gt; array(
            'alternate' =&gt; Zend_Navigation_Page::factory(array(
                'label' =&gt; 'Example.org',
                'uri'   =&gt; 'http://www.example.org/'
            ))
        )
    )
));
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example2"></a><p class="title"><b>Exemple 989. Default rendering of links</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu from a container
                registered/found in the view helper.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;view-&gt;navigation()-&gt;links(); ?&gt;

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.links.example3"></a><p class="title"><b>Exemple 990. Specify which relations to render</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to specify which relations to find
                and render.
            </p>

            <pre class="programlisting">
Render only start, next, and prev:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_START |
                       Zend_View_Helper_Navigation_Links::RENDER_NEXT |
                       Zend_View_Helper_Navigation_Links::RENDER_PREV);

Output:
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
</pre>

            <pre class="programlisting">
Render only native link types:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CUSTOM);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="chapter" href="/products" title="Products"&gt;
&lt;link rel="chapter" href="/company/about" title="Company"&gt;
&lt;link rel="chapter" href="/community" title="Community"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>

            <pre class="programlisting">
Render all but chapter:
$helper-&gt;setRenderFlag(Zend_View_Helper_Navigation_Links::RENDER_ALL ^
                       Zend_View_Helper_Navigation_Links::RENDER_CHAPTER);

Output:
&lt;link rel="alternate" href="/products/server/faq/format/xml"&gt;
&lt;link rel="start" href="/" title="Home"&gt;
&lt;link rel="next" href="/products/server/editions" title="Editions"&gt;
&lt;link rel="prev" href="/products/server" title="Foo Server"&gt;
&lt;link rel="canonical" href="http://www.example.com/?page=server-faq"&gt;
&lt;link rev="subsection" href="/products/server" title="Foo Server"&gt;
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.menu"></a>Menu Helper</h5></div></div></div>
        

        <p>
            The Menu helper is used for rendering menus from navigation
            containers. By default, the menu will be rendered using
            <acronym class="acronym">HTML</acronym> <code class="code">UL</code> and <code class="code">LI</code> tags, but the helper also
            allows using a partial view script.
        </p>

        <p>
            Methods in the Menu helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}UlClass()</code> gets/sets the <acronym class="acronym">CSS</acronym> class
                    used in <code class="methodname">renderMenu()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ActiveClass()</code> gets/sets the <acronym class="acronym">CSS</acronym> class
                    for the active elements when rendering.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}OnlyActiveBranch()</code> gets/sets a flag
                    specifying whether only the active branch of a container
                    should be rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ExpandSiblingNodesOfActiveBranch()</code>
                    gets/sets a flag specifying whether the sibling nodes of all
                    nodes in the active branch should also be expanded and rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}RenderParents()</code> gets/sets a flag
                    specifying whether parents should be rendered when only
                    rendering active branch of a container. If set to
                    <code class="constant">FALSE</code>, only the deepest active menu will be
                    rendered.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}Partial()</code> gets/sets a partial view
                    script that should be used for rendering menu.
                    If a partial view script is set, the helper's
                    <code class="methodname">render()</code> method will use the
                    <code class="methodname">renderPartial()</code> method. If no partial is
                    set, the <code class="methodname">renderMenu()</code> method is used.
                    The helper expects the partial to be a <span class="type">String</span>
                    or an <span class="type">Array</span> with two elements. If the partial
                    is a <span class="type">String</span>, it denotes the name of the partial
                    script to use. If it is an <span class="type">Array</span>, the first
                    element will be used as the name of the partial view
                    script, and the second element is the module where the
                    script is found.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">htmlify()</code> overrides the method from the
                    abstract class to return <code class="code">span</code> elements
                    if the page has no <code class="code">href</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderMenu($container = null, $options = array())</code>
                    is the default render method, and will render a container as
                    a <acronym class="acronym">HTML</acronym> <code class="code">UL</code> list.
                </p>

                <p>
                    If <code class="varname">$container</code> is not given, the container
                    registered in the helper will be rendered.
                </p>

                <p>
                    <code class="varname">$options</code> is used for overriding options
                    specified temporarily without rsetting the values in the
                    helper instance. It is an associative array where each key
                    corresponds to an option in the helper.
                </p>

                <p>
                    Recognized options:
                </p>

                <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; ">
<li class="listitem">
                        <p>
                            <code class="code">indent</code>; indentation. Expects a
                            <span class="type">String</span> or an <code class="code">int</code>
                            value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">minDepth</code>; minimum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            minimum depth).
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">maxDepth</code>; maximum depth. Expcects
                            an <code class="code">int</code> or <code class="constant">NULL</code> (no
                            maximum depth).
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">ulClass</code>; <acronym class="acronym">CSS</acronym> class for
                            <code class="code">ul</code> element. Expects a
                            <span class="type">String</span>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">activeClass</code>; <acronym class="acronym">CSS</acronym> class for
                            for the active elements when rendering. Expects a
                            <span class="type">String</span>.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">onlyActiveBranch</code>; whether only
                            active branch should be rendered. Expects
                            a <span class="type">Boolean</span> value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">expandSiblingNodesOfActiveBranch</code>;
                            whether the sibling nodes of nodes in the active
                            branch should be expanded and rendered. Expects
                            a <span class="type">Boolean</span> value.
                        </p>
                    </li>
<li class="listitem">
                        <p>
                            <code class="code">renderParents</code>; whether parents
                            should be rendered if only rendering active
                            branch. Expects a <span class="type">Boolean</span> value.
                        </p>
                    </li>
</ul></div>

                <p>
                    If an option is not given, the value set in the helper
                    will be used.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderPartial()</code> is used for rendering the menu
                    using a partial view script.
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="methodname">renderSubMenu()</code> renders the deepest menu level
                    of a container's active branch.
                </p>
            </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example1"></a><p class="title"><b>Exemple 991. Rendering a menu</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu from a container
                registered/found in the view helper. Notice how pages
                are filtered out based on visibility and <acronym class="acronym">ACL</acronym>.
            </p>

            <pre class="programlisting">
In a view script or layout:
&lt;?php echo $this-&gt;navigation()-&gt;menu()-&gt;render() ?&gt;

Or simply:
&lt;?php echo $this-&gt;navigation()-&gt;menu() ?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li&gt;
                        &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/archive"&gt;Archive&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example2"></a><p class="title"><b>Exemple 992. Calling renderMenu() directly</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a menu that is not
                registered in the view helper by calling the
                <code class="methodname">renderMenu()</code> directly and specifying a few
                options.
            </p>

            <pre class="programlisting">
&lt;?php
// render only the 'Community' menu
$community = $this-&gt;navigation()-&gt;findOneByLabel('Community');
$options = array(
    'indent'  =&gt; 16,
    'ulClass' =&gt; 'community'
);
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderMenu($community, $options);
?&gt;
Output:
                &lt;ul class="community"&gt;
                    &lt;li&gt;
                        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example3"></a><p class="title"><b>Exemple 993. Rendering the deepest active menu</b></p>
<div class="example-contents">
            

            <p>
                This example shows how the <code class="methodname">renderSubMenu()</code>
                will render the deepest sub menu of the active branch.
            </p>

            <p>
                Calling <code class="methodname">renderSubMenu($container, $ulClass, $indent)</code>
                is equivalent to calling <code class="methodname">renderMenu($container, $options)</code>
                with the following options:
            </p>

            <pre class="programlisting">
array(
    'ulClass'          =&gt; $ulClass,
    'indent'           =&gt; $indent,
    'minDepth'         =&gt; null,
    'maxDepth'         =&gt; null,
    'onlyActiveBranch' =&gt; true,
    'renderParents'    =&gt; false
);
</pre>

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;renderSubMenu(null, 'sidebar', 4);
?&gt;

The output will be the same if 'FAQ' or 'Foo Server' is active:
    &lt;ul class="sidebar"&gt;
        &lt;li class="active"&gt;
            &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
        &lt;/li&gt;
        &lt;li&gt;
            &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example4"></a><p class="title"><b>Exemple 994. Rendering a menu with maximum depth</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example5"></a><p class="title"><b>Exemple 995. Rendering a menu with minimum depth</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/products/studio/customers"&gt;Customer Stories&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/prodcts/studio/support"&gt;Support&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/company/about/investors"&gt;Investor Relations&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="rss" href="/company/news"&gt;News&lt;/a&gt;
        &lt;ul&gt;
            &lt;li&gt;
                &lt;a href="/company/news/press"&gt;Press Releases&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/archive"&gt;Archive&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community/account"&gt;My Account&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a class="external" href="http://forums.example.com/"&gt;Forums&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example6"></a><p class="title"><b>Exemple 996. Rendering only the active branch of a menu</b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example7"></a><p class="title"><b>Exemple 997. 
                Rendering only the active branch of a menu with minimum depth
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMinDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example8"></a><p class="title"><b>Exemple 998. 
                Rendering only the active branch of a menu with maximum depth
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example9"></a><p class="title"><b>Exemple 999. 
                Rendering only the active branch of a menu with maximum depth
                and no parents
            </b></p>
<div class="example-contents">
            

            <p>
            </p>

            <pre class="programlisting">
&lt;?php
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setOnlyActiveBranch(true)
          -&gt;setRenderParents(false)
          -&gt;setMaxDepth(1);
?&gt;

Output:
&lt;ul class="navigation"&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example10"></a><p class="title"><b>Exemple 1000. Rendering a custom menu using a partial view script</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render a custom menu using
                a partial vew script. By calling <code class="methodname">setPartial()</code>,
                you can specify a partial view script that will be used
                when calling <code class="methodname">render()</code>. When a partial is specified,
                the <code class="methodname">renderPartial()</code> method will be called. This
                method will assign the container to the view with the key
                <code class="code">container</code>.
            </p>

            <p>In a layout:</p>

            <pre class="programlisting">
$partial = array('menu.phtml', 'default');
$this-&gt;navigation()-&gt;menu()-&gt;setPartial($partial);
echo $this-&gt;navigation()-&gt;menu()-&gt;render();
</pre>

            <p>In application/modules/default/views/menu.phtml:</p>

            <pre class="programlisting">
foreach ($this-&gt;container as $page) {
    echo $this-&gt;navigation()-&gt;menu()-&gt;htmlify($page), PHP_EOL;
}
</pre>

            <p>Output:</p>

            <pre class="programlisting">
&lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
&lt;a href="/products"&gt;Products&lt;/a&gt;
&lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
&lt;a href="/community"&gt;Community&lt;/a&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="example">
<a name="zend.view.helpers.initial.navigation.menu.example11"></a><p class="title"><b>Exemple 1001. 
                Rendering only the active branch and all siblings of the active branch
            </b></p>
<div class="example-contents">
            

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;menu()
          -&gt;setExpandSiblingNodesOfActiveBranch(true);
</pre>

            <p>Output:</p>

            <pre class="programlisting">
&lt;ul class="navigation"&gt;
    &lt;li&gt;
        &lt;a title="Go Home" href="/"&gt;Home&lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="active"&gt;
        &lt;a href="/products"&gt;Products&lt;/a&gt;
        &lt;ul&gt;
            &lt;li class="active"&gt;
                &lt;a href="/products/server"&gt;Foo Server&lt;/a&gt;
                &lt;ul&gt;
                    &lt;li class="active"&gt;
                        &lt;a href="/products/server/faq"&gt;FAQ&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/editions"&gt;Editions&lt;/a&gt;
                    &lt;/li&gt;
                    &lt;li&gt;
                        &lt;a href="/products/server/requirements"&gt;System Requirements&lt;/a&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/li&gt;
            &lt;li&gt;
                &lt;a href="/products/studio"&gt;Foo Studio&lt;/a&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a title="About us" href="/company/about"&gt;Company&lt;/a&gt;
    &lt;/li&gt;
    &lt;li&gt;
        &lt;a href="/community"&gt;Community&lt;/a&gt;
    &lt;/li&gt;
&lt;/ul&gt;
</pre>
        </div>
</div>
<br class="example-break">
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.sitemap"></a>Sitemap Helper</h5></div></div></div>
        

        <p>
            The Sitemap helper is used for generating <acronym class="acronym">XML</acronym> sitemaps, as
            defined by the <a class="ulink" href="http://www.sitemaps.org/protocol.php" target="_top">Sitemaps <acronym class="acronym">XML</acronym>
                format</a>. Read more about <a class="ulink" href="http://en.wikipedia.org/wiki/Sitemaps" target="_top">Sitemaps on Wikpedia</a>.
        </p>

        <p>
            By default, the sitemap helper uses
            <a class="link" href="zend.validate.set.html#zend.validate.sitemap" title="Validateurs de Sitemap">sitemap validators</a>
            to validate each element that is rendered. This can be disabled by
            calling <code class="code">$helper-&gt;setUseSitemapValidators(false)</code>.
        </p>

        <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
            <p>
                If you disable sitemap validators, the custom properties (see table)
                are not validated at all.
            </p>
        </td></tr>
</table></div>

        <p>
            The sitemap helper also supports <a class="ulink" href="http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd" target="_top">Sitemap XSD
                Schema</a> validation of the generated sitemap. This is disabled by default,
            since it will require a request to the Schema file. It can be
            enabled with
            <code class="code">$helper-&gt;setUseSchemaValidation(true)</code>.
        </p>

        <div class="table">
<a name="zend.view.helpers.initial.navigation.sitemap.elements"></a><p class="title"><b>Tableau 172. Sitemap XML elements</b></p>
<div class="table-contents">
            

            <table class="table" summary="Sitemap XML elements" border="1">
<colgroup>
<col>
<col>
</colgroup>
<thead><tr>
<th>Element</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code class="code">loc</code></td>
<td>
                            Absolute <acronym class="acronym">URL</acronym> to page. An absolute
                            <acronym class="acronym">URL</acronym> will be generated by the helper.
                        </td>
</tr>
<tr>
<td><code class="code">lastmod</code></td>
<td>
                            <p>
                                The date of last modification of the file, in <a class="ulink" href="http://www.w3.org/TR/NOTE-datetime" target="_top">W3C Datetime</a>
                                format. This time portion can be omitted if desired, and only use
                                YYYY-MM-DD.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">lastmod</code> value from the page's
                                custom property <code class="code">lastmod</code> if it
                                is set in the page. If the value is not a
                                valid date, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">changefreq</code></td>
<td>
                            <p>
                                How frequently the page is likely to change.
                                This value provides general information to
                                search engines and may not correlate exactly
                                to how often they crawl the page. Valid
                                values are:
                            </p>

                            <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem"><p>always</p></li>
<li class="listitem"><p>hourly</p></li>
<li class="listitem"><p>daily</p></li>
<li class="listitem"><p>weekly</p></li>
<li class="listitem"><p>monthly</p></li>
<li class="listitem"><p>yearly</p></li>
<li class="listitem"><p>never</p></li>
</ul></div>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">changefreq</code> value from the page's
                                custom property <code class="code">changefreq</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
<tr>
<td><code class="code">priority</code></td>
<td>
                            <p>
                                The priority of this <acronym class="acronym">URL</acronym> relative to other
                                <acronym class="acronym">URL</acronym>s on your site. Valid values range from
                                0.0 to 1.0.
                            </p>

                            <p>
                                The helper will try to retrieve the
                                <code class="code">priority</code> value from the page's
                                custom property <code class="code">priority</code> if it
                                is set in the page. If the value is not
                                valid, it is ignored.
                            </p>
                        </td>
</tr>
</tbody>
</table>
        </div>
</div>
<br class="table-break">

        <p>
            Methods in the sitemap helper:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="code">{get|set}FormatOutput()</code> gets/sets a flag
                    indicating whether <acronym class="acronym">XML</acronym> output should be formatted. This
                    corresponds to the <code class="code">formatOutput</code> property
                    of the native <code class="classname">DOMDocument</code> class.
                    Read more at
                    <a class="ulink" href="http://php.net/domdocument" target="_top">PHP: DOMDocument - Manual</a>.
                    Default is <code class="constant">FALSE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseXmlDeclaration()</code> gets/sets a
                    flag indicating whether the <acronym class="acronym">XML</acronym> declaration should be
                    included when rendering. Default is <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseSitemapValidators()</code> gets/sets a
                    flag indicating whether sitemap validators should be
                    used when generating the DOM sitemap. Default is
                    <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}UseSchemaValidation()</code> gets/sets a
                    flag indicating whether the helper should use <acronym class="acronym">XML</acronym> Schema
                    validation when generating the DOM sitemap. Default is
                    <code class="constant">FALSE</code>. If <code class="constant">TRUE</code>.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="code">{get|set}ServerUrl()</code> gets/sets server <acronym class="acronym">URL</acronym>
                    that will be prepended to non-absolute <acronym class="acronym">URL</acronym>s in the
                    <code class="methodname">url()</code> method. If no server <acronym class="acronym">URL</acronym> is
                    specified, it will be determined by the helper.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="methodname">url()</code> is used to generate absolute
                    <acronym class="acronym">URL</acronym>s to pages.
                </p>
           </li>
<li class="listitem">
                <p>
                    <code class="methodname">getDomSitemap()</code> generates a DOMDocument
                    from a given container.
                </p>
           </li>
</ul></div>

        <div class="example">
<a name="zend.view.helpers.initial.navigation.sitemap.example"></a><p class="title"><b>Exemple 1002. Rendering an XML sitemap</b></p>
<div class="example-contents">
            

            <p>
                This example shows how to render an <acronym class="acronym">XML</acronym> sitemap based
                on the setup we did further up.
            </p>

            <pre class="programlisting">
// In a view script or layout:

// format output
$this-&gt;navigation()
      -&gt;sitemap()
      -&gt;setFormatOutput(true); // default is false

// other possible methods:
// -&gt;setUseXmlDeclaration(false); // default is true
// -&gt;setServerUrl('http://my.otherhost.com');
// default is to detect automatically

// print sitemap
echo $this-&gt;navigation()-&gt;sitemap();
</pre>

            <p>
                Notice how pages that are invisible or pages with
                <acronym class="acronym">ACL</acronym> roles incompatible with the view helper are filtered
                out:
            </p>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>

            <p>
                Render the sitemap using no <acronym class="acronym">ACL</acronym> role (should filter out
                /community/account):
            </p>

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setRole();
</pre>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/faq&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/editions&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server/requirements&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio/customers&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/prodcts/studio/support&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news/press&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/archive&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>

            <p>
                Render the sitemap using a maximum depth of 1.
            </p>

            <pre class="programlisting">
echo $this-&gt;navigation()
          -&gt;sitemap()
          -&gt;setFormatOutput(true)
          -&gt;setMaxDepth(1);
</pre>

            <pre class="programlisting">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9"&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/server&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/products/studio&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/about/investors&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/company/news&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://www.example.com/community/account&lt;/loc&gt;
  &lt;/url&gt;
  &lt;url&gt;
    &lt;loc&gt;http://forums.example.com/&lt;/loc&gt;
  &lt;/url&gt;
&lt;/urlset&gt;
</pre>
        </div>
</div>
<br class="example-break">

        <div class="note"><table border="0" summary="Note: UTF-8 encoding used by default">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">UTF-8 encoding used by default</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                By default, Zend Framework uses <acronym class="acronym">UTF-8</acronym> as its default encoding,
                and, specific to this case, <code class="classname">Zend_View</code> does as well. Character
                encoding can be set differently on the view object itself using the
                <code class="methodname">setEncoding()</code> method (or the
                <code class="varname">encoding</code> instantiation parameter). However, since
                <code class="classname">Zend_View_Interface</code> does not define accessors for encoding,
                it's possible that if you are using a custom view implementation with the Dojo view
                helper, you will not have a <code class="methodname">getEncoding()</code> method, which is
                what the view helper uses internally for determining the character set in which to
                encode.
            </p>

            <p>
                If you do not want to utilize <acronym class="acronym">UTF-8</acronym> in such a situation, you will
                need to implement a <code class="methodname">getEncoding()</code> method in your custom
                view implementation.
            </p>
        </td></tr>
</table></div>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.navigation.navigation"></a>Navigation Helper</h5></div></div></div>
        

        <p>
            The Navigation helper is a proxy helper
            that relays calls to other navigational helpers. It can be
            considered an entry point to all navigation-related view tasks.
            The aforementioned navigational helpers are in the namespace
            <code class="classname">Zend_View_Helper_Navigation</code>, and would thus require
            the path <code class="code">Zend/View/Helper/Navigation</code> to be added as
            a helper path to the view. With the proxy helper residing in the
            <code class="classname">Zend_View_Helper</code> namespace, it will always be
            available, without the need to add any helper paths to the view.
        </p>

        <p>
            The Navigation helper finds other helpers that implement the
            <code class="classname">Zend_View_Helper_Navigation_Helper</code>
            interface, which means custom view helpers can also be proxied.
            This would, however, require that the custom helper path is added
            to the view.
        </p>

        <p>
            When proxying to other helpers, the Navigation helper can inject
            its container, <acronym class="acronym">ACL</acronym>/role, and translator. This means that you
            won't have to explicitly set all three in all navigational
            helpers, nor resort to injecting by means of
            <code class="classname">Zend_Registry</code> or static methods.
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
               <p>
                   <code class="methodname">findHelper()</code> finds the given helper,
                   verifies that it is a navigational helper, and injects
                   container, <acronym class="acronym">ACL</acronym>/role and translator.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectContainer()</code> gets/sets a flag
                   indicating whether the container should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectAcl()</code> gets/sets a flag
                   indicating whether the <acronym class="acronym">ACL</acronym>/role should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}InjectTranslator()</code> gets/sets a flag
                   indicating whether the translator should be injected to
                   proxied helpers. Default is <code class="constant">TRUE</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="code">{get|set}DefaultProxy()</code> gets/sets the default
                   proxy. Default is <code class="code">'menu'</code>.
               </p>
           </li>
<li class="listitem">
               <p>
                   <code class="methodname">render()</code> proxies to the render method of
                   the default proxy.
               </p>
           </li>
</ul></div>
    </div>
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.translate"></a>L'aide de vue Translate</h4></div></div></div>
    

    <p>
        Souvent le sites Web sont disponibles en plusieurs langues. Pour traduire le contenu
        d'un site, vous pouvez simplement utiliser <a class="link" href="zend.translate.introduction.html" title="Introduction">Zend
        Translate</a> et pour intégrer <code class="code">Zend Translate</code> à l'intérieur de vos vues,
        vous devriez utiliser l'aide de vue <code class="code">Translate</code>.
    </p>

    <p>
        Dans tous les exemples suivants nous allons utiliser l'adaptateur de traduction
        <code class="code">Array</code>. Bien sûr vous pouvez aussi utiliser toute instance de
        <code class="classname">Zend_Translate</code> ainsi que toutes sous-classes de
        <code class="classname">Zend_Translate_Adapter</code>. Il y a plusieurs manières d'initialiser
        l'aide de vue <code class="code">Translate</code> :
    </p>

    <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
            <p>enregistré préalablement dans <code class="classname">Zend_Registry</code></p>
        </li>
<li class="listitem">
            <p>après, par l'interface fluide</p>
        </li>
<li class="listitem">
            <p>directement en initialisant la classe</p>
        </li>
</ul></div>

    <p>
        Une instance préalablement enregistré de <code class="classname">Zend_Translate</code> est
        l'utilisation préférée pour cette aide. Vous pouvez ainsi sélectionner la locale à utiliser
        avant d'ajouter l'adaptateur dans le registre.
    </p>

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Nous parlons de locales et non de langues car une langue peut aussi contenir une
            région. Par exemple l'anglais est parlé en différents dialectes. Il peut y avoir une
            traduction pour l'anglais et une pour l'américain. Ainsi, nous disons "locale" plutôt
            que "langues".
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.translate.registered"></a><p class="title"><b>Exemple 1003. Instance enregistrée</b></p>
<div class="example-contents">
        

        <p>
            Pour utiliser une instance enregistrée, créez une instance de
            <code class="classname">Zend_Translate</code> ou <code class="classname">Zend_Translate_Adapter</code>
            et enregistrez la dans <code class="classname">Zend_Registry</code> en utilisant la clé
            <code class="classname">Zend_Translate</code>.
        </p>

        <pre class="programlisting">
// notre adaptateur d'exemple
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);
Zend_Registry::set('Zend_Translate', $adapter);

// à l'intérieur de votre vue
echo $this-&gt;translate('simple');
// ceci retourne 'einfach'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Si vous êtes plus familier avec l'interface fluide, alors vous pouvez aussi créer une
        instance à l'intérieur de votre vue et initialiser l'aide ensuite.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.afterwards"></a><p class="title"><b>Exemple 1004. A l'intérieur de la vue</b></p>
<div class="example-contents">
        

        <p>
            Pour utiliser l'interface fluide, créez une instance de
            <code class="classname">Zend_Translate</code> ou <code class="classname">Zend_Translate_Adapter</code>,
            appelez l'aide sans paramètres, et appelez la méthode
            <code class="methodname">setTranslator()</code>.
        </p>

        <pre class="programlisting">
// à l'intérieur de votre vue
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);
$this-&gt;translate()-&gt;setTranslator($adapter)-&gt;translate('simple');
// ceci retourne 'einfach'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Si vous utilisez votre aide sans <code class="classname">Zend_View</code>, alors vous pouvez
        aussi l'utiliser directement.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.directly"></a><p class="title"><b>Exemple 1005. Utilisation directe</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// notre adaptateur d'exemple
$adapter = new Zend_Translate(
    array(
        'adapter' =&gt; 'array',
        'content' =&gt; array('simple' =&gt; 'einfach'),
        'locale'  =&gt; 'de'
    )
);

// initialiser l'adaptateur
$translate = new Zend_View_Helper_Translate($adapter);
print $translate-&gt;translate('simple');
// ceci retourne 'einfach'
</pre>

        <p>
            Vous devriez utiliser cette façon de faire si vous ne travaillez pas avec
            <code class="classname">Zend_View</code> et que vous avez besoin de créer des affichages
            traduits.
        </p>
    </div>
</div>
<br class="example-break">

    <p>
        Comme vu auparavant, la méthode <code class="methodname">translate()</code> est utilisé pour retourner la
        traduction. Appelez la simplement avec l'identifiant de message de votre adaptateur de
        traduction. Mais il peut aussi avoir à remplacer des paramètres dans la chaîne de
        traduction. Donc, il accepte des paramètres de deux manières : soit comme une liste de
        paramètres, soit comme un tableau de paramètres. Par exemple :
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameter"></a><p class="title"><b>Exemple 1006. Paramètres unique</b></p>
<div class="example-contents">
        

        <p>Pour utiliser un paramètre unique, ajoutez le en fin de méthode :</p>

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = "Monday";
$this-&gt;translate("Today is %1\$s", $date);
// ceci retourne 'Heute ist Monday'
</pre>
    </div>
</div>
<br class="example-break">

    <div class="note"><table border="0" summary="Note">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Note</th>
</tr>
<tr><td align="left" valign="top">
        <p>
            Gardez à l'esprit que si vous utilisez des paramètres qui sont aussi des textes,
            vous pouvez aussi avoir à traduire ces paramètres.
        </p>
    </td></tr>
</table></div>

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameterlist"></a><p class="title"><b>Exemple 1007. Liste de paramètres</b></p>
<div class="example-contents">
        

        <p>Ou utiliser une liste de paramètres et ajoutez les en fin de méthode :</p>

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = "Monday";
$month = "April";
$time = "11:20:55";
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s",
                 $date,
                 $month,
                 $time);
// ceci retourne 'Heute ist Monday in April. Aktuelle Zeit: 11:20:55'
</pre>
    </div>
</div>
<br class="example-break">

    <div class="example">
<a name="zend.view.helpers.initial.translate.parameterarray"></a><p class="title"><b>Exemple 1008. Tableau de paramètres</b></p>
<div class="example-contents">
        

        <p>Ou utiliser un tableau de paramètres et ajoutez le en fin de méthode :</p>

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);
// Could return 'Heute ist Monday in April. Aktuelle Zeit: 11:20:55'
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Parfois il est nécessaire de changer la locale pour une traduction. Ceci peut être
        fait soit dynamiquement par traduction ou statiquement pour toutes les traductions
        suivantes. Et vous pouvez utiliser ceci avec une liste de paramètres ou un tableau de
        paramètres. Dans les deux cas la locale doit être fournie comme un paramètre unique
        final.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.dynamic"></a><p class="title"><b>Exemple 1009. Changement dynamique de la locale</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date, 'it');
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        Cet exemple retourne la traduction italienne pour l'identifiant de message. Mais la
        locale ne sera utilisée qu'une seule fois. La traduction suivante utilisera la locale de
        l'adaptateur. Normalement vous réglerez la locale au niveau de votre adaptateur avant de le
        mettre dans le registre. Mais vous pouvez aussi paramétrer la locale avec l'aide de vue
        :
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.static"></a><p class="title"><b>Exemple 1010. Changement statique de la locale</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = array("Monday", "April", "11:20:55");
$this-&gt;translate()-&gt;setLocale('it');
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);
</pre>
    </div>
</div>
<br class="example-break">

    <p>
        L'exemple ci-dessus paramètre <code class="code">'it'</code> comme nouvelle locale par défaut, elle
        sera utilisée pour toutes les traductions ultérieures.
    </p>

    <p>
        Bien sûr il existe aussi la méthode <code class="methodname">getLocale()</code> pour récupérer le réglage
        courant de la locale.
    </p>

    <div class="example">
<a name="zend.view.helpers.initial.translate.getlocale"></a><p class="title"><b>Exemple 1011. Récupération de la locale courante</b></p>
<div class="example-contents">
        

        <pre class="programlisting">
// à l'intérieur de votre vue
$date = array("Monday", "April", "11:20:55");

// retourne 'de' comme réglé dans les exemples précédents
$this-&gt;translate()-&gt;getLocale();

$this-&gt;translate()-&gt;setLocale('it');
$this-&gt;translate("Today is %1\$s in %2\$s. Actual time: %3\$s", $date);

// retourne 'it' comme nouvelle locale par défaut
$this-&gt;translate()-&gt;getLocale();
</pre>
    </div>
</div>
<br class="example-break">
</div>
        <div class="sect3">
<div class="titlepage"><div><div><h4 class="title">
<a name="zend.view.helpers.initial.user-agent"></a>UserAgent View Helper</h4></div></div></div>
    

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.intro"></a>Overview</h5></div></div></div>
        

        <p>
            This view helper provides the ability to inject and later retrieve a
            <code class="classname">Zend_Http_UserAgent</code> instance for use in branching display logic
            based on device capabilities.
        </p>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.quick-start"></a>Quick Start</h5></div></div></div>
        

        <p>
            In most cases, you can simply retrieve the User-Agent and related device by calling the
            helper. If the <code class="classname">UserAgent</code> was configured in the <a class="link" href="zend.application.available-resources.html#zend.application.available-resources.useragent" title="Zend_Application_Resource_Useragent">
            bootstrap</a>, that instance will be injected already in the helper; otherwise, it
            will instantiate one for you.
        </p>

        <pre class="programlisting">
&lt;?php if ($this-&gt;userAgent()-&gt;getDevice()-&gt;hasFlash()): ?&gt;
    &lt;object ...&gt;&lt;/object&gt;
&lt;?php endif ?&gt;
</pre>

        <p>
            If you initialize the <code class="classname">UserAgent</code> object manually, you can still
            inject it into the helper, in one of two ways.
        </p>

        <pre class="programlisting">
// Pull the helper from the view, and inject:
$helper = $view-&gt;getHelper('userAgent');
$helper-&gt;setUserAgent($userAgent);

// Pass the UserAgent to the helper:
$view-&gt;userAgent($userAgent);
</pre>
    </div>

    <div class="sect4">
<div class="titlepage"><div><div><h5 class="title">
<a name="zend.view.helpers.initial.user-agent.methods"></a>Available Methods</h5></div></div></div>
        

        <div class="variablelist"><dl class="variablelist">
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">userAgent</span>(<span class="methodparam">
                            Zend_Http_UserAgent $userAgent = null
                        </span>);</code>
                </span>
</dt>
<dd>
                    <p>
                        Use this method to set or retrieve the <code class="classname">UserAgent</code>
                        instance. Passing an instance will set it; passing no arguments will retrieve
                        it. If no previous instance has been registered, one will be lazy-loaded using
                        defaults.
                    </p>
                </dd>
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.set-user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">setUserAgent</span>(<span class="methodparam">
                            Zend_Http_UserAgent $userAgent
                        </span>);</code>
                </span>
</dt>
<dd>
                    <p>
                        If you have an instance of the helper -- for instance, by calling the view
                        object's <code class="methodname">getHelper()</code> method -- you may use this method
                        to set the <code class="classname">UserAgent</code> instance.
                    </p>
                </dd>
<dt>
<a name="zend.view.helpers.initial.user-agent.methods.get-user-agent"></a><span class="term">
                    <code class="methodsynopsis"><span class="methodname">getUserAgent</span>();</code>
                </span>
</dt>
<dd>
                    <p>
                        Retrieves the <code class="classname">UserAgent</code> instance; if none is registered,
                        it will lazy-load one using default values.
                    </p>
                </dd>
</dl></div>
    </div>
</div>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.paths"></a>Chemin des aides</h3></div></div></div>
        

        <p>
            Comme pour les scripts de vue, votre contrôleur peut spécifier une pile de chemins
            dans lesquels <code class="classname">Zend_View</code> cherchera les classes d'aides. Par
            défaut, <code class="classname">Zend_View</code> cherche dans "Zend/View/Helper/*". Vous pouvez
            dire à <code class="classname">Zend_View</code> de regarder dans d'autres chemins en utilisant
            les méthodes <code class="methodname">setHelperPath()</code> et <code class="methodname">addHelperPath()</code>. De plus, vous
            pouvez indiquer un préfixe de classe pour utiliser les aides dans le répertoire fourni,
            et permettre de donner des espaces de noms à vos classes d'aide. Par défaut, si aucun
            préfixe n'est fourni, "Zend_View_Helper_" est utilisé.
        </p>

        <pre class="programlisting">
$view = new Zend_View();
$view-&gt;setHelperPath('/chemin/vers/plus/de/classes/d-aides',
                     'Ma_View_Helper');
</pre>

        <p>
            En fait, vous pouvez "empiler" les chemins en utilisant la méthode
            <code class="methodname">addHelperPath()</code>. Comme vous ajoutez des chemins dans la pile,
            <code class="classname">Zend_View</code> va regarder dans le chemin le plus récemment ajouté,
            pour inclure la classe d'aide. Cela vous permet d'ajouter (ou bien de redéfinir) la
            distribution initiale des aides, avec vos propres aides personnalisées.
        </p>

        <pre class="programlisting">
$view = new Zend_View();

// Ajoute /chemin/vers/des/aides avec le préfixe
// de classe 'Ma_View_Helper'
$view-&gt;addHelperPath('/chemin/vers/des/aides',
                     'Ma_View_Helper');
// Ajoute /autre/chemin/vers/des/aides avec le préfixe
// de classe 'Votre_View_Helper'
$view-&gt;addHelperPath('/autre/chemin/vers/des/aides',
                     'Votre_View_Helper');

// maintenant, lorsque vous appelerez $this-&gt;helperName(), Zend_View
// va rechercher en premier /autre/chemin/vers/des/aides/HelperName.php
// en utilisant la classe "Votre_View_Helper_HelperName", et ensuite
// dans /chemin/vers/des/aides/HelperName.php en utilisant la classe
// "Ma_View_Helper_HelperName", et finalement dans
// Zend/View/Helpers/HelperName.php en utilisant la classe
// "Zend_View_Helper_HelperName"
</pre>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.custom"></a>Écrire des aides personnalisées</h3></div></div></div>
        

        <p>
            Écrire des aides personnalisées est facile, vous devez juste suivre ces règles
            :
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    Bien qu'il ne soit pas strictement nécessaire, il est recommandé soit
                    d'implémenter <code class="classname">Zend_View_Helper_Interface</code> ou d'étendre
                    <code class="classname">Zend_View_Helper_Abstract</code> quand vous créez vos aides.
                    Introduit en 1.6.0, ceux-ci définissent la méthode <code class="methodname">setView()</code> ;
                    cependant, dans les prochaines releases, nous prévoyons d'implémenter un motif
                    de conception Stratégie qui permettra de simplifier en grande partie le schéma
                    de nomination détaillé ci-dessous. Contruire sur ces bases à partir de
                    maintenant vous aidera pour vos codes futurs.
                </p>
            </li>
<li class="listitem">
                <p>
                    Le nom de la classe doit, au minimum, se terminer avec le nom de l'aide en
                    utilisant une notation en casseMélangée. Par exemple, si vous écrivez une aide
                    appelée "actionSpeciale", le nom de la classe doit être au minimum
                    "ActionSpeciale". Vous devriez donner au nom de la classe un préfixe, et il est
                    recommandé d'utiliser "Ma_View_Helper" comme partie de ce préfixe :
                    "Ma_View_Helper_ActionSpeciale". (Vous devez alors fournir le préfixe, avec ou
                    sans le tiret bas, à <code class="methodname">addHelperPath()</code> ou à
                    <code class="methodname">setHelperPath()</code>).
                </p>
            </li>
<li class="listitem">
                <p>
                    La classe doit avoir une méthode publique dont le nom correspond au nom de
                    l'aide ; c'est la méthode qui sera appelée quand votre template appellera
                    <code class="code">$this-&gt;actionSpeciale()</code>. Dans notre exemple
                    <code class="code">$this-&gt;actionSpeciale()</code>, la déclaration de méthode requise
                    serait <code class="code">public function actionSpeciale()</code>.
                </p>
            </li>
<li class="listitem">
                <p>
                    En général, la classe ne devrait pas afficher directement les données (via
                    <code class="code">echo</code> ou <code class="code">print</code>). Elle devrait retourner les valeurs
                    pour être ensuite affichées. Les valeurs retournées devrait être échappées de
                    façon appropriées.
                </p>
            </li>
<li class="listitem">
                <p>
                    La classe doit être dans un fichier ayant le même nom que la méthode
                    d'aide. Si on utilise la méthode <code class="methodname">actionSpeciale()</code>, le fichier devra
                    être nommé "ActionSpeciale.php"
                </p>
            </li>
</ul></div>

        <p>
            Placez le fichier de classe d'aide quelque part dans la pile des chemins d'aide,
            et <code class="classname">Zend_View</code> le chargera, l'instanciera, le rendra persistant, et
            l'exécutera automatiquement pour vous.
        </p>

        <p>Voici un exemple de fichier "ActionSpeciale.php" :</p>

        <pre class="programlisting">
class Ma_View_Helper_ActionSpeciale
{
    protected $_count = 0;
    public function actionSpeciale()
    {
        $this-&gt;_count++;
        $output = "J'ai vu 'The Big Lebowsky' {$this-&gt;_count} fois.";
        return htmlspecialchars($output);
    }
}
</pre>

        <p>
            Ensuite, dans un script de vue, vous pouvez appeler l'aide
            <code class="code">ActionSpeciale</code> autant de fois que vous le souhaitez ; elle sera instanciée
            une fois, et rendue persistante pendant toute la vie de l'instance de
            <code class="classname">Zend_View</code>.
        </p>

        <pre class="programlisting">
// rappelez vous, $this se réfère à l'instance de Zend_View
echo $this-&gt;actionSpeciale();
echo $this-&gt;actionSpeciale();
echo $this-&gt;actionSpeciale();
</pre>

        <p>La sortie pourrait alors ressembler à ceci :</p>

        <pre class="programlisting">
J'ai vu 'The Big Lebowsky' 1 fois.
J'ai vu 'The Big Lebowsky' 2 fois.
J'ai vu 'The Big Lebowsky' 3 fois.
</pre>

        <p>
            Quelquefois vous devez accéder à l'objet <code class="classname">Zend_View</code> appelant
            - par exemple, si vous devez utiliser l'encodage enregistré ou voulez effectuer le rendu
            d'un autre script de vue comme une sous partie de votre aide. Pour avoir accès à votre
            objet de vue, votre classe d'aide doit avoir une méthode <code class="methodname">setView($view)</code>,
            comme ceci :
        </p>

        <pre class="programlisting">
class Ma_View_Helper_ScriptPath
{
    public $view;

    public function setView(Zend_View_Interface $view)
    {
        $this-&gt;view = $view;
    }

    public function scriptPath($script)
    {
        return $this-&gt;view-&gt;getScriptPath($script);
    }
}
</pre>

        <p>
            Si votre classe d'aide a une méthode <code class="methodname">setView()</code>, elle sera appelée
            quand votre classe sera instanciée la première fois et fournira l'objet de la vue
            courante. Il est de votre responsabilité de maintenir la persistance de l'objet dans
            votre classe, de même que de déterminer la façon dont il peut être accéder.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="zend.view.helpers.registering-concrete"></a>Registering Concrete Helpers</h3></div></div></div>
        

        <p>
            Sometimes it is convenient to instantiate a view helper, and then register it with the
            view. As of version 1.10.0, this is now possible using the
            <code class="methodname">registerHelper()</code> method, which expects two arguments: the
            helper object, and the name by which it will be registered.
        </p>

        <pre class="programlisting">
$helper = new My_Helper_Foo();
// ...do some configuration or dependency injection...

$view-&gt;registerHelper($helper, 'foo');
</pre>

        <p>
            If the helper has a <code class="methodname">setView()</code> method, the view object will call
            this and inject itself into the helper on registration.
        </p>

        <div class="note"><table border="0" summary="Note: Helper name should match a method">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="images/note.png"></td>
<th align="left">Helper name should match a method</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                The second argument to <code class="methodname">registerHelper()</code> is the name of the
                helper. A corresponding method name should exist in the helper; otherwise,
                <code class="classname">Zend_View</code> will call a non-existent method when invoking the
                helper, raising a fatal PHP error.
            </p>
        </td></tr>
</table></div>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="zend.view.scripts.html">Précédent</a> </td>
<td width="20%" align="center"><a accesskey="u" href="zend.view.html">Niveau supérieur</a></td>
<td width="40%" align="right"> <a accesskey="n" href="zend.view.abstract.html">Suivant</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Scripts de vue </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Sommaire</a></td>
<td width="40%" align="right" valign="top"> Zend_View_Abstract</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
