<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Crie Seu Projeto</title>
<link rel="stylesheet" type="text/css" href="dbstyle.css">
<meta name="generator" content="DocBook XSL Stylesheets V1.79.2">
<link rel="home" href="index.html" title="Guia de Referência do Programador">
<link rel="up" href="learning.quickstart.html" title="Guia Rápido do Zend Framework">
<link rel="prev" href="learning.quickstart.intro.html" title="Introdução ao Zend Framework e ao MVC">
<link rel="next" href="learning.quickstart.create-layout.html" title="Create A Layout">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader"><table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Crie Seu Projeto</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="learning.quickstart.intro.html">Anterior</a> </td>
<th width="60%" align="center">Guia Rápido do Zend Framework</th>
<td width="20%" align="right"> <a accesskey="n" href="learning.quickstart.create-layout.html">Próxima</a>
</td>
</tr>
</table></div>
<div class="sect1">
<div class="titlepage"><div><div><h2 class="title" style="clear: both">
<a name="learning.quickstart.create-project"></a>Crie Seu Projeto</h2></div></div></div>
    

    <p>
        Para criar seu projeto, você primeiro deve baixar e extrair o Zend Framework.
    </p>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.install-zf"></a>Instale o Zend Framework</h3></div></div></div>
        

        <p>
            A maneira mais fácil de obter o Zend Framework junto com uma pilha
            <acronym class="acronym">PHP</acronym> completa é através da instalação do <a class="ulink" href="http://www.zend.com/en/products/server-ce/downloads" target="_top">Zend Server</a>. O
            Zend Server tem instaladores nativos para Mac OSX, Windows, Fedora Core e Ubuntu, bem
            como um pacote de instalação universal compatível com a maioria das distribuições Linux.
        </p>

        <p>
            Depois que você tiver instalado o Zend Server, os arquivos Framework podem ser
            encontrados em <code class="filename">/usr/local/zend/share/ZendFramework</code> no Mac OSX e
            Linux, e em <code class="filename">C:\Program Files\Zend\ZendServer\share\ZendFramework</code> no
            Windows. O <code class="constant">include_path</code> já estará configurado para incluir o Zend
            Framework.
        </p>

        <p>
            Alternadamente, você pode fazer o <a class="ulink" href="http://framework.zend.com/download/latest" target="_top">Download da última versão do Zend
                Framework</a> e extrair os conteúdos; faça nota de onde você fez isso.
        </p>

        <p>
            Opcionalmente, você pode adicionar o caminho do arquivo para o subdiretório
            <code class="filename">library/</code> para a configuração <code class="constant">include_path</code> do
            seu <code class="filename">php.ini</code>.
        </p>

        <p>
            É isso! O Zend Framework agora está instalado e pronto para uso.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.create-project"></a>Crie seu Projeto</h3></div></div></div>
        

        <div class="note"><table border="0" summary="Note: Ferramenta de Linha de Comando zf">
<tr>
<td rowspan="2" align="center" valign="top" width="25"><img alt="[Nota]" src="images/note.png"></td>
<th align="left">Ferramenta de Linha de Comando zf</th>
</tr>
<tr><td align="left" valign="top">
            

            <p>
                Na instalação do Zend Framework tem um subdiretório <code class="filename">bin/</code>,
                contendo os scripts <code class="filename">zf.sh</code> e <code class="filename">zf.bat</code> para
                usuários baseados em Unix e Windows, respectivamente. Faça nota do caminho absoluto
                para este script.
            </p>

            <p>
                Onde quer que você veja referências para o comando <span class="command"><strong>zf</strong></span>, por favor
                substitua o caminho absoluto ao script. Nos sistemas baseados em Unix, você pode
                querer usar a funcionalidade de apelido do shell: <span class="command"><strong>alias
                    zf.sh=path/to/ZendFramework/bin/zf.sh</strong></span>.
            </p>

            <p>
                Se você tiver problemas em configurar a ferramenta de linha de comando
                <span class="command"><strong>zf</strong></span>, por favor dirija-se
                <a class="link" href="zend.tool.framework.clitool.html" title="Using the CLI Tool"> ao manual</a>.
            </p>
        </td></tr>
</table></div>

        <p>
            Abra o terminal (no Windows, <span class="command"><strong>Iniciar -&gt; Executar</strong></span>, e então use
            <span class="command"><strong>cmd</strong></span>). Vá até o diretório onde você gostaria de iniciar um projeto.
            Depois, use o caminho para o script apropriado, e execute um dos seguintes:
        </p>

        <pre class="programlisting">
% zf create project quickstart
</pre>

        <p>
            Executando este comando, será criada a estrutura básica do seu site, incluindo seus
            controladores e visualizações iniciais. A árvore parece com o seguinte:
        </p>

        <pre class="programlisting">
quickstart
|-- application
|   |-- Bootstrap.php
|   |-- configs
|   |   `-- application.ini
|   |-- controllers
|   |   |-- ErrorController.php
|   |   `-- IndexController.php
|   |-- models
|   `-- views
|       |-- helpers
|       `-- scripts
|           |-- error
|           |   `-- error.phtml
|           `-- index
|               `-- index.phtml
|-- library
|-- public
|   |-- .htaccess
|   `-- index.php
`-- tests
    |-- application
    |   `-- bootstrap.php
    |-- library
    |   `-- bootstrap.php
    `-- phpunit.xml
</pre>

        <p>
            Até este ponto, se você não adicionou o Zend Framework para o seu
            <code class="constant">include_path</code>, nós recomendamos também copiar ou criar um link
            simbólico em seu diretório <code class="filename">library/</code>. Em qualquer caso, você vai
            querer copiar recursivamente ou simbolizar o diretório
            <code class="filename">library/Zend/</code> da sua instalação Zend Framework no diretório
            <code class="filename">library/</code> do seu projeto. Nos sistemas baseados em Unix, que
            pareceriam como um dos seguintes:
        </p>

        <pre class="programlisting">
# Symlink:
% cd library; ln -s path/to/ZendFramework/library/Zend .

# Copy:
% cd library; cp -r path/to/ZendFramework/library/Zend .
</pre>

        <p>
            Nos sistemas Windows, pode ser mais fácil fazer isso do Explorer.
        </p>

        <p>
            Agora que o projeto está criado, os artefatos principais para iniciar o entendimento
            são a inicialização da aplicação, configuração, controladores de ação e vizualizações.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.bootstrap"></a>A Inicialização da Aplicação</h3></div></div></div>
        

        <p>
            A classe <code class="classname">Inicialização da Aplicação</code> define quais recursos e
            componentes inicializar. Por padrão, o <a class="link" href="zend.controller.front.html" title="The Front Controller">Controlador
                Frontal</a> do Zend Framework é inicializado, e ele usa o
            <code class="filename">application/controllers/</code> como diretório padrão o qual procura por
            controladores de ação (mais sobre isso mais tarde). A classe parece com o seguinte:
        </p>

        <pre class="programlisting">
// application/Bootstrap.php

class Bootstrap extends Zend_Application_Bootstrap_Bootstrap
{
}
</pre>

        <p>
            As you can see, not much is necessary to begin with.

            Como você pode ver, não é necessário muito para iniciar.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.configuration"></a>Configuração</h3></div></div></div>
        

        <p>
            Enquanto o Zend Framework é em si configuração, muitas vezes você precisa configurar
            sua aplicação. A configuração padrão está localizada em
            <code class="filename">application/configs/application.ini</code>, e contém algumas diretrizes
            básicas para configurar seu ambiente <acronym class="acronym">PHP</acronym> (por exemplo, transformar
            relatório de erros dentro e fora), indicando o caminho para sua classe inicialização da
            aplicação (tão bem como sua classe nome), e o caminho para seus controladores de ação.
            Isso parece com o seguinte:
        </p>

        <pre class="programlisting">
; application/configs/application.ini

[production]
phpSettings.display_startup_errors = 0
phpSettings.display_errors = 0
includePaths.library = APPLICATION_PATH "/../library"
bootstrap.path = APPLICATION_PATH "/Bootstrap.php"
bootstrap.class = "Bootstrap"
appnamespace = "Application"
resources.frontController.controllerDirectory = APPLICATION_PATH "/controllers"
resources.frontController.params.displayExceptions = 0

[staging : production]

[testing : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1

[development : production]
phpSettings.display_startup_errors = 1
phpSettings.display_errors = 1
</pre>

        <p>
            Diversas coisas sobre este arquivo devem ser notadas. Primeiro, quando usar configuração
            de estilo <acronym class="acronym">INI</acronym>, você pode referenciar constantes diretamente e
            expandi-las; <code class="constant">APPLICATION_PATH</code> é na verdade uma constante.
            Adicionalmente note que há várias seções definidas: produção, encenação, teste, e
            desenvolvimento. As últimas três herdam configurações do ambiente "produção". Este é um
            modo eficiente de organizar configurações para assegurar que as configurações
            apropriadas são válidas em cada estágio do desenvolvimento da aplicação.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.action-controllers"></a>Action Controllers</h3></div></div></div>
        

        <p>
            Your application's <span class="emphasis"><em>action controllers</em></span> contain your application
            workflow, and do the work of mapping your requests to the appropriate models and views.
        </p>

        <p>
            An action controller should have one or more methods ending in "Action"; these methods
            may then be requested via the web. By default, Zend Framework URLs follow the schema
            <code class="constant">/controller/action</code>, where "controller" maps to the action
            controller name (minus the "Controller" suffix) and "action" maps to an action method
            (minus the "Action" suffix).
        </p>

        <p>
            Typically, you always need an <code class="classname">IndexController</code>, which is a
            fallback controller and which also serves the home page of the site, and an
            <code class="classname">ErrorController</code>, which is used to indicate things such as
            <acronym class="acronym">HTTP</acronym> 404 errors (controller or action not found) and
            <acronym class="acronym">HTTP</acronym> 500 errors (application errors).
        </p>

        <p>
            The default <code class="classname">IndexController</code> is as follows:
        </p>

        <pre class="programlisting">
// application/controllers/IndexController.php

class IndexController extends Zend_Controller_Action
{

    public function init()
    {
        /* Initialize action controller here */
    }

    public function indexAction()
    {
        // action body
    }
}
</pre>

        <p>
            And the default <code class="classname">ErrorController</code> is as follows:
        </p>

        <pre class="programlisting">
// application/controllers/ErrorController.php

class ErrorController extends Zend_Controller_Action
{

    public function errorAction()
    {
        $errors = $this-&gt;_getParam('error_handler');

        switch ($errors-&gt;type) {
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ROUTE:
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_CONTROLLER:
            case Zend_Controller_Plugin_ErrorHandler::EXCEPTION_NO_ACTION:

                // 404 error -- controller or action not found
                $this-&gt;getResponse()-&gt;setHttpResponseCode(404);
                $this-&gt;view-&gt;message = 'Page not found';
                break;
            default:
                // application error
                $this-&gt;getResponse()-&gt;setHttpResponseCode(500);
                $this-&gt;view-&gt;message = 'Application error';
                break;
        }

        $this-&gt;view-&gt;exception = $errors-&gt;exception;
        $this-&gt;view-&gt;request   = $errors-&gt;request;
    }
}
</pre>

        <p>
            You'll note that (1) the <code class="classname">IndexController</code> contains no real code,
            and (2) the <code class="classname">ErrorController</code> makes reference to a "view" property.
            That leads nicely into our next subject.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.views"></a>Views</h3></div></div></div>
        

        <p>
            Views in Zend Framework are written in plain old <acronym class="acronym">PHP</acronym>. View scripts
            are placed in <code class="filename">application/views/scripts/</code>, where they are further
            categorized using the controller names. In our case, we have an
            <code class="classname">IndexController</code> and an <code class="classname">ErrorController</code>,
            and thus we have corresponding <code class="filename">index/</code> and
            <code class="filename">error/</code> subdirectories within our view scripts directory. Within
            these subdirectories, you will then find and create view scripts that correspond to each
            controller action exposed; in the default case, we thus have the view scripts
            <code class="filename">index/index.phtml</code> and <code class="filename">error/error.phtml</code>.
        </p>

        <p>
            View scripts may contain any markup you want, and use the <span class="emphasis"><em>&lt;?php</em></span>
            opening tag and <span class="emphasis"><em>?&gt;</em></span> closing tag to insert <acronym class="acronym">PHP</acronym>
            directives.
        </p>

        <p>
            The following is what we install by default for the
            <code class="filename">index/index.phtml</code> view script:
        </p>

        <pre class="programlisting">
&lt;!-- application/views/scripts/index/index.phtml --&gt;
&lt;style&gt;

    a:link,
    a:visited
    {
        color: #0398CA;
    }

    span#zf-name
    {
        color: #91BE3F;
    }

    div#welcome
    {
        color: #FFFFFF;
        background-image: url(http://framework.zend.com/images/bkg_header.jpg);
        width:  600px;
        height: 400px;
        border: 2px solid #444444;
        overflow: hidden;
        text-align: center;
    }

    div#more-information
    {
        background-image: url(http://framework.zend.com/images/bkg_body-bottom.gif);
        height: 100%;
    }

&lt;/style&gt;
&lt;div id="welcome"&gt;
    &lt;h1&gt;Welcome to the &lt;span id="zf-name"&gt;Zend Framework!&lt;/span&gt;&lt;h1 /&gt;
    &lt;h3&gt;This is your project's main page&lt;h3 /&gt;
    &lt;div id="more-information"&gt;
        &lt;p&gt;
            &lt;img src="http://framework.zend.com/images/PoweredBy_ZF_4LightBG.png" /&gt;
        &lt;/p&gt;

        &lt;p&gt;
            Helpful Links: &lt;br /&gt;
            &lt;a href="http://framework.zend.com/"&gt;Zend Framework Website&lt;/a&gt; |
            &lt;a href="http://framework.zend.com/manual/en/"&gt;Zend Framework
                Manual&lt;/a&gt;
        &lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>

        <p>
            The <code class="filename">error/error.phtml</code> view script is slightly more interesting as
            it uses some <acronym class="acronym">PHP</acronym> conditionals:
        </p>

        <pre class="programlisting">
&lt;!-- application/views/scripts/error/error.phtml --&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN";
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt;
&lt;head&gt;
  &lt;meta http-equiv="Content-Type" content="text/html; charset=utf-8" /&gt;
  &lt;title&gt;Zend Framework Default Application&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;An error occurred&lt;/h1&gt;
  &lt;h2&gt;&lt;?php echo $this-&gt;message ?&gt;&lt;/h2&gt;

  &lt;?php if ('development' == $this-&gt;env): ?&gt;

  &lt;h3&gt;Exception information:&lt;/h3&gt;
  &lt;p&gt;
      &lt;b&gt;Message:&lt;/b&gt; &lt;?php echo $this-&gt;exception-&gt;getMessage() ?&gt;
  &lt;/p&gt;

  &lt;h3&gt;Stack trace:&lt;/h3&gt;
  &lt;pre&gt;&lt;?php echo $this-&gt;exception-&gt;getTraceAsString() ?&gt;
  &lt;/pre&gt;

  &lt;h3&gt;Request Parameters:&lt;/h3&gt;
  &lt;pre&gt;&lt;?php echo var_export($this-&gt;request-&gt;getParams(), 1) ?&gt;
  &lt;/pre&gt;
  &lt;?php endif ?&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.vhost"></a>Create a virtual host</h3></div></div></div>
        

        <p>
            For purposes of this quick start, we will assume you are using the <a class="ulink" href="http://httpd.apache.org/" target="_top">Apache web server</a>. Zend Framework works
            perfectly well with other web servers -- including Microsoft Internet Information
            Server, lighttpd, nginx, and more -- but most developers should be famililar with Apache
            at the minimum, and it provides an easy introduction to Zend Framework's directory
            structure and rewrite capabilities.
        </p>

        <p>
            To create your vhost, you need to know the location of your
            <code class="filename">httpd.conf</code> file, and potentially where other configuration files
            are located. Some common locations:
        </p>

        <div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; ">
<li class="listitem">
                <p>
                    <code class="filename">/etc/httpd/httpd.conf</code> (Fedora, RHEL, and others)
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="filename">/etc/apache2/httpd.conf</code> (Debian, Ubuntu, and others)
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="filename">/usr/local/zend/etc/httpd.conf</code> (Zend Server on *nix
                    machines)
                </p>
            </li>
<li class="listitem">
                <p>
                    <code class="filename">C:\Program Files\Zend\Apache2\conf</code> (Zend Server on Windows
                    machines)
                </p>
            </li>
</ul></div>

        <p>
            Within your <code class="filename">httpd.conf</code> (or <code class="filename">httpd-vhosts.conf</code>
            on some systems), you will need to do two things. First, ensure that the
            <code class="varname">NameVirtualHost</code> is defined; typically, you will set it to a value of
            "*:80". Second, define a virtual host:
        </p>

        <pre class="programlisting">
&lt;VirtualHost *:80&gt;
    ServerName quickstart.local
    DocumentRoot /path/to/quickstart/public

    SetEnv APPLICATION_ENV "development"

    &lt;Directory /path/to/quickstart/public&gt;
        DirectoryIndex index.php
        AllowOverride All
        Order allow,deny
        Allow from all
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;
</pre>

        <p>
            There are several things to note. First, note that the <code class="varname">DocumentRoot</code>
            setting specifies the <code class="filename">public</code> subdirectory of our project; this
            means that only files under that directory can ever be served directly by the server.
            Second, note the <code class="varname">AllowOverride</code>, <code class="varname">Order</code>, and
            <code class="varname">Allow</code> directives; these are to allow us to use
            <code class="filename">htacess</code> files within our project. During development, this is a
            good practice, as it prevents the need to constantly restart the web server as you make
            changes to your site directives; however, in production, you should likely push the
            content of your <code class="filename">htaccess</code> file into your server configuration and
            disable this. Third, note the <code class="varname">SetEnv</code> directive. What we are doing
            here is setting an environment variable for your virtual host; this variable will be
            picked up in the <code class="filename">index.php</code> and used to set the
            <code class="constant">APPLICATION_ENV</code> constant for our Zend Framework application. In
            production, you can omit this directive (in which case it will default to the value
            "production") or set it explicitly to "production".
        </p>

        <p>
            Finally, you will need to add an entry in your <code class="filename">hosts</code> file
            corresponding to the value you place in your <code class="varname">ServerName</code> directive. On
            *nix-like systems, this is usually <code class="filename">/etc/hosts</code>; on Windows, you'll
            typically find it in <code class="filename">C:\WINDOWS\system32\drivers\etc</code>. Regardless of
            the system, the entry will look like the following:
        </p>

        <pre class="programlisting">
127.0.0.1 quickstart.local
</pre>

        <p>
            Start your webserver (or restart it), and you should be ready to go.
        </p>
    </div>

    <div class="sect2">
<div class="titlepage"><div><div><h3 class="title">
<a name="learning.quickstart.create-project.checkpoint"></a>Checkpoint</h3></div></div></div>
        

        <p>
            At this point, you should be able to fire up your initial Zend Framework application.
            Point your browser to the server name you configured in the previous section; you should
            be able to see a welcome page at this point.
        </p>
    </div>
</div>
<div class="navfooter"><table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="learning.quickstart.intro.html">Anterior</a> </td>
<td width="20%" align="center"><a accesskey="u" href="learning.quickstart.html">Acima</a></td>
<td width="40%" align="right"> <a accesskey="n" href="learning.quickstart.create-layout.html">Próxima</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Introdução ao Zend Framework e ao MVC </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Principal</a></td>
<td width="40%" align="right" valign="top"> Create A Layout</td>
</tr>
</table></div>
<div class="revinfo"></div>
</body>
</html>
